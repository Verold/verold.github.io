<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
 
<title>Studio Components</title>

 
<!-- Mobile viewport optimization h5bp.com/ad -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1"> <!-- allows zoom -->

 
<!-- Mobile IE allows us to activate ClearType technology for smoothing fonts for easy reading -->
<meta http-equiv="cleartype" content="on">
 
  
<link rel="stylesheet" type="text/css" href="styles/styles.css" />


<!--[if lt IE 9]>
  <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
	
</head>


<body>


<header>

	<a class="logo-wrapper" href="#">
		<img src="img/verold-icon.svg" alt="Verold Studio">
	</a>

	<h1>Project Title</h1>


	<!--  STATE SELECTOR ********************************** --> 
	<div class="state-selector draft-state">

		<div class="state-selector-btn">
			<i id="project-state-icon" class="ion-settings"></i>
			<p id="project-state">Draft</p>
			<i class="down-arrow ion-arrow-down-b"></i>
		</div>

		<div class="state-dropdown">
			<ul>
				<li id="draft-option" class="selected-state">
						<i class="state-checkmark ion-checkmark"></i>
					  <i class="state-icon ion-settings"></i>
					  <h3>Draft</h3>
						<h4>project is only visible by you and your collaborators</h4>
				</li>
				<li id="public-option">
						<i class="state-checkmark ion-checkmark"></i>
					  <i class="state-icon ion-earth"></i>
					  <h3>Public</h3>
						<h4>project appears on the public gallery and is embeddable</h4>
				</li>
				<li id="private-option" class="locked-state">
						<i class="state-checkmark ion-checkmark"></i>
					  <i class="state-icon ion-eye-disabled"></i>
					  <h3>Unlisted</h3>
					  <a class="pro-only-badge" href="#" target="_blank">Pro Only</a>
						<h4>project is embeddable but doesn't appear on the public gallery</h4>
				</li>
			</ul>
		</div><!-- /state-dropdown -->

	</div>

	<!-- /STATE SELECTOR ********************************** -->





	<!--  VIEW PROJECT PAGE ********************************** --> 
	<div id="view-in-gallery" class="view-project-page">View in Gallery<i class="ion-share"></i></div>
	<div id="view-private-page" class="view-project-page">View Unlisted Page<i class="ion-share"></i></div>
	<!--  /VIEW PROJECT PAGE ********************************** --> 




	<!--  HEADER BUTTONS ********************************** --> 
	<div class="header-btn"><i class="ion-help-circled"></i>HELP</div>
	<!--  /HEADER BUTTONS ********************************** --> 


</header>


<div class="sidebar"> 

	<ul class="sidebar-tabs">
		<li>INSPECTOR</li>
		<li class="selected-tab">SETTINGS</li>
	</ul>

	<div class="thumbnail">
		<i class="ion-camera"></i>
		<img src="img/thumb.jpg">
	</div>

	<!--  PROJECT MENU ********************************** --> 

	<ul class="project-menu-editor">

		<li><i class="ion-play"></i>Preview</li>
		<!-- <li id="mo-view-project-page" class="locked-menu-option"><i class="ion-share"></i>View Project Page<span>EMBED FROM HERE</span></li> -->
		<li><i class="ion-android-information"></i>Edit Project Info<span><em id="project-info-percentage">0</em>% READY</span></li>
		<li><i class="ion-ios7-browsers"></i>Duplicate</li>
		<li><i class="ion-trash-a"></i>Delete</li>

	</ul>

	<!--  /PROJECT MENU ********************************** --> 

</div><!-- /sidebar -->




<div class="scene-container">

	<div class="scene">


		<div class="shots-panel">
			<div id="shots-scroll-left" class="shots-chevron chevron-left"><i class="ion-chevron-left"></i></div>
			<div id="shots-scroll-right" class="shots-chevron chevron-right"><i class="ion-chevron-right"></i></div>
			<ul class="shot-list sortable">
				<li class="shot-thumb single-shot">
					<ul class="shot-actions">
						<li><i class="duplicate-shot ion-ios7-browsers"></i></li>
						<li><i class="delete-shot ion-trash-a"></i></li>
					</ul>
					<p class="camera-name">Camera #</p>
					<img src="img/thumb.jpg" alt="Shot Thumb">
				</li>
				<li id="add-shot" class="not-sortable"><i class="ion-plus-circled"></i></li>
			</ul>

		</div>


		<div class="camera-preview">
			<img src="img/thumb.jpg">
		</div>

		<div class="sample"></div>

	</div><!--/scene -->

</div><!-- /scene-container -->



<div id="thumbnail-alert" class="dialog-bg">
	<div class="dialog-box">
	<!-- <h3 class="dialog-title">Title</h3> -->
		<div class="dialog-message">
			<p>You must generate a thumbnail before you can make the project public</p>
		</div>
		<button id="generate-thumb" class="dialog-yes">Generate Thumbnail</button>
		<a id="dont-generate-thumb" class="dialog-no" href="#cancel">Cancel </a>
	</div>
</div><!-- /dialog-bg -->


<div id="new-shot" class="dialog-bg">
	<div class="dialog-box">
	<h3 class="dialog-title">New Shot</h3>
		<div class="dialog-message">
				
				<label for="list">Camera:</label>
        <select class"form-list" name="list" id="list" required>
          <option value="" disabled selected>Select a camera</option>
          <option value="camera-1">Camera 1</option>
          <option value="camera-2">Camera 2</option>
          <option value="camera-3">Camera 3</option>
          <option value="camera-4">Camera 4</option>
        </select>

        <p>You can add new cameras from the Scene Graph</p>
		</div>
		<button id="confirm-shot" class="dialog-yes">Create Shot</button>
		<a id="dismiss-shot" class="dialog-no" href="#cancel">Cancel</a>
	</div>
</div><!-- /dialog-bg -->




	
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>

<script type="text/javascript" src="js/jquery.sortable.min.js"></script>



<script>



	$(function(){

		
		$('.state-selector-btn').click(function(){
			$('.state-dropdown').slideToggle('fast');
		});

		$('#draft-option').click(function(){
			$('.state-dropdown ul li').removeClass('selected-state');
			$(this).addClass('selected-state');
			$('.state-selector').removeClass('public-state').removeClass('private-state').addClass('draft-state');
			$('#project-state-icon').removeClass('ion-earth').removeClass('ion-eye-disabled').addClass('ion-settings');
			$('#project-state').html('Draft');
			$('.state-dropdown').slideToggle('fast');
			$('#mo-view-project-page').addClass('locked-menu-option');
			$('.view-project-page').hide();
		});

		$('#public-option').click(function(){
			
			if($('.state-selector').hasClass('draft-state')){
				$('#thumbnail-alert').show();
			}
			else{
				$('.state-dropdown').slideToggle('fast');
			}

		});


		$('#generate-thumb').click(function(){
			$('#thumbnail-alert').hide();
			$('.state-dropdown ul li').removeClass('selected-state');
			$('#public-option').addClass('selected-state');
			$('.state-selector').removeClass('draft-state').removeClass('private-state').addClass('public-state');
			$('#project-state-icon').removeClass('ion-settings').removeClass('ion-eye-disabled').addClass('ion-earth');
			$('#project-state').html('Public');
			$('.state-dropdown').slideToggle('fast');
			$('#mo-view-project-page').removeClass('locked-menu-option');
			$('.view-project-page').hide();
			$('#view-in-gallery').show();
		});

		$('#dont-generate-thumb').click(function(){
			$('#thumbnail-alert').hide();
			$('.state-dropdown').slideToggle('fast');
		});

		$('#private-option').click(function(){
			// MUST CHECK IF USER IS PRO TO UNLOCK
			// $('.state-dropdown ul li').removeClass('selected-state');
			// $(this).addClass('selected-state');
			// $('.state-selector').removeClass('draft-state').removeClass('public-state').addClass('private-state');
			// $('#project-state-icon').removeClass('ion-settings').removeClass('ion-earth').addClass('ion-eye-disabled');
			// $('#project-state').html('Private');
			// $('.state-dropdown').slideToggle('fast');
			// $('.view-project-page').addClass('make-visible');
			// $('#mo-view-project-page').removeClass('locked-menu-option');
			// $('.view-project-page').hide();
			// $('#view-private-page').show();
		});



		// ***********************
		// ******** SHOTS ********
		// ***********************

		var shotWidth = 94,
				addShotWidth = 44, // the add new shot button is 44px wide
				numberOfShots = $('.shots-panel > ul').children().length - 1, // one li is the add shot button
				listWidth = ((numberOfShots*shotWidth)-4),
				shotsPanelWidth = $('.shots-panel').width() - addShotWidth;


		// Variables need to be recalculated as the list changes
		$.fn.recalculateVariables = function(){
			numberOfShots = $('.shots-panel > ul').children().length - 1; // one li is the add shot button
			listWidth = ((numberOfShots*shotWidth)-4);
			shotsPanelWidth = $('.shots-panel').width() - addShotWidth; 
		}


	  // Checks if chevrons are neccesary
	  $.fn.checkChevrons = function(){
			if(listWidth <= shotsPanelWidth){
				$('.shots-chevron').hide();
			}else if(listWidth > shotsPanelWidth && numberOfShots>2){
				$('.shots-chevron').show();
			}
	  }

	  $.fn.hideChevron = function(){
	  	var distanceFromLeft = $('.shots-panel > ul').scrollLeft(),
					distanceFromRight = listWidth - (distanceFromLeft+shotsPanelWidth);

			if (distanceFromLeft == 0){
				$('#shots-scroll-left').hide();
			}else{
				$('#shots-scroll-left').show();
			}

			if (distanceFromRight == 0){
				$('#shots-scroll-right').hide();
			}else{
				$('#shots-scroll-right').show();
			}
	  }
 

	  // Automatically scrolls to always show the Add New Shot button after adding new shot
	  $.fn.autoScroll = function(){
			$(this).recalculateVariables();
			$('.shots-panel > ul').scrollLeft(listWidth);
			$('#shots-scroll-right').hide();
	  }

	  // Last shot standing cant be deleted
	  $.fn.detectSingleShot = function(){
	  	if(numberOfShots==1){
	  		$('.shot-thumb').addClass('single-shot');
	  	}else{
	  		$('.shot-thumb').removeClass('single-shot');
	  	}
	  }


	  $.fn.listHasChanged = function(){
	  	var $this = $(this);
	  	$this.recalculateVariables();
	  	$this.checkChevrons();
	  	$this.hideChevron();
	  	$this.detectSingleShot();
	  	$('.sortable').sortable({
		    items: ':not(.not-sortable)'
			});
	  }

	  $(window).resize(function() {
	  	$(this).recalculateVariables();
		  $(this).checkChevrons();
		  $(this).hideChevron();
		});

	  // Initializes jQuery plugin for rearranging items
		$('.sortable').sortable({
		    items: ':not(.not-sortable)'
		});

	
		// Opens new shot dialog
		$('#add-shot').click(function(){
			$('#new-shot').show();
		});


		// Click on Chevron Right
		$('#shots-scroll-right').click(function(){
			$('.shots-panel > ul').animate({"scrollLeft": $('.shots-panel > ul').scrollLeft() + shotWidth },100)
			
		});

		// Click on Chevron Left
		$('#shots-scroll-left').click(function(){
			$('.shots-panel > ul').animate({"scrollLeft": $('.shots-panel > ul').scrollLeft() - shotWidth },100)
		});


		// Click on any chevron
		$('.shots-chevron').click(function(){

			// vars must be calculated after scrolling
			setTimeout(function(){
				$(this).hideChevron();
			}, 200);

		});


		$('#dismiss-shot').click(function(){
			$('#new-shot').hide();
		});


		// Creates New Shot.
		$('#confirm-shot').click(function(){

			var $this = $(this);

			$('#new-shot').hide();
			$('.shot-thumb').removeClass('selected-shot');

			var shotObject = 
				$('<li></li>',{
					class: 'shot-thumb selected-shot',
					html:  '<ul class="shot-actions">'+
								 	'<li><i class="duplicate-shot ion-ios7-browsers"></i></li>'+
								 	'<li><i class="delete-shot ion-trash-a"></i></li>'+
								 '</ul>'+
								 '<p class="camera-name">Camera #</p>'+
								 '<img src="" alt="">'
				});

			$('#add-shot').before(shotObject);

			$this.autoScroll();
	  	$this.listHasChanged();

		}); 
		


		// Event handlers are bound only to the currently selected elements; they must exist on the page at the time your code makes the call to .on() if you're using $("#dataTable tbody tr").on("click", function(event){});
		//Delegated events have the advantage that they can process events from descendant elements that are added to the document at a later time:  $(staticAncestors).on(eventName, dynamicChild, function() {});


		// Select Shots
		$('.shot-list').on('click', '.shot-thumb', function() {
			$('.shot-thumb').removeClass('selected-shot');
			$(this).addClass('selected-shot');
		});


		// Delete Shot
		$('.shot-list').on('click', '.delete-shot', function() {
				var $this = $(this);
				$this.recalculateVariables();
				$('.shot-thumb').removeClass('selected-shot');
			  $this.closest('.shot-thumb').addClass('selected-shot');

				if(numberOfShots==1){
					return; //the last standing shot cant be deleted
				}else if(numberOfShots>1){	
			  	$('.selected-shot').fadeOut(300, function(){
			  			$('.selected-shot').remove();
					  	$this.listHasChanged();
			  	});
				}

		});


		// Duplicate/Clone Shot
		$('.shot-list').on('click', '.duplicate-shot', function() {
			var $this = $(this);
			var $thisShot = $this.closest('.shot-thumb');
			$thisShot.clone().insertAfter($thisShot);
	  	$this.listHasChanged();
		});
		

	});

</script>


</body>
</html>


<!-- /nonessential stylesheets -->
<link href='http://code.ionicframework.com/ionicons/1.5.2/css/ionicons.min.css' rel='stylesheet' type='text/css'>