var pp_alreadyInitialized,MINIHelpers,ModelPage,MapHelpers,FindRetailer;if(function(n,t){function gt(n){var t=n.length,r=i.type(n);return i.isWindow(n)?!1:1===n.nodeType&&t?!0:"array"===r||"function"!==r&&(0===t||"number"==typeof t&&t>0&&t-1 in n)}function te(n){var t=ni[n]={};return i.each(n.match(s)||[],function(n,i){t[i]=!0}),t}function ur(n,r,u,f){if(i.acceptData(n)){var h,o,c=i.expando,l=n.nodeType,s=l?i.cache:n,e=l?n[c]:n[c]&&c;if(e&&s[e]&&(f||s[e].data)||u!==t||"string"!=typeof r)return e||(e=l?n[c]=b.pop()||i.guid++:c),s[e]||(s[e]=l?{}:{toJSON:i.noop}),("object"==typeof r||"function"==typeof r)&&(f?s[e]=i.extend(s[e],r):s[e].data=i.extend(s[e].data,r)),o=s[e],f||(o.data||(o.data={}),o=o.data),u!==t&&(o[i.camelCase(r)]=u),"string"==typeof r?(h=o[r],null==h&&(h=o[i.camelCase(r)])):h=o,h}}function fr(n,t,r){if(i.acceptData(n)){var e,o,s=n.nodeType,u=s?i.cache:n,f=s?n[i.expando]:i.expando;if(u[f]){if(t&&(e=r?u[f]:u[f].data)){for(i.isArray(t)?t=t.concat(i.map(t,i.camelCase)):(t in e)?t=[t]:(t=i.camelCase(t),t=t in e?[t]:t.split(" ")),o=t.length;o--;)delete e[t[o]];if(r?!ti(e):!i.isEmptyObject(e))return}(r||(delete u[f].data,ti(u[f])))&&(s?i.cleanData([n],!0):i.support.deleteExpando||u!=u.window?delete u[f]:u[f]=null)}}}function er(n,r,u){if(u===t&&1===n.nodeType){var f="data-"+r.replace(rr,"-$1").toLowerCase();if(u=n.getAttribute(f),"string"==typeof u){try{u="true"===u?!0:"false"===u?!1:"null"===u?null:+u+""===u?+u:ir.test(u)?i.parseJSON(u):u}catch(e){}i.data(n,r,u)}else u=t}return u}function ti(n){var t;for(t in n)if(("data"!==t||!i.isEmptyObject(n[t]))&&"toJSON"!==t)return!1;return!0}function ct(){return!0}function g(){return!1}function cr(){try{return r.activeElement}catch(n){}}function ar(n,t){do n=n[t];while(n&&1!==n.nodeType);return n}function fi(n,t,r){if(i.isFunction(t))return i.grep(n,function(n,i){return!!t.call(n,i,n)!==r});if(t.nodeType)return i.grep(n,function(n){return n===t!==r});if("string"==typeof t){if(oe.test(t))return i.filter(t,n,r);t=i.filter(t,n)}return i.grep(n,function(n){return i.inArray(n,t)>=0!==r})}function vr(n){var i=yr.split("|"),t=n.createDocumentFragment();if(t.createElement)while(i.length)t.createElement(i.pop());return t}function gr(n,t){return i.nodeName(n,"table")&&i.nodeName(1===t.nodeType?t:t.firstChild,"tr")?n.getElementsByTagName("tbody")[0]||n.appendChild(n.ownerDocument.createElement("tbody")):n}function nu(n){return n.type=(null!==i.find.attr(n,"type"))+"/"+n.type,n}function tu(n){var t=ye.exec(n.type);return t?n.type=t[1]:n.removeAttribute("type"),n}function hi(n,t){for(var u,r=0;null!=(u=n[r]);r++)i._data(u,"globalEval",!t||i._data(t[r],"globalEval"))}function iu(n,t){if(1===t.nodeType&&i.hasData(n)){var u,f,o,s=i._data(n),r=i._data(t,s),e=s.events;if(e){delete r.handle,r.events={};for(u in e)for(f=0,o=e[u].length;o>f;f++)i.event.add(t,u,e[u][f])}r.data&&(r.data=i.extend({},r.data))}}function be(n,t){var r,f,u;if(1===t.nodeType){if(r=t.nodeName.toLowerCase(),!i.support.noCloneEvent&&t[i.expando]){u=i._data(t);for(f in u.events)i.removeEvent(t,f,u.handle);t.removeAttribute(i.expando)}"script"===r&&t.text!==n.text?(nu(t).text=n.text,tu(t)):"object"===r?(t.parentNode&&(t.outerHTML=n.outerHTML),i.support.html5Clone&&n.innerHTML&&!i.trim(t.innerHTML)&&(t.innerHTML=n.innerHTML)):"input"===r&&oi.test(n.type)?(t.defaultChecked=t.checked=n.checked,t.value!==n.value&&(t.value=n.value)):"option"===r?t.defaultSelected=t.selected=n.defaultSelected:("input"===r||"textarea"===r)&&(t.defaultValue=n.defaultValue)}}function u(n,r){var s,e,h=0,f=typeof n.getElementsByTagName!==o?n.getElementsByTagName(r||"*"):typeof n.querySelectorAll!==o?n.querySelectorAll(r||"*"):t;if(!f)for(f=[],s=n.childNodes||n;null!=(e=s[h]);h++)!r||i.nodeName(e,r)?f.push(e):i.merge(f,u(e,r));return r===t||r&&i.nodeName(n,r)?i.merge([n],f):f}function ke(n){oi.test(n.type)&&(n.defaultChecked=n.checked)}function ou(n,t){if(t in n)return t;for(var r=t.charAt(0).toUpperCase()+t.slice(1),u=t,i=eu.length;i--;)if(t=eu[i]+r,t in n)return t;return u}function ut(n,t){return n=t||n,"none"===i.css(n,"display")||!i.contains(n.ownerDocument,n)}function su(n,t){for(var f,r,o,e=[],u=0,s=n.length;s>u;u++)r=n[u],r.style&&(e[u]=i._data(r,"olddisplay"),f=r.style.display,t?(e[u]||"none"!==f||(r.style.display=""),""===r.style.display&&ut(r)&&(e[u]=i._data(r,"olddisplay",au(r.nodeName)))):e[u]||(o=ut(r),(f&&"none"!==f||!o)&&i._data(r,"olddisplay",o?f:i.css(r,"display"))));for(u=0;s>u;u++)r=n[u],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?e[u]||"":"none"));return n}function hu(n,t,i){var r=to.exec(t);return r?Math.max(0,r[1]-(i||0))+(r[2]||"px"):t}function cu(n,t,r,u,f){for(var e=r===(u?"border":"content")?4:"width"===t?1:0,o=0;4>e;e+=2)"margin"===r&&(o+=i.css(n,r+p[e],!0,f)),u?("content"===r&&(o-=i.css(n,"padding"+p[e],!0,f)),"margin"!==r&&(o-=i.css(n,"border"+p[e]+"Width",!0,f))):(o+=i.css(n,"padding"+p[e],!0,f),"padding"!==r&&(o+=i.css(n,"border"+p[e]+"Width",!0,f)));return o}function lu(n,t,r){var e=!0,u="width"===t?n.offsetWidth:n.offsetHeight,f=v(n),o=i.support.boxSizing&&"border-box"===i.css(n,"boxSizing",!1,f);if(0>=u||null==u){if(u=y(n,t,f),(0>u||null==u)&&(u=n.style[t]),lt.test(u))return u;e=o&&(i.support.boxSizingReliable||u===n.style[t]),u=parseFloat(u)||0}return u+cu(n,t,r||(o?"border":"content"),e,f)+"px"}function au(n){var u=r,t=uu[n];return t||(t=vu(n,u),"none"!==t&&t||(rt=(rt||i("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(u.documentElement),u=(rt[0].contentWindow||rt[0].contentDocument).document,u.write("<!doctype html><html><body>"),u.close(),t=vu(n,u),rt.detach()),uu[n]=t),t}function vu(n,t){var r=i(t.createElement(n)).appendTo(t.body),u=i.css(r[0],"display");return r.remove(),u}function li(n,t,r,u){var f;if(i.isArray(t))i.each(t,function(t,i){r||fo.test(n)?u(n,i):li(n+"["+("object"==typeof i?t:"")+"]",i,r,u)});else if(r||"object"!==i.type(t))u(n,t);else for(f in t)li(n+"["+f+"]",t[f],r,u)}function gu(n){return function(t,r){"string"!=typeof t&&(r=t,t="*");var u,f=0,e=t.toLowerCase().match(s)||[];if(i.isFunction(r))while(u=e[f++])"+"===u[0]?(u=u.slice(1)||"*",(n[u]=n[u]||[]).unshift(r)):(n[u]=n[u]||[]).push(r)}}function nf(n,r,u,f){function o(h){var c;return e[h]=!0,i.each(n[h]||[],function(n,i){var h=i(r,u,f);return"string"!=typeof h||s||e[h]?s?!(c=h):t:(r.dataTypes.unshift(h),o(h),!1)}),c}var e={},s=n===yi;return o(r.dataTypes[0])||!e["*"]&&o("*")}function pi(n,r){var f,u,e=i.ajaxSettings.flatOptions||{};for(u in r)r[u]!==t&&((e[u]?n:f||(f={}))[u]=r[u]);return f&&i.extend(!0,n,f),n}function vo(n,i,r){for(var s,o,f,e,h=n.contents,u=n.dataTypes;"*"===u[0];)u.shift(),o===t&&(o=n.mimeType||i.getResponseHeader("Content-Type"));if(o)for(e in h)if(h[e]&&h[e].test(o)){u.unshift(e);break}if(u[0]in r)f=u[0];else{for(e in r){if(!u[0]||n.converters[e+" "+u[0]]){f=e;break}s||(s=e)}f=f||s}return f?(f!==u[0]&&u.unshift(f),r[f]):t}function yo(n,t,i,r){var h,u,f,s,e,o={},c=n.dataTypes.slice();if(c[1])for(f in n.converters)o[f.toLowerCase()]=n.converters[f];for(u=c.shift();u;)if(n.responseFields[u]&&(i[n.responseFields[u]]=t),!e&&r&&n.dataFilter&&(t=n.dataFilter(t,n.dataType)),e=u,u=c.shift())if("*"===u)u=e;else if("*"!==e&&e!==u){if(f=o[e+" "+u]||o["* "+u],!f)for(h in o)if(s=h.split(" "),s[1]===u&&(f=o[e+" "+s[0]]||o["* "+s[0]])){f===!0?f=o[h]:o[h]!==!0&&(u=s[0],c.unshift(s[1]));break}if(f!==!0)if(f&&n.throws)t=f(t);else try{t=f(t)}catch(l){return{state:"parsererror",error:f?l:"No conversion from "+e+" to "+u}}}return{state:"success",data:t}}function rf(){try{return new n.XMLHttpRequest}catch(t){}}function po(){try{return new n.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function ff(){return setTimeout(function(){it=t}),it=i.now()}function ef(n,t,i){for(var u,f=(ft[t]||[]).concat(ft["*"]),r=0,e=f.length;e>r;r++)if(u=f[r].call(i,t,n))return u}function of(n,t,r){var h,e,o=0,l=pt.length,f=i.Deferred().always(function(){delete c.elem}),c=function(){if(e)return!1;for(var s=it||ff(),t=Math.max(0,u.startTime+u.duration-s),h=t/u.duration||0,i=1-h,r=0,o=u.tweens.length;o>r;r++)u.tweens[r].run(i);return f.notifyWith(n,[u,i,t]),1>i&&o?t:(f.resolveWith(n,[u]),!1)},u=f.promise({elem:n,props:i.extend({},t),opts:i.extend(!0,{specialEasing:{}},r),originalProperties:t,originalOptions:r,startTime:it||ff(),duration:r.duration,tweens:[],createTween:function(t,r){var f=i.Tween(n,u.opts,t,r,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(f),f},stop:function(t){var i=0,r=t?u.tweens.length:0;if(e)return this;for(e=!0;r>i;i++)u.tweens[i].run(1);return t?f.resolveWith(n,[u,t]):f.rejectWith(n,[u,t]),this}}),s=u.props;for(ko(s,u.opts.specialEasing);l>o;o++)if(h=pt[o].call(u,n,s,u.opts))return h;return i.map(s,ef,u),i.isFunction(u.opts.start)&&u.opts.start.call(n,u),i.fx.timer(i.extend(c,{elem:n,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function ko(n,t){var r,f,e,u,o;for(r in n)if(f=i.camelCase(r),e=t[f],u=n[r],i.isArray(u)&&(e=u[1],u=n[r]=u[0]),r!==f&&(n[f]=u,delete n[r]),o=i.cssHooks[f],o&&"expand"in o){u=o.expand(u),delete n[f];for(r in u)r in n||(n[r]=u[r],t[r]=e)}else t[f]=e}function go(n,t,r){var u,a,v,c,e,y,s=this,l={},o=n.style,h=n.nodeType&&ut(n),f=i._data(n,"fxshow");r.queue||(e=i._queueHooks(n,"fx"),null==e.unqueued&&(e.unqueued=0,y=e.empty.fire,e.empty.fire=function(){e.unqueued||y()}),e.unqueued++,s.always(function(){s.always(function(){e.unqueued--,i.queue(n,"fx").length||e.empty.fire()})})),1===n.nodeType&&("height"in t||"width"in t)&&(r.overflow=[o.overflow,o.overflowX,o.overflowY],"inline"===i.css(n,"display")&&"none"===i.css(n,"float")&&(i.support.inlineBlockNeedsLayout&&"inline"!==au(n.nodeName)?o.zoom=1:o.display="inline-block")),r.overflow&&(o.overflow="hidden",i.support.shrinkWrapBlocks||s.always(function(){o.overflow=r.overflow[0],o.overflowX=r.overflow[1],o.overflowY=r.overflow[2]}));for(u in t)if(a=t[u],wo.exec(a)){if(delete t[u],v=v||"toggle"===a,a===(h?"hide":"show"))continue;l[u]=f&&f[u]||i.style(n,u)}if(!i.isEmptyObject(l)){f?"hidden"in f&&(h=f.hidden):f=i._data(n,"fxshow",{}),v&&(f.hidden=!h),h?i(n).show():s.done(function(){i(n).hide()}),s.done(function(){var t;i._removeData(n,"fxshow");for(t in l)i.style(n,t,l[t])});for(u in l)c=ef(h?f[u]:0,u,s),u in f||(f[u]=c.start,h&&(c.end=c.start,c.start="width"===u||"height"===u?1:0))}}function f(n,t,i,r,u){return new f.prototype.init(n,t,i,r,u)}function wt(n,t){var r,i={height:n},u=0;for(t=t?1:0;4>u;u+=2-t)r=p[u],i["margin"+r]=i["padding"+r]=n;return t&&(i.opacity=i.width=n),i}function sf(n){return i.isWindow(n)?n:9===n.nodeType?n.defaultView||n.parentWindow:!1}var et,bi,o=typeof t,hf=n.location,r=n.document,ki=r.documentElement,cf=n.jQuery,lf=n.$,ot={},b=[],bt="1.10.2",di=b.concat,kt=b.push,l=b.slice,gi=b.indexOf,af=ot.toString,k=ot.hasOwnProperty,dt=bt.trim,i=function(n,t){return new i.fn.init(n,t,bi)},st=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,s=/\S+/g,vf=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,yf=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,nr=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,pf=/^[\],:{}\s]*$/,wf=/(?:^|:|,)(?:\s*\[)+/g,bf=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,kf=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,df=/^-ms-/,gf=/-([\da-z])/gi,ne=function(n,t){return t.toUpperCase()},h=function(n){(r.addEventListener||"load"===n.type||"complete"===r.readyState)&&(tr(),i.ready())},tr=function(){r.addEventListener?(r.removeEventListener("DOMContentLoaded",h,!1),n.removeEventListener("load",h,!1)):(r.detachEvent("onreadystatechange",h),n.detachEvent("onload",h))},ni,ir,rr,wi,at,nt,tt,tf,vt;i.fn=i.prototype={jquery:bt,constructor:i,init:function(n,u,f){var e,o;if(!n)return this;if("string"==typeof n){if(e="<"===n.charAt(0)&&">"===n.charAt(n.length-1)&&n.length>=3?[null,n,null]:yf.exec(n),!e||!e[1]&&u)return!u||u.jquery?(u||f).find(n):this.constructor(u).find(n);if(e[1]){if(u=u instanceof i?u[0]:u,i.merge(this,i.parseHTML(e[1],u&&u.nodeType?u.ownerDocument||u:r,!0)),nr.test(e[1])&&i.isPlainObject(u))for(e in u)i.isFunction(this[e])?this[e](u[e]):this.attr(e,u[e]);return this}if(o=r.getElementById(e[2]),o&&o.parentNode){if(o.id!==e[2])return f.find(n);this.length=1,this[0]=o}return this.context=r,this.selector=n,this}return n.nodeType?(this.context=this[0]=n,this.length=1,this):i.isFunction(n)?f.ready(n):(n.selector!==t&&(this.selector=n.selector,this.context=n.context),i.makeArray(n,this))},selector:"",length:0,toArray:function(){return l.call(this)},get:function(n){return null==n?this.toArray():0>n?this[this.length+n]:this[n]},pushStack:function(n){var t=i.merge(this.constructor(),n);return t.prevObject=this,t.context=this.context,t},each:function(n,t){return i.each(this,n,t)},ready:function(n){return i.ready.promise().done(n),this},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(n){var i=this.length,t=+n+(0>n?i:0);return this.pushStack(t>=0&&i>t?[this[t]]:[])},map:function(n){return this.pushStack(i.map(this,function(t,i){return n.call(t,i,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:kt,sort:[].sort,splice:[].splice},i.fn.init.prototype=i.fn,i.extend=i.fn.extend=function(){var u,o,r,e,s,h,n=arguments[0]||{},f=1,l=arguments.length,c=!1;for("boolean"==typeof n&&(c=n,n=arguments[1]||{},f=2),"object"==typeof n||i.isFunction(n)||(n={}),l===f&&(n=this,--f);l>f;f++)if(null!=(s=arguments[f]))for(e in s)u=n[e],r=s[e],n!==r&&(c&&r&&(i.isPlainObject(r)||(o=i.isArray(r)))?(o?(o=!1,h=u&&i.isArray(u)?u:[]):h=u&&i.isPlainObject(u)?u:{},n[e]=i.extend(c,h,r)):r!==t&&(n[e]=r));return n},i.extend({expando:"jQuery"+(bt+Math.random()).replace(/\D/g,""),noConflict:function(t){return n.$===i&&(n.$=lf),t&&n.jQuery===i&&(n.jQuery=cf),i},isReady:!1,readyWait:1,holdReady:function(n){n?i.readyWait++:i.ready(!0)},ready:function(n){if(n===!0?!--i.readyWait:!i.isReady){if(!r.body)return setTimeout(i.ready);i.isReady=!0,n!==!0&&--i.readyWait>0||(et.resolveWith(r,[i]),i.fn.trigger&&i(r).trigger("ready").off("ready"))}},isFunction:function(n){return"function"===i.type(n)},isArray:Array.isArray||function(n){return"array"===i.type(n)},isWindow:function(n){return null!=n&&n==n.window},isNumeric:function(n){return!isNaN(parseFloat(n))&&isFinite(n)},type:function(n){return null==n?n+"":"object"==typeof n||"function"==typeof n?ot[af.call(n)]||"object":typeof n},isPlainObject:function(n){var r;if(!n||"object"!==i.type(n)||n.nodeType||i.isWindow(n))return!1;try{if(n.constructor&&!k.call(n,"constructor")&&!k.call(n.constructor.prototype,"isPrototypeOf"))return!1}catch(u){return!1}if(i.support.ownLast)for(r in n)return k.call(n,r);for(r in n);return r===t||k.call(n,r)},isEmptyObject:function(n){var t;for(t in n)return!1;return!0},error:function(n){throw Error(n);},parseHTML:function(n,t,u){if(!n||"string"!=typeof n)return null;"boolean"==typeof t&&(u=t,t=!1),t=t||r;var f=nr.exec(n),e=!u&&[];return f?[t.createElement(f[1])]:(f=i.buildFragment([n],t,e),e&&i(e).remove(),i.merge([],f.childNodes))},parseJSON:function(r){return n.JSON&&n.JSON.parse?n.JSON.parse(r):null===r?r:"string"==typeof r&&(r=i.trim(r),r&&pf.test(r.replace(bf,"@").replace(kf,"]").replace(wf,"")))?Function("return "+r)():(i.error("Invalid JSON: "+r),t)},parseXML:function(r){var u,f;if(!r||"string"!=typeof r)return null;try{n.DOMParser?(f=new DOMParser,u=f.parseFromString(r,"text/xml")):(u=new ActiveXObject("Microsoft.XMLDOM"),u.async="false",u.loadXML(r))}catch(e){u=t}return u&&u.documentElement&&!u.getElementsByTagName("parsererror").length||i.error("Invalid XML: "+r),u},noop:function(){},globalEval:function(t){t&&i.trim(t)&&(n.execScript||function(t){n.eval.call(n,t)})(t)},camelCase:function(n){return n.replace(df,"ms-").replace(gf,ne)},nodeName:function(n,t){return n.nodeName&&n.nodeName.toLowerCase()===t.toLowerCase()},each:function(n,t,i){var u,r=0,f=n.length,e=gt(n);if(i){if(e){for(;f>r;r++)if(u=t.apply(n[r],i),u===!1)break}else for(r in n)if(u=t.apply(n[r],i),u===!1)break}else if(e){for(;f>r;r++)if(u=t.call(n[r],r,n[r]),u===!1)break}else for(r in n)if(u=t.call(n[r],r,n[r]),u===!1)break;return n},trim:dt&&!dt.call("﻿ ")?function(n){return null==n?"":dt.call(n)}:function(n){return null==n?"":(n+"").replace(vf,"")},makeArray:function(n,t){var r=t||[];return null!=n&&(gt(Object(n))?i.merge(r,"string"==typeof n?[n]:n):kt.call(r,n)),r},inArray:function(n,t,i){var r;if(t){if(gi)return gi.call(t,n,i);for(r=t.length,i=i?0>i?Math.max(0,r+i):i:0;r>i;i++)if(i in t&&t[i]===n)return i}return-1},merge:function(n,i){var f=i.length,u=n.length,r=0;if("number"==typeof f)for(;f>r;r++)n[u++]=i[r];else while(i[r]!==t)n[u++]=i[r++];return n.length=u,n},grep:function(n,t,i){var u,f=[],r=0,e=n.length;for(i=!!i;e>r;r++)u=!!t(n[r],r),i!==u&&f.push(n[r]);return f},map:function(n,t,i){var u,r=0,e=n.length,o=gt(n),f=[];if(o)for(;e>r;r++)u=t(n[r],r,i),null!=u&&(f[f.length]=u);else for(r in n)u=t(n[r],r,i),null!=u&&(f[f.length]=u);return di.apply([],f)},guid:1,proxy:function(n,r){var f,u,e;return"string"==typeof r&&(e=n[r],r=n,n=e),i.isFunction(n)?(f=l.call(arguments,2),u=function(){return n.apply(r||this,f.concat(l.call(arguments)))},u.guid=n.guid=n.guid||i.guid++,u):t},access:function(n,r,u,f,e,o,s){var h=0,l=n.length,c=null==u;if("object"===i.type(u)){e=!0;for(h in u)i.access(n,r,h,u[h],!0,o,s)}else if(f!==t&&(e=!0,i.isFunction(f)||(s=!0),c&&(s?(r.call(n,f),r=null):(c=r,r=function(n,t,r){return c.call(i(n),r)})),r))for(;l>h;h++)r(n[h],u,s?f:f.call(n[h],h,r(n[h],u)));return e?n:c?r.call(n):l?r(n[0],u):o},now:function(){return+new Date},swap:function(n,t,i,r){var f,u,e={};for(u in t)e[u]=n.style[u],n.style[u]=t[u];f=i.apply(n,r||[]);for(u in t)n.style[u]=e[u];return f}}),i.ready.promise=function(t){if(!et)if(et=i.Deferred(),"complete"===r.readyState)setTimeout(i.ready);else if(r.addEventListener)r.addEventListener("DOMContentLoaded",h,!1),n.addEventListener("load",h,!1);else{r.attachEvent("onreadystatechange",h),n.attachEvent("onload",h);var u=!1;try{u=null==n.frameElement&&r.documentElement}catch(e){}u&&u.doScroll&&function f(){if(!i.isReady){try{u.doScroll("left")}catch(n){return setTimeout(f,50)}tr(),i.ready()}}()}return et.promise(t)},i.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(n,t){ot["[object "+t+"]"]=t.toLowerCase()}),bi=i(r),function(n,t){function u(n,t,i,r){var p,u,f,l,w,a,k,c,g,d;if((t?t.ownerDocument||t:y)!==s&&nt(t),t=t||s,i=i||[],!n||"string"!=typeof n)return i;if(1!==(l=t.nodeType)&&9!==l)return[];if(v&&!r){if(p=or.exec(n))if(f=p[1]){if(9===l){if(u=t.getElementById(f),!u||!u.parentNode)return i;if(u.id===f)return i.push(u),i}else if(t.ownerDocument&&(u=t.ownerDocument.getElementById(f))&&ot(t,u)&&u.id===f)return i.push(u),i}else{if(p[2])return b.apply(i,t.getElementsByTagName(n)),i;if((f=p[3])&&e.getElementsByClassName&&t.getElementsByClassName)return b.apply(i,t.getElementsByClassName(f)),i}if(e.qsa&&(!h||!h.test(n))){if(c=k=o,g=t,d=9===l&&n,1===l&&"object"!==t.nodeName.toLowerCase()){for(a=pt(n),(k=t.getAttribute("id"))?c=k.replace(cr,"\\$&"):t.setAttribute("id",c),c="[id='"+c+"'] ",w=a.length;w--;)a[w]=c+wt(a[w]);g=ti.test(n)&&t.parentNode||t,d=a.join(",")}if(d)try{return b.apply(i,g.querySelectorAll(d)),i}catch(tt){}finally{k||t.removeAttribute("id")}}}return pr(n.replace(vt,"$1"),t,i,r)}function ri(){function n(i,u){return t.push(i+=" ")>r.cacheLength&&delete n[t.shift()],n[i]=u}var t=[];return n}function c(n){return n[o]=!0,n}function l(n){var t=s.createElement("div");try{return!!n(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ui(n,t){for(var u=n.split("|"),i=n.length;i--;)r.attrHandle[u[i]]=t}function bi(n,t){var i=t&&n,r=i&&1===n.nodeType&&1===t.nodeType&&(~t.sourceIndex||vi)-(~n.sourceIndex||vi);if(r)return r;if(i)while(i=i.nextSibling)if(i===t)return-1;return n?1:-1}function lr(n){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===n}}function ar(n){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===n}}function rt(n){return c(function(t){return t=+t,c(function(i,r){for(var u,f=n([],i.length,t),e=f.length;e--;)i[u=f[e]]&&(i[u]=!(r[u]=i[u]))})})}function ki(){}function pt(n,t){var e,f,s,o,i,h,c,l=li[n+" "];if(l)return t?0:l.slice(0);for(i=n,h=[],c=r.preFilter;i;){(!e||(f=ir.exec(i)))&&(f&&(i=i.slice(f[0].length)||i),h.push(s=[])),e=!1,(f=rr.exec(i))&&(e=f.shift(),s.push({value:e,type:f[0].replace(vt," ")}),i=i.slice(e.length));for(o in r.filter)(f=yt[o].exec(i))&&(!c[o]||(f=c[o](f)))&&(e=f.shift(),s.push({value:e,type:o,matches:f}),i=i.slice(e.length));if(!e)break}return t?i.length:i?u.error(n):li(n,h).slice(0)}function wt(n){for(var t=0,r=n.length,i="";r>t;t++)i+=n[t].value;return i}function fi(n,t,i){var r=t.dir,u=i&&"parentNode"===r,f=di++;return t.first?function(t,i,f){while(t=t[r])if(1===t.nodeType||u)return n(t,i,f)}:function(t,i,e){var h,s,c,l=p+" "+f;if(e){while(t=t[r])if((1===t.nodeType||u)&&n(t,i,e))return!0}else while(t=t[r])if(1===t.nodeType||u)if(c=t[o]||(t[o]={}),(s=c[r])&&s[0]===l){if((h=s[1])===!0||h===ht)return h===!0}else if(s=c[r]=[l],s[1]=n(t,i,e)||ht,s[1]===!0)return!0}}function ei(n){return n.length>1?function(t,i,r){for(var u=n.length;u--;)if(!n[u](t,i,r))return!1;return!0}:n[0]}function bt(n,t,i,r,u){for(var e,o=[],f=0,s=n.length,h=null!=t;s>f;f++)(e=n[f])&&(!i||i(e,r,u))&&(o.push(e),h&&t.push(f));return o}function oi(n,t,i,r,u,f){return r&&!r[o]&&(r=oi(r)),u&&!u[o]&&(u=oi(u,f)),c(function(f,e,o,s){var l,c,a,p=[],y=[],w=e.length,k=f||yr(t||"*",o.nodeType?[o]:o,[]),v=!n||!f&&t?k:bt(k,p,n,o,s),h=i?u||(f?n:w||r)?[]:e:v;if(i&&i(v,h,o,s),r)for(l=bt(h,y),r(l,[],o,s),c=l.length;c--;)(a=l[c])&&(h[y[c]]=!(v[y[c]]=a));if(f){if(u||n){if(u){for(l=[],c=h.length;c--;)(a=h[c])&&l.push(v[c]=a);u(null,h=[],l,s)}for(c=h.length;c--;)(a=h[c])&&(l=u?it.call(f,a):p[c])>-1&&(f[l]=!(e[l]=a))}}else h=bt(h===e?h.splice(w,h.length):h),u?u(null,e,h,s):b.apply(e,h)})}function si(n){for(var s,u,i,e=n.length,h=r.relative[n[0].type],c=h||r.relative[" "],t=h?1:0,l=fi(function(n){return n===s},c,!0),a=fi(function(n){return it.call(s,n)>-1},c,!0),f=[function(n,t,i){return!h&&(i||t!==lt)||((s=t).nodeType?l(n,t,i):a(n,t,i))}];e>t;t++)if(u=r.relative[n[t].type])f=[fi(ei(f),u)];else{if(u=r.filter[n[t].type].apply(null,n[t].matches),u[o]){for(i=++t;e>i;i++)if(r.relative[n[i].type])break;return oi(t>1&&ei(f),t>1&&wt(n.slice(0,t-1).concat({value:" "===n[t-2].type?"*":""})).replace(vt,"$1"),u,i>t&&si(n.slice(t,i)),e>i&&si(n=n.slice(i)),e>i&&wt(n))}f.push(u)}return ei(f)}function vr(n,t){var f=0,i=t.length>0,e=n.length>0,o=function(o,h,c,l,a){var y,g,k,w=[],d=0,v="0",nt=o&&[],tt=null!=a,it=lt,ut=o||e&&r.find.TAG("*",a&&h.parentNode||h),rt=p+=null==it?1:Math.random()||.1;for(tt&&(lt=h!==s&&h,ht=f);null!=(y=ut[v]);v++){if(e&&y){for(g=0;k=n[g++];)if(k(y,h,c)){l.push(y);break}tt&&(p=rt,ht=++f)}i&&((y=!k&&y)&&d--,o&&nt.push(y))}if(d+=v,i&&v!==d){for(g=0;k=t[g++];)k(nt,w,h,c);if(o){if(d>0)while(v--)nt[v]||w[v]||(w[v]=nr.call(l));w=bt(w)}b.apply(l,w),tt&&!o&&w.length>0&&d+t.length>1&&u.uniqueSort(l)}return tt&&(p=rt,lt=it),nt};return i?c(o):o}function yr(n,t,i){for(var r=0,f=t.length;f>r;r++)u(n,t[r],i);return i}function pr(n,t,i,u){var s,f,o,c,l,h=pt(n);if(!u&&1===h.length){if(f=h[0]=h[0].slice(0),f.length>2&&"ID"===(o=f[0]).type&&e.getById&&9===t.nodeType&&v&&r.relative[f[1].type]){if(t=(r.find.ID(o.matches[0].replace(k,d),t)||[])[0],!t)return i;n=n.slice(f.shift().value.length)}for(s=yt.needsContext.test(n)?0:f.length;s--;){if(o=f[s],r.relative[c=o.type])break;if((l=r.find[c])&&(u=l(o.matches[0].replace(k,d),ti.test(f[0].type)&&t.parentNode||t))){if(f.splice(s,1),n=u.length&&wt(f),!n)return b.apply(i,u),i;break}}}return kt(n,h)(u,t,!v,i,ti.test(n)),i}var ut,e,ht,r,ct,hi,kt,lt,g,nt,s,a,v,h,tt,at,ot,o="sizzle"+-new Date,y=n.document,p=0,di=0,ci=ri(),li=ri(),ai=ri(),ft=!1,dt=function(n,t){return n===t?(ft=!0,0):0},st=typeof t,vi=-2147483648,gi={}.hasOwnProperty,w=[],nr=w.pop,tr=w.push,b=w.push,yi=w.slice,it=w.indexOf||function(n){for(var t=0,i=this.length;i>t;t++)if(this[t]===n)return t;return-1},gt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",f="[\\x20\\t\\r\\n\\f]",et="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",pi=et.replace("w","w#"),wi="\\["+f+"*("+et+")"+f+"*(?:([*^$|!~]?=)"+f+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+pi+")|)|)"+f+"*\\]",ni=":("+et+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+wi.replace(3,8)+")*)|.*)\\)|)",vt=RegExp("^"+f+"+|((?:^|[^\\\\])(?:\\\\.)*)"+f+"+$","g"),ir=RegExp("^"+f+"*,"+f+"*"),rr=RegExp("^"+f+"*([>+~]|"+f+")"+f+"*"),ti=RegExp(f+"*[+~]"),ur=RegExp("="+f+"*([^\\]'\"]*)"+f+"*\\]","g"),fr=RegExp(ni),er=RegExp("^"+pi+"$"),yt={ID:RegExp("^#("+et+")"),CLASS:RegExp("^\\.("+et+")"),TAG:RegExp("^("+et.replace("w","w*")+")"),ATTR:RegExp("^"+wi),PSEUDO:RegExp("^"+ni),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+f+"*(even|odd|(([+-]|)(\\d*)n|)"+f+"*(?:([+-]|)"+f+"*(\\d+)|))"+f+"*\\)|)","i"),bool:RegExp("^(?:"+gt+")$","i"),needsContext:RegExp("^"+f+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+f+"*((?:-\\d)?\\d*)"+f+"*\\)|)(?=[^-]|$)","i")},ii=/^[^{]+\{\s*\[native \w/,or=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,sr=/^(?:input|select|textarea|button)$/i,hr=/^h\d$/i,cr=/'|\\/g,k=RegExp("\\\\([\\da-f]{1,6}"+f+"?|("+f+")|.)","ig"),d=function(n,t,i){var r="0x"+t-65536;return r!==r||i?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(55296|r>>10,56320|1023&r)};try{b.apply(w=yi.call(y.childNodes),y.childNodes),w[y.childNodes.length].nodeType}catch(wr){b={apply:w.length?function(n,t){tr.apply(n,yi.call(t))}:function(n,t){for(var i=n.length,r=0;n[i++]=t[r++];);n.length=i-1}}}hi=u.isXML=function(n){var t=n&&(n.ownerDocument||n).documentElement;return t?"HTML"!==t.nodeName:!1},e=u.support={},nt=u.setDocument=function(n){var i=n?n.ownerDocument||n:y,u=i.defaultView;return i!==s&&9===i.nodeType&&i.documentElement?(s=i,a=i.documentElement,v=!hi(i),u&&u.attachEvent&&u!==u.top&&u.attachEvent("onbeforeunload",function(){nt()}),e.attributes=l(function(n){return n.className="i",!n.getAttribute("className")}),e.getElementsByTagName=l(function(n){return n.appendChild(i.createComment("")),!n.getElementsByTagName("*").length}),e.getElementsByClassName=l(function(n){return n.innerHTML="<div class='a'><\/div><div class='a i'><\/div>",n.firstChild.className="i",2===n.getElementsByClassName("i").length}),e.getById=l(function(n){return a.appendChild(n).id=o,!i.getElementsByName||!i.getElementsByName(o).length}),e.getById?(r.find.ID=function(n,t){if(typeof t.getElementById!==st&&v){var i=t.getElementById(n);return i&&i.parentNode?[i]:[]}},r.filter.ID=function(n){var t=n.replace(k,d);return function(n){return n.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(n){var t=n.replace(k,d);return function(n){var i=typeof n.getAttributeNode!==st&&n.getAttributeNode("id");return i&&i.value===t}}),r.find.TAG=e.getElementsByTagName?function(n,i){return typeof i.getElementsByTagName!==st?i.getElementsByTagName(n):t}:function(n,t){var i,r=[],f=0,u=t.getElementsByTagName(n);if("*"===n){while(i=u[f++])1===i.nodeType&&r.push(i);return r}return u},r.find.CLASS=e.getElementsByClassName&&function(n,i){return typeof i.getElementsByClassName!==st&&v?i.getElementsByClassName(n):t},tt=[],h=[],(e.qsa=ii.test(i.querySelectorAll))&&(l(function(n){n.innerHTML="<select><option selected=''><\/option><\/select>",n.querySelectorAll("[selected]").length||h.push("\\["+f+"*(?:value|"+gt+")"),n.querySelectorAll(":checked").length||h.push(":checked")}),l(function(n){var t=i.createElement("input");t.setAttribute("type","hidden"),n.appendChild(t).setAttribute("t",""),n.querySelectorAll("[t^='']").length&&h.push("[*^$]="+f+"*(?:''|\"\")"),n.querySelectorAll(":enabled").length||h.push(":enabled",":disabled"),n.querySelectorAll("*,:x"),h.push(",.*:")})),(e.matchesSelector=ii.test(at=a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&l(function(n){e.disconnectedMatch=at.call(n,"div"),at.call(n,"[s!='']:x"),tt.push("!=",ni)}),h=h.length&&RegExp(h.join("|")),tt=tt.length&&RegExp(tt.join("|")),ot=ii.test(a.contains)||a.compareDocumentPosition?function(n,t){var r=9===n.nodeType?n.documentElement:n,i=t&&t.parentNode;return n===i||!(!i||1!==i.nodeType||!(r.contains?r.contains(i):n.compareDocumentPosition&&16&n.compareDocumentPosition(i)))}:function(n,t){if(t)while(t=t.parentNode)if(t===n)return!0;return!1},dt=a.compareDocumentPosition?function(n,t){if(n===t)return ft=!0,0;var r=t.compareDocumentPosition&&n.compareDocumentPosition&&n.compareDocumentPosition(t);return r?1&r||!e.sortDetached&&t.compareDocumentPosition(n)===r?n===i||ot(y,n)?-1:t===i||ot(y,t)?1:g?it.call(g,n)-it.call(g,t):0:4&r?-1:1:n.compareDocumentPosition?-1:1}:function(n,t){var r,u=0,o=n.parentNode,s=t.parentNode,f=[n],e=[t];if(n===t)return ft=!0,0;if(!o||!s)return n===i?-1:t===i?1:o?-1:s?1:g?it.call(g,n)-it.call(g,t):0;if(o===s)return bi(n,t);for(r=n;r=r.parentNode;)f.unshift(r);for(r=t;r=r.parentNode;)e.unshift(r);while(f[u]===e[u])u++;return u?bi(f[u],e[u]):f[u]===y?-1:e[u]===y?1:0},i):s},u.matches=function(n,t){return u(n,null,null,t)},u.matchesSelector=function(n,t){if((n.ownerDocument||n)!==s&&nt(n),t=t.replace(ur,"='$1']"),!(!e.matchesSelector||!v||tt&&tt.test(t)||h&&h.test(t)))try{var i=at.call(n,t);if(i||e.disconnectedMatch||n.document&&11!==n.document.nodeType)return i}catch(r){}return u(t,s,null,[n]).length>0},u.contains=function(n,t){return(n.ownerDocument||n)!==s&&nt(n),ot(n,t)},u.attr=function(n,i){(n.ownerDocument||n)!==s&&nt(n);var f=r.attrHandle[i.toLowerCase()],u=f&&gi.call(r.attrHandle,i.toLowerCase())?f(n,i,!v):t;return u===t?e.attributes||!v?n.getAttribute(i):(u=n.getAttributeNode(i))&&u.specified?u.value:null:u},u.error=function(n){throw Error("Syntax error, unrecognized expression: "+n);},u.uniqueSort=function(n){var r,u=[],t=0,i=0;if(ft=!e.detectDuplicates,g=!e.sortStable&&n.slice(0),n.sort(dt),ft){while(r=n[i++])r===n[i]&&(t=u.push(i));while(t--)n.splice(u[t],1)}return n},ct=u.getText=function(n){var r,i="",u=0,t=n.nodeType;if(t){if(1===t||9===t||11===t){if("string"==typeof n.textContent)return n.textContent;for(n=n.firstChild;n;n=n.nextSibling)i+=ct(n)}else if(3===t||4===t)return n.nodeValue}else for(;r=n[u];u++)i+=ct(r);return i},r=u.selectors={cacheLength:50,createPseudo:c,match:yt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(n){return n[1]=n[1].replace(k,d),n[3]=(n[4]||n[5]||"").replace(k,d),"~="===n[2]&&(n[3]=" "+n[3]+" "),n.slice(0,4)},CHILD:function(n){return n[1]=n[1].toLowerCase(),"nth"===n[1].slice(0,3)?(n[3]||u.error(n[0]),n[4]=+(n[4]?n[5]+(n[6]||1):2*("even"===n[3]||"odd"===n[3])),n[5]=+(n[7]+n[8]||"odd"===n[3])):n[3]&&u.error(n[0]),n},PSEUDO:function(n){var r,i=!n[5]&&n[2];return yt.CHILD.test(n[0])?null:(n[3]&&n[4]!==t?n[2]=n[4]:i&&fr.test(i)&&(r=pt(i,!0))&&(r=i.indexOf(")",i.length-r)-i.length)&&(n[0]=n[0].slice(0,r),n[2]=i.slice(0,r)),n.slice(0,3))}},filter:{TAG:function(n){var t=n.replace(k,d).toLowerCase();return"*"===n?function(){return!0}:function(n){return n.nodeName&&n.nodeName.toLowerCase()===t}},CLASS:function(n){var t=ci[n+" "];return t||(t=RegExp("(^|"+f+")"+n+"("+f+"|$)"))&&ci(n,function(n){return t.test("string"==typeof n.className&&n.className||typeof n.getAttribute!==st&&n.getAttribute("class")||"")})},ATTR:function(n,t,i){return function(r){var f=u.attr(r,n);return null==f?"!="===t:t?(f+="","="===t?f===i:"!="===t?f!==i:"^="===t?i&&0===f.indexOf(i):"*="===t?i&&f.indexOf(i)>-1:"$="===t?i&&f.slice(-i.length)===i:"~="===t?(" "+f+" ").indexOf(i)>-1:"|="===t?f===i||f.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(n,t,i,r,u){var s="nth"!==n.slice(0,3),e="last"!==n.slice(-4),f="of-type"===t;return 1===r&&0===u?function(n){return!!n.parentNode}:function(t,i,h){var a,k,c,l,v,w,b=s!==e?"nextSibling":"previousSibling",y=t.parentNode,g=f&&t.nodeName.toLowerCase(),d=!h&&!f;if(y){if(s){while(b){for(c=t;c=c[b];)if(f?c.nodeName.toLowerCase()===g:1===c.nodeType)return!1;w=b="only"===n&&!w&&"nextSibling"}return!0}if(w=[e?y.firstChild:y.lastChild],e&&d){for(k=y[o]||(y[o]={}),a=k[n]||[],v=a[0]===p&&a[1],l=a[0]===p&&a[2],c=v&&y.childNodes[v];c=++v&&c&&c[b]||(l=v=0)||w.pop();)if(1===c.nodeType&&++l&&c===t){k[n]=[p,v,l];break}}else if(d&&(a=(t[o]||(t[o]={}))[n])&&a[0]===p)l=a[1];else while(c=++v&&c&&c[b]||(l=v=0)||w.pop())if((f?c.nodeName.toLowerCase()===g:1===c.nodeType)&&++l&&(d&&((c[o]||(c[o]={}))[n]=[p,l]),c===t))break;return l-=u,l===r||0==l%r&&l/r>=0}}},PSEUDO:function(n,t){var f,i=r.pseudos[n]||r.setFilters[n.toLowerCase()]||u.error("unsupported pseudo: "+n);return i[o]?i(t):i.length>1?(f=[n,n,"",t],r.setFilters.hasOwnProperty(n.toLowerCase())?c(function(n,r){for(var u,f=i(n,t),e=f.length;e--;)u=it.call(n,f[e]),n[u]=!(r[u]=f[e])}):function(n){return i(n,0,f)}):i}},pseudos:{not:c(function(n){var i=[],r=[],t=kt(n.replace(vt,"$1"));return t[o]?c(function(n,i,r,u){for(var e,o=t(n,null,u,[]),f=n.length;f--;)(e=o[f])&&(n[f]=!(i[f]=e))}):function(n,u,f){return i[0]=n,t(i,null,f,r),!r.pop()}}),has:c(function(n){return function(t){return u(n,t).length>0}}),contains:c(function(n){return function(t){return(t.textContent||t.innerText||ct(t)).indexOf(n)>-1}}),lang:c(function(n){return er.test(n||"")||u.error("unsupported lang: "+n),n=n.replace(k,d).toLowerCase(),function(t){var i;do if(i=v?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===n||0===i.indexOf(n+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=n.location&&n.location.hash;return i&&i.slice(1)===t.id},root:function(n){return n===a},focus:function(n){return n===s.activeElement&&(!s.hasFocus||s.hasFocus())&&!!(n.type||n.href||~n.tabIndex)},enabled:function(n){return n.disabled===!1},disabled:function(n){return n.disabled===!0},checked:function(n){var t=n.nodeName.toLowerCase();return"input"===t&&!!n.checked||"option"===t&&!!n.selected},selected:function(n){return n.parentNode&&n.parentNode.selectedIndex,n.selected===!0},empty:function(n){for(n=n.firstChild;n;n=n.nextSibling)if(n.nodeName>"@"||3===n.nodeType||4===n.nodeType)return!1;return!0},parent:function(n){return!r.pseudos.empty(n)},header:function(n){return hr.test(n.nodeName)},input:function(n){return sr.test(n.nodeName)},button:function(n){var t=n.nodeName.toLowerCase();return"input"===t&&"button"===n.type||"button"===t},text:function(n){var t;return"input"===n.nodeName.toLowerCase()&&"text"===n.type&&(null==(t=n.getAttribute("type"))||t.toLowerCase()===n.type)},first:rt(function(){return[0]}),last:rt(function(n,t){return[t-1]}),eq:rt(function(n,t,i){return[0>i?i+t:i]}),even:rt(function(n,t){for(var i=0;t>i;i+=2)n.push(i);return n}),odd:rt(function(n,t){for(var i=1;t>i;i+=2)n.push(i);return n}),lt:rt(function(n,t,i){for(var r=0>i?i+t:i;--r>=0;)n.push(r);return n}),gt:rt(function(n,t,i){for(var r=0>i?i+t:i;t>++r;)n.push(r);return n})}},r.pseudos.nth=r.pseudos.eq;for(ut in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[ut]=lr(ut);for(ut in{submit:!0,reset:!0})r.pseudos[ut]=ar(ut);ki.prototype=r.filters=r.pseudos,r.setFilters=new ki,kt=u.compile=function(n,t){var r,u=[],f=[],i=ai[n+" "];if(!i){for(t||(t=pt(n)),r=t.length;r--;)i=si(t[r]),i[o]?u.push(i):f.push(i);i=ai(n,vr(f,u))}return i},e.sortStable=o.split("").sort(dt).join("")===o,e.detectDuplicates=ft,nt(),e.sortDetached=l(function(n){return 1&n.compareDocumentPosition(s.createElement("div"))}),l(function(n){return n.innerHTML="<a href='#'><\/a>","#"===n.firstChild.getAttribute("href")})||ui("type|href|height|width",function(n,i,r){return r?t:n.getAttribute(i,"type"===i.toLowerCase()?1:2)}),e.attributes&&l(function(n){return n.innerHTML="<input/>",n.firstChild.setAttribute("value",""),""===n.firstChild.getAttribute("value")})||ui("value",function(n,i,r){return r||"input"!==n.nodeName.toLowerCase()?t:n.defaultValue}),l(function(n){return null==n.getAttribute("disabled")})||ui(gt,function(n,i,r){var u;return r?t:(u=n.getAttributeNode(i))&&u.specified?u.value:n[i]===!0?i.toLowerCase():null}),i.find=u,i.expr=u.selectors,i.expr[":"]=i.expr.pseudos,i.unique=u.uniqueSort,i.text=u.getText,i.isXMLDoc=u.isXML,i.contains=u.contains}(n),ni={},i.Callbacks=function(n){n="string"==typeof n?ni[n]||te(n):i.extend({},n);var s,f,c,e,o,l,r=[],u=!n.once&&[],a=function(t){for(f=n.memory&&t,c=!0,o=l||0,l=0,e=r.length,s=!0;r&&e>o;o++)if(r[o].apply(t[0],t[1])===!1&&n.stopOnFalse){f=!1;break}s=!1,r&&(u?u.length&&a(u.shift()):f?r=[]:h.disable())},h={add:function(){if(r){var t=r.length;(function u(t){i.each(t,function(t,f){var e=i.type(f);"function"===e?n.unique&&h.has(f)||r.push(f):f&&f.length&&"string"!==e&&u(f)})})(arguments),s?e=r.length:f&&(l=t,a(f))}return this},remove:function(){return r&&i.each(arguments,function(n,t){for(var u;(u=i.inArray(t,r,u))>-1;)r.splice(u,1),s&&(e>=u&&e--,o>=u&&o--)}),this},has:function(n){return n?i.inArray(n,r)>-1:!(!r||!r.length)},empty:function(){return r=[],e=0,this},disable:function(){return r=u=f=t,this},disabled:function(){return!r},lock:function(){return u=t,f||h.disable(),this},locked:function(){return!u},fireWith:function(n,t){return!r||c&&!u||(t=t||[],t=[n,t.slice?t.slice():t],s?u.push(t):a(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!c}};return h},i.extend({Deferred:function(n){var u=[["resolve","done",i.Callbacks("once memory"),"resolved"],["reject","fail",i.Callbacks("once memory"),"rejected"],["notify","progress",i.Callbacks("memory")]],f="pending",r={state:function(){return f},always:function(){return t.done(arguments).fail(arguments),this},then:function(){var n=arguments;return i.Deferred(function(f){i.each(u,function(u,e){var s=e[0],o=i.isFunction(n[u])&&n[u];t[e[1]](function(){var n=o&&o.apply(this,arguments);n&&i.isFunction(n.promise)?n.promise().done(f.resolve).fail(f.reject).progress(f.notify):f[s+"With"](this===r?f.promise():this,o?[n]:arguments)})}),n=null}).promise()},promise:function(n){return null!=n?i.extend(n,r):r}},t={};return r.pipe=r.then,i.each(u,function(n,i){var e=i[2],o=i[3];r[i[1]]=e.add,o&&e.add(function(){f=o},u[1^n][2].disable,u[2][2].lock),t[i[0]]=function(){return t[i[0]+"With"](this===t?r:this,arguments),this},t[i[0]+"With"]=e.fireWith}),r.promise(t),n&&n.call(t,t),t},when:function(n){var t=0,u=l.call(arguments),r=u.length,e=1!==r||n&&i.isFunction(n.promise)?r:0,f=1===e?n:i.Deferred(),h=function(n,t,i){return function(r){t[n]=this,i[n]=arguments.length>1?l.call(arguments):r,i===o?f.notifyWith(t,i):--e||f.resolveWith(t,i)}},o,c,s;if(r>1)for(o=Array(r),c=Array(r),s=Array(r);r>t;t++)u[t]&&i.isFunction(u[t].promise)?u[t].promise().done(h(t,s,u)).fail(f.reject).progress(h(t,c,o)):--e;return e||f.resolveWith(s,u),f.promise()}}),i.support=function(t){var a,e,f,h,c,l,v,y,s,u=r.createElement("div");if(u.setAttribute("className","t"),u.innerHTML="  <link/><table><\/table><a href='/a'>a<\/a><input type='checkbox'/>",a=u.getElementsByTagName("*")||[],e=u.getElementsByTagName("a")[0],!e||!e.style||!a.length)return t;h=r.createElement("select"),l=h.appendChild(r.createElement("option")),f=u.getElementsByTagName("input")[0],e.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==u.className,t.leadingWhitespace=3===u.firstChild.nodeType,t.tbody=!u.getElementsByTagName("tbody").length,t.htmlSerialize=!!u.getElementsByTagName("link").length,t.style=/top/.test(e.getAttribute("style")),t.hrefNormalized="/a"===e.getAttribute("href"),t.opacity=/^0.5/.test(e.style.opacity),t.cssFloat=!!e.style.cssFloat,t.checkOn=!!f.value,t.optSelected=l.selected,t.enctype=!!r.createElement("form").enctype,t.html5Clone="<:nav><\/:nav>"!==r.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,f.checked=!0,t.noCloneChecked=f.cloneNode(!0).checked,h.disabled=!0,t.optDisabled=!l.disabled;try{delete u.test}catch(p){t.deleteExpando=!1}f=r.createElement("input"),f.setAttribute("value",""),t.input=""===f.getAttribute("value"),f.value="t",f.setAttribute("type","radio"),t.radioValue="t"===f.value,f.setAttribute("checked","t"),f.setAttribute("name","t"),c=r.createDocumentFragment(),c.appendChild(f),t.appendChecked=f.checked,t.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked,u.attachEvent&&(u.attachEvent("onclick",function(){t.noCloneEvent=!1}),u.cloneNode(!0).click());for(s in{submit:!0,change:!0,focusin:!0})u.setAttribute(v="on"+s,"t"),t[s+"Bubbles"]=v in n||u.attributes[v].expando===!1;u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===u.style.backgroundClip;for(s in i(t))break;return t.ownLast="0"!==s,i(function(){var h,e,f,c="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",s=r.getElementsByTagName("body")[0];s&&(h=r.createElement("div"),h.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",s.appendChild(h).appendChild(u),u.innerHTML="<table><tr><td><\/td><td>t<\/td><\/tr><\/table>",f=u.getElementsByTagName("td"),f[0].style.cssText="padding:0;margin:0;border:0;display:none",y=0===f[0].offsetHeight,f[0].style.display="",f[1].style.display="none",t.reliableHiddenOffsets=y&&0===f[0].offsetHeight,u.innerHTML="",u.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",i.swap(s,null!=s.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===u.offsetWidth}),n.getComputedStyle&&(t.pixelPosition="1%"!==(n.getComputedStyle(u,null)||{}).top,t.boxSizingReliable="4px"===(n.getComputedStyle(u,null)||{width:"4px"}).width,e=u.appendChild(r.createElement("div")),e.style.cssText=u.style.cssText=c,e.style.marginRight=e.style.width="0",u.style.width="1px",t.reliableMarginRight=!parseFloat((n.getComputedStyle(e,null)||{}).marginRight)),typeof u.style.zoom!==o&&(u.innerHTML="",u.style.cssText=c+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===u.offsetWidth,u.style.display="block",u.innerHTML="<div><\/div>",u.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==u.offsetWidth,t.inlineBlockNeedsLayout&&(s.style.zoom=1)),s.removeChild(h),h=u=f=e=null)}),a=h=c=l=e=f=null,t}({}),ir=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,rr=/([A-Z])/g,i.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(n){return n=n.nodeType?i.cache[n[i.expando]]:n[i.expando],!!n&&!ti(n)},data:function(n,t,i){return ur(n,t,i)},removeData:function(n,t){return fr(n,t)},_data:function(n,t,i){return ur(n,t,i,!0)},_removeData:function(n,t){return fr(n,t,!0)},acceptData:function(n){if(n.nodeType&&1!==n.nodeType&&9!==n.nodeType)return!1;var t=n.nodeName&&i.noData[n.nodeName.toLowerCase()];return!t||t!==!0&&n.getAttribute("classid")===t}}),i.fn.extend({data:function(n,r){var e,f,o=null,s=0,u=this[0];if(n===t){if(this.length&&(o=i.data(u),1===u.nodeType&&!i._data(u,"parsedAttrs"))){for(e=u.attributes;e.length>s;s++)f=e[s].name,0===f.indexOf("data-")&&(f=i.camelCase(f.slice(5)),er(u,f,o[f]));i._data(u,"parsedAttrs",!0)}return o}return"object"==typeof n?this.each(function(){i.data(this,n)}):arguments.length>1?this.each(function(){i.data(this,n,r)}):u?er(u,n,i.data(u,n)):null},removeData:function(n){return this.each(function(){i.removeData(this,n)})}}),i.extend({queue:function(n,r,u){var f;return n?(r=(r||"fx")+"queue",f=i._data(n,r),u&&(!f||i.isArray(u)?f=i._data(n,r,i.makeArray(u)):f.push(u)),f||[]):t},dequeue:function(n,t){t=t||"fx";var r=i.queue(n,t),e=r.length,u=r.shift(),f=i._queueHooks(n,t),o=function(){i.dequeue(n,t)};"inprogress"===u&&(u=r.shift(),e--),u&&("fx"===t&&r.unshift("inprogress"),delete f.stop,u.call(n,o,f)),!e&&f&&f.empty.fire()},_queueHooks:function(n,t){var r=t+"queueHooks";return i._data(n,r)||i._data(n,r,{empty:i.Callbacks("once memory").add(function(){i._removeData(n,t+"queue"),i._removeData(n,r)})})}}),i.fn.extend({queue:function(n,r){var u=2;return"string"!=typeof n&&(r=n,n="fx",u--),u>arguments.length?i.queue(this[0],n):r===t?this:this.each(function(){var t=i.queue(this,n,r);i._queueHooks(this,n),"fx"===n&&"inprogress"!==t[0]&&i.dequeue(this,n)})},dequeue:function(n){return this.each(function(){i.dequeue(this,n)})},delay:function(n,t){return n=i.fx?i.fx.speeds[n]||n:n,t=t||"fx",this.queue(t,function(t,i){var r=setTimeout(t,n);i.stop=function(){clearTimeout(r)}})},clearQueue:function(n){return this.queue(n||"fx",[])},promise:function(n,r){var u,e=1,o=i.Deferred(),f=this,s=this.length,h=function(){--e||o.resolveWith(f,[f])};for("string"!=typeof n&&(r=n,n=t),n=n||"fx";s--;)u=i._data(f[s],n+"queueHooks"),u&&u.empty&&(e++,u.empty.add(h));return h(),o.promise(r)}});var d,or,ii=/[\t\r\n\f]/g,ie=/\r/g,re=/^(?:input|select|textarea|button|object)$/i,ue=/^(?:a|area)$/i,ri=/^(?:checked|selected)$/i,a=i.support.getSetAttribute,ht=i.support.input;i.fn.extend({attr:function(n,t){return i.access(this,i.attr,n,t,arguments.length>1)},removeAttr:function(n){return this.each(function(){i.removeAttr(this,n)})},prop:function(n,t){return i.access(this,i.prop,n,t,arguments.length>1)},removeProp:function(n){return n=i.propFix[n]||n,this.each(function(){try{this[n]=t,delete this[n]}catch(i){}})},addClass:function(n){var e,t,r,u,o,f=0,h=this.length,c="string"==typeof n&&n;if(i.isFunction(n))return this.each(function(t){i(this).addClass(n.call(this,t,this.className))});if(c)for(e=(n||"").match(s)||[];h>f;f++)if(t=this[f],r=1===t.nodeType&&(t.className?(" "+t.className+" ").replace(ii," "):" ")){for(o=0;u=e[o++];)0>r.indexOf(" "+u+" ")&&(r+=u+" ");t.className=i.trim(r)}return this},removeClass:function(n){var e,t,r,u,o,f=0,h=this.length,c=0===arguments.length||"string"==typeof n&&n;if(i.isFunction(n))return this.each(function(t){i(this).removeClass(n.call(this,t,this.className))});if(c)for(e=(n||"").match(s)||[];h>f;f++)if(t=this[f],r=1===t.nodeType&&(t.className?(" "+t.className+" ").replace(ii," "):"")){for(o=0;u=e[o++];)while(r.indexOf(" "+u+" ")>=0)r=r.replace(" "+u+" "," ");t.className=n?i.trim(r):""}return this},toggleClass:function(n,t){var r=typeof n;return"boolean"==typeof t&&"string"===r?t?this.addClass(n):this.removeClass(n):i.isFunction(n)?this.each(function(r){i(this).toggleClass(n.call(this,r,this.className,t),t)}):this.each(function(){if("string"===r)for(var t,f=0,u=i(this),e=n.match(s)||[];t=e[f++];)u.hasClass(t)?u.removeClass(t):u.addClass(t);else(r===o||"boolean"===r)&&(this.className&&i._data(this,"__className__",this.className),this.className=this.className||n===!1?"":i._data(this,"__className__")||"")})},hasClass:function(n){for(var i=" "+n+" ",t=0,r=this.length;r>t;t++)if(1===this[t].nodeType&&(" "+this[t].className+" ").replace(ii," ").indexOf(i)>=0)return!0;return!1},val:function(n){var u,r,e,f=this[0];return arguments.length?(e=i.isFunction(n),this.each(function(u){var f;1===this.nodeType&&(f=e?n.call(this,u,i(this).val()):n,null==f?f="":"number"==typeof f?f+="":i.isArray(f)&&(f=i.map(f,function(n){return null==n?"":n+""})),r=i.valHooks[this.type]||i.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,f,"value")!==t||(this.value=f))})):f?(r=i.valHooks[f.type]||i.valHooks[f.nodeName.toLowerCase()],r&&"get"in r&&(u=r.get(f,"value"))!==t?u:(u=f.value,"string"==typeof u?u.replace(ie,""):null==u?"":u)):void 0}}),i.extend({valHooks:{option:{get:function(n){var t=i.find.attr(n,"value");return null!=t?t:n.text}},select:{get:function(n){for(var e,t,o=n.options,r=n.selectedIndex,u="select-one"===n.type||0>r,s=u?null:[],h=u?r+1:o.length,f=0>r?h:u?r:0;h>f;f++)if(t=o[f],!(!t.selected&&f!==r||(i.support.optDisabled?t.disabled:null!==t.getAttribute("disabled"))||t.parentNode.disabled&&i.nodeName(t.parentNode,"optgroup"))){if(e=i(t).val(),u)return e;s.push(e)}return s},set:function(n,t){for(var u,r,f=n.options,e=i.makeArray(t),o=f.length;o--;)r=f[o],(r.selected=i.inArray(i(r).val(),e)>=0)&&(u=!0);return u||(n.selectedIndex=-1),e}}},attr:function(n,r,u){var f,e,s=n.nodeType;if(n&&3!==s&&8!==s&&2!==s)return typeof n.getAttribute===o?i.prop(n,r,u):(1===s&&i.isXMLDoc(n)||(r=r.toLowerCase(),f=i.attrHooks[r]||(i.expr.match.bool.test(r)?or:d)),u===t?f&&"get"in f&&null!==(e=f.get(n,r))?e:(e=i.find.attr(n,r),null==e?t:e):null!==u?f&&"set"in f&&(e=f.set(n,u,r))!==t?e:(n.setAttribute(r,u+""),u):(i.removeAttr(n,r),t))},removeAttr:function(n,t){var r,u,e=0,f=t&&t.match(s);if(f&&1===n.nodeType)while(r=f[e++])u=i.propFix[r]||r,i.expr.match.bool.test(r)?ht&&a||!ri.test(r)?n[u]=!1:n[i.camelCase("default-"+r)]=n[u]=!1:i.attr(n,r,""),n.removeAttribute(a?r:u)},attrHooks:{type:{set:function(n,t){if(!i.support.radioValue&&"radio"===t&&i.nodeName(n,"input")){var r=n.value;return n.setAttribute("type",t),r&&(n.value=r),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(n,r,u){var e,f,s,o=n.nodeType;if(n&&3!==o&&8!==o&&2!==o)return s=1!==o||!i.isXMLDoc(n),s&&(r=i.propFix[r]||r,f=i.propHooks[r]),u!==t?f&&"set"in f&&(e=f.set(n,u,r))!==t?e:n[r]=u:f&&"get"in f&&null!==(e=f.get(n,r))?e:n[r]},propHooks:{tabIndex:{get:function(n){var t=i.find.attr(n,"tabindex");return t?parseInt(t,10):re.test(n.nodeName)||ue.test(n.nodeName)&&n.href?0:-1}}}}),or={set:function(n,t,r){return t===!1?i.removeAttr(n,r):ht&&a||!ri.test(r)?n.setAttribute(!a&&i.propFix[r]||r,r):n[i.camelCase("default-"+r)]=n[r]=!0,r}},i.each(i.expr.match.bool.source.match(/\w+/g),function(n,r){var u=i.expr.attrHandle[r]||i.find.attr;i.expr.attrHandle[r]=ht&&a||!ri.test(r)?function(n,r,f){var e=i.expr.attrHandle[r],o=f?t:(i.expr.attrHandle[r]=t)!=u(n,r,f)?r.toLowerCase():null;return i.expr.attrHandle[r]=e,o}:function(n,r,u){return u?t:n[i.camelCase("default-"+r)]?r.toLowerCase():null}}),ht&&a||(i.attrHooks.value={set:function(n,r,u){return i.nodeName(n,"input")?(n.defaultValue=r,t):d&&d.set(n,r,u)}}),a||(d={set:function(n,i,r){var u=n.getAttributeNode(r);return u||n.setAttributeNode(u=n.ownerDocument.createAttribute(r)),u.value=i+="","value"===r||i===n.getAttribute(r)?i:t}},i.expr.attrHandle.id=i.expr.attrHandle.name=i.expr.attrHandle.coords=function(n,i,r){var u;return r?t:(u=n.getAttributeNode(i))&&""!==u.value?u.value:null},i.valHooks.button={get:function(n,i){var r=n.getAttributeNode(i);return r&&r.specified?r.value:t},set:d.set},i.attrHooks.contenteditable={set:function(n,t,i){d.set(n,""===t?!1:t,i)}},i.each(["width","height"],function(n,r){i.attrHooks[r]={set:function(n,i){return""===i?(n.setAttribute(r,"auto"),i):t}}})),i.support.hrefNormalized||i.each(["href","src"],function(n,t){i.propHooks[t]={get:function(n){return n.getAttribute(t,4)}}}),i.support.style||(i.attrHooks.style={get:function(n){return n.style.cssText||t},set:function(n,t){return n.style.cssText=t+""}}),i.support.optSelected||(i.propHooks.selected={get:function(n){var t=n.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),i.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){i.propFix[this.toLowerCase()]=this}),i.support.enctype||(i.propFix.enctype="encoding"),i.each(["radio","checkbox"],function(){i.valHooks[this]={set:function(n,r){return i.isArray(r)?n.checked=i.inArray(i(n).val(),r)>=0:t}},i.support.checkOn||(i.valHooks[this].get=function(n){return null===n.getAttribute("value")?"on":n.value})});var ui=/^(?:input|select|textarea)$/i,fe=/^key/,ee=/^(?:mouse|contextmenu)|click/,sr=/^(?:focusinfocus|focusoutblur)$/,hr=/^([^.]*)(?:\.(.+)|)$/;i.event={global:{},add:function(n,r,u,f,e){var b,p,k,w,c,l,a,v,h,d,g,y=i._data(n);if(y){for(u.handler&&(w=u,u=w.handler,e=w.selector),u.guid||(u.guid=i.guid++),(p=y.events)||(p=y.events={}),(l=y.handle)||(l=y.handle=function(n){return typeof i===o||n&&i.event.triggered===n.type?t:i.event.dispatch.apply(l.elem,arguments)},l.elem=n),r=(r||"").match(s)||[""],k=r.length;k--;)b=hr.exec(r[k])||[],h=g=b[1],d=(b[2]||"").split(".").sort(),h&&(c=i.event.special[h]||{},h=(e?c.delegateType:c.bindType)||h,c=i.event.special[h]||{},a=i.extend({type:h,origType:g,data:f,handler:u,guid:u.guid,selector:e,needsContext:e&&i.expr.match.needsContext.test(e),namespace:d.join(".")},w),(v=p[h])||(v=p[h]=[],v.delegateCount=0,c.setup&&c.setup.call(n,f,d,l)!==!1||(n.addEventListener?n.addEventListener(h,l,!1):n.attachEvent&&n.attachEvent("on"+h,l))),c.add&&(c.add.call(n,a),a.handler.guid||(a.handler.guid=u.guid)),e?v.splice(v.delegateCount++,0,a):v.push(a),i.event.global[h]=!0);n=null}},remove:function(n,t,r,u,f){var y,o,h,b,p,a,c,l,e,w,k,v=i.hasData(n)&&i._data(n);if(v&&(a=v.events)){for(t=(t||"").match(s)||[""],p=t.length;p--;)if(h=hr.exec(t[p])||[],e=k=h[1],w=(h[2]||"").split(".").sort(),e){for(c=i.event.special[e]||{},e=(u?c.delegateType:c.bindType)||e,l=a[e]||[],h=h[2]&&RegExp("(^|\\.)"+w.join("\\.(?:.*\\.|)")+"(\\.|$)"),b=y=l.length;y--;)o=l[y],!f&&k!==o.origType||r&&r.guid!==o.guid||h&&!h.test(o.namespace)||u&&u!==o.selector&&("**"!==u||!o.selector)||(l.splice(y,1),o.selector&&l.delegateCount--,c.remove&&c.remove.call(n,o));b&&!l.length&&(c.teardown&&c.teardown.call(n,w,v.handle)!==!1||i.removeEvent(n,e,v.handle),delete a[e])}else for(e in a)i.event.remove(n,e+t[p],r,u,!0);i.isEmptyObject(a)&&(delete v.handle,i._removeData(n,"events"))}},trigger:function(u,f,e,o){var a,v,s,w,l,c,b,p=[e||r],h=k.call(u,"type")?u.type:u,y=k.call(u,"namespace")?u.namespace.split("."):[];if(s=c=e=e||r,3!==e.nodeType&&8!==e.nodeType&&!sr.test(h+i.event.triggered)&&(h.indexOf(".")>=0&&(y=h.split("."),h=y.shift(),y.sort()),v=0>h.indexOf(":")&&"on"+h,u=u[i.expando]?u:new i.Event(h,"object"==typeof u&&u),u.isTrigger=o?2:3,u.namespace=y.join("."),u.namespace_re=u.namespace?RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,u.result=t,u.target||(u.target=e),f=null==f?[u]:i.makeArray(f,[u]),l=i.event.special[h]||{},o||!l.trigger||l.trigger.apply(e,f)!==!1)){if(!o&&!l.noBubble&&!i.isWindow(e)){for(w=l.delegateType||h,sr.test(w+h)||(s=s.parentNode);s;s=s.parentNode)p.push(s),c=s;c===(e.ownerDocument||r)&&p.push(c.defaultView||c.parentWindow||n)}for(b=0;(s=p[b++])&&!u.isPropagationStopped();)u.type=b>1?w:l.bindType||h,a=(i._data(s,"events")||{})[u.type]&&i._data(s,"handle"),a&&a.apply(s,f),a=v&&s[v],a&&i.acceptData(s)&&a.apply&&a.apply(s,f)===!1&&u.preventDefault();if(u.type=h,!o&&!u.isDefaultPrevented()&&(!l._default||l._default.apply(p.pop(),f)===!1)&&i.acceptData(e)&&v&&e[h]&&!i.isWindow(e)){c=e[v],c&&(e[v]=null),i.event.triggered=h;try{e[h]()}catch(d){}i.event.triggered=t,c&&(e[v]=c)}return u.result}},dispatch:function(n){n=i.event.fix(n);var o,e,r,u,s,h=[],c=l.call(arguments),a=(i._data(this,"events")||{})[n.type]||[],f=i.event.special[n.type]||{};if(c[0]=n,n.delegateTarget=this,!f.preDispatch||f.preDispatch.call(this,n)!==!1){for(h=i.event.handlers.call(this,n,a),o=0;(u=h[o++])&&!n.isPropagationStopped();)for(n.currentTarget=u.elem,s=0;(r=u.handlers[s++])&&!n.isImmediatePropagationStopped();)(!n.namespace_re||n.namespace_re.test(r.namespace))&&(n.handleObj=r,n.data=r.data,e=((i.event.special[r.origType]||{}).handle||r.handler).apply(u.elem,c),e!==t&&(n.result=e)===!1&&(n.preventDefault(),n.stopPropagation()));return f.postDispatch&&f.postDispatch.call(this,n),n.result}},handlers:function(n,r){var e,o,f,s,c=[],h=r.delegateCount,u=n.target;if(h&&u.nodeType&&(!n.button||"click"!==n.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==n.type)){for(f=[],s=0;h>s;s++)o=r[s],e=o.selector+" ",f[e]===t&&(f[e]=o.needsContext?i(e,this).index(u)>=0:i.find(e,this,null,[u]).length),f[e]&&f.push(o);f.length&&c.push({elem:u,handlers:f})}return r.length>h&&c.push({elem:this,handlers:r.slice(h)}),c},fix:function(n){if(n[i.expando])return n;var e,o,s,u=n.type,f=n,t=this.fixHooks[u];for(t||(this.fixHooks[u]=t=ee.test(u)?this.mouseHooks:fe.test(u)?this.keyHooks:{}),s=t.props?this.props.concat(t.props):this.props,n=new i.Event(f),e=s.length;e--;)o=s[e],n[o]=f[o];return n.target||(n.target=f.srcElement||r),3===n.target.nodeType&&(n.target=n.target.parentNode),n.metaKey=!!n.metaKey,t.filter?t.filter(n,f):n},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(n,t){return null==n.which&&(n.which=null!=t.charCode?t.charCode:t.keyCode),n}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(n,i){var u,o,f,e=i.button,s=i.fromElement;return null==n.pageX&&null!=i.clientX&&(o=n.target.ownerDocument||r,f=o.documentElement,u=o.body,n.pageX=i.clientX+(f&&f.scrollLeft||u&&u.scrollLeft||0)-(f&&f.clientLeft||u&&u.clientLeft||0),n.pageY=i.clientY+(f&&f.scrollTop||u&&u.scrollTop||0)-(f&&f.clientTop||u&&u.clientTop||0)),!n.relatedTarget&&s&&(n.relatedTarget=s===n.target?i.toElement:s),n.which||e===t||(n.which=1&e?1:2&e?3:4&e?2:0),n}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==cr()&&this.focus)try{return this.focus(),!1}catch(n){}},delegateType:"focusin"},blur:{trigger:function(){return this===cr()&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},click:{trigger:function(){return i.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t},_default:function(n){return i.nodeName(n.target,"a")}},beforeunload:{postDispatch:function(n){n.result!==t&&(n.originalEvent.returnValue=n.result)}}},simulate:function(n,t,r,u){var f=i.extend(new i.Event,r,{type:n,isSimulated:!0,originalEvent:{}});u?i.event.trigger(f,null,t):i.event.dispatch.call(t,f),f.isDefaultPrevented()&&r.preventDefault()}},i.removeEvent=r.removeEventListener?function(n,t,i){n.removeEventListener&&n.removeEventListener(t,i,!1)}:function(n,t,i){var r="on"+t;n.detachEvent&&(typeof n[r]===o&&(n[r]=null),n.detachEvent(r,i))},i.Event=function(n,r){return this instanceof i.Event?(n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented||n.returnValue===!1||n.getPreventDefault&&n.getPreventDefault()?ct:g):this.type=n,r&&i.extend(this,r),this.timeStamp=n&&n.timeStamp||i.now(),this[i.expando]=!0,t):new i.Event(n,r)},i.Event.prototype={isDefaultPrevented:g,isPropagationStopped:g,isImmediatePropagationStopped:g,preventDefault:function(){var n=this.originalEvent;this.isDefaultPrevented=ct,n&&(n.preventDefault?n.preventDefault():n.returnValue=!1)},stopPropagation:function(){var n=this.originalEvent;this.isPropagationStopped=ct,n&&(n.stopPropagation&&n.stopPropagation(),n.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=ct,this.stopPropagation()}},i.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(n,t){i.event.special[n]={delegateType:t,bindType:t,handle:function(n){var u,f=this,r=n.relatedTarget,e=n.handleObj;return(!r||r!==f&&!i.contains(f,r))&&(n.type=e.origType,u=e.handler.apply(this,arguments),n.type=t),u}}}),i.support.submitBubbles||(i.event.special.submit={setup:function(){return i.nodeName(this,"form")?!1:(i.event.add(this,"click._submit keypress._submit",function(n){var u=n.target,r=i.nodeName(u,"input")||i.nodeName(u,"button")?u.form:t;r&&!i._data(r,"submitBubbles")&&(i.event.add(r,"submit._submit",function(n){n._submit_bubble=!0}),i._data(r,"submitBubbles",!0))}),t)},postDispatch:function(n){n._submit_bubble&&(delete n._submit_bubble,this.parentNode&&!n.isTrigger&&i.event.simulate("submit",this.parentNode,n,!0))},teardown:function(){return i.nodeName(this,"form")?!1:(i.event.remove(this,"._submit"),t)}}),i.support.changeBubbles||(i.event.special.change={setup:function(){return ui.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(i.event.add(this,"propertychange._change",function(n){"checked"===n.originalEvent.propertyName&&(this._just_changed=!0)}),i.event.add(this,"click._change",function(n){this._just_changed&&!n.isTrigger&&(this._just_changed=!1),i.event.simulate("change",this,n,!0)})),!1):(i.event.add(this,"beforeactivate._change",function(n){var t=n.target;ui.test(t.nodeName)&&!i._data(t,"changeBubbles")&&(i.event.add(t,"change._change",function(n){!this.parentNode||n.isSimulated||n.isTrigger||i.event.simulate("change",this.parentNode,n,!0)}),i._data(t,"changeBubbles",!0))}),t)},handle:function(n){var i=n.target;return this!==i||n.isSimulated||n.isTrigger||"radio"!==i.type&&"checkbox"!==i.type?n.handleObj.handler.apply(this,arguments):t},teardown:function(){return i.event.remove(this,"._change"),!ui.test(this.nodeName)}}),i.support.focusinBubbles||i.each({focus:"focusin",blur:"focusout"},function(n,t){var u=0,f=function(n){i.event.simulate(t,n.target,i.event.fix(n),!0)};i.event.special[t]={setup:function(){0==u++&&r.addEventListener(n,f,!0)},teardown:function(){0==--u&&r.removeEventListener(n,f,!0)}}}),i.fn.extend({on:function(n,r,u,f,e){var s,o;if("object"==typeof n){"string"!=typeof r&&(u=u||r,r=t);for(s in n)this.on(s,r,u,n[s],e);return this}if(null==u&&null==f?(f=r,u=r=t):null==f&&("string"==typeof r?(f=u,u=t):(f=u,u=r,r=t)),f===!1)f=g;else if(!f)return this;return 1===e&&(o=f,f=function(n){return i().off(n),o.apply(this,arguments)},f.guid=o.guid||(o.guid=i.guid++)),this.each(function(){i.event.add(this,n,f,u,r)})},one:function(n,t,i,r){return this.on(n,t,i,r,1)},off:function(n,r,u){var f,e;if(n&&n.preventDefault&&n.handleObj)return f=n.handleObj,i(n.delegateTarget).off(f.namespace?f.origType+"."+f.namespace:f.origType,f.selector,f.handler),this;if("object"==typeof n){for(e in n)this.off(e,r,n[e]);return this}return(r===!1||"function"==typeof r)&&(u=r,r=t),u===!1&&(u=g),this.each(function(){i.event.remove(this,n,u,r)})},trigger:function(n,t){return this.each(function(){i.event.trigger(n,t,this)})},triggerHandler:function(n,r){var u=this[0];return u?i.event.trigger(n,r,u,!0):t}});var oe=/^.[^:#\[\.,]*$/,se=/^(?:parents|prev(?:Until|All))/,lr=i.expr.match.needsContext,he={children:!0,contents:!0,next:!0,prev:!0};i.fn.extend({find:function(n){var t,r=[],u=this,f=u.length;if("string"!=typeof n)return this.pushStack(i(n).filter(function(){for(t=0;f>t;t++)if(i.contains(u[t],this))return!0}));for(t=0;f>t;t++)i.find(n,u[t],r);return r=this.pushStack(f>1?i.unique(r):r),r.selector=this.selector?this.selector+" "+n:n,r},has:function(n){var t,r=i(n,this),u=r.length;return this.filter(function(){for(t=0;u>t;t++)if(i.contains(this,r[t]))return!0})},not:function(n){return this.pushStack(fi(this,n||[],!0))},filter:function(n){return this.pushStack(fi(this,n||[],!1))},is:function(n){return!!fi(this,"string"==typeof n&&lr.test(n)?i(n):n||[],!1).length},closest:function(n,t){for(var r,f=0,o=this.length,u=[],e=lr.test(n)||"string"!=typeof n?i(n,t||this.context):0;o>f;f++)for(r=this[f];r&&r!==t;r=r.parentNode)if(11>r.nodeType&&(e?e.index(r)>-1:1===r.nodeType&&i.find.matchesSelector(r,n))){r=u.push(r);break}return this.pushStack(u.length>1?i.unique(u):u)},index:function(n){return n?"string"==typeof n?i.inArray(this[0],i(n)):i.inArray(n.jquery?n[0]:n,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(n,t){var r="string"==typeof n?i(n,t):i.makeArray(n&&n.nodeType?[n]:n),u=i.merge(this.get(),r);return this.pushStack(i.unique(u))},addBack:function(n){return this.add(null==n?this.prevObject:this.prevObject.filter(n))}}),i.each({parent:function(n){var t=n.parentNode;return t&&11!==t.nodeType?t:null},parents:function(n){return i.dir(n,"parentNode")},parentsUntil:function(n,t,r){return i.dir(n,"parentNode",r)},next:function(n){return ar(n,"nextSibling")},prev:function(n){return ar(n,"previousSibling")},nextAll:function(n){return i.dir(n,"nextSibling")},prevAll:function(n){return i.dir(n,"previousSibling")},nextUntil:function(n,t,r){return i.dir(n,"nextSibling",r)},prevUntil:function(n,t,r){return i.dir(n,"previousSibling",r)},siblings:function(n){return i.sibling((n.parentNode||{}).firstChild,n)},children:function(n){return i.sibling(n.firstChild)},contents:function(n){return i.nodeName(n,"iframe")?n.contentDocument||n.contentWindow.document:i.merge([],n.childNodes)}},function(n,t){i.fn[n]=function(r,u){var f=i.map(this,t,r);return"Until"!==n.slice(-5)&&(u=r),u&&"string"==typeof u&&(f=i.filter(u,f)),this.length>1&&(he[n]||(f=i.unique(f)),se.test(n)&&(f=f.reverse())),this.pushStack(f)}}),i.extend({filter:function(n,t,r){var u=t[0];return r&&(n=":not("+n+")"),1===t.length&&1===u.nodeType?i.find.matchesSelector(u,n)?[u]:[]:i.find.matches(n,i.grep(t,function(n){return 1===n.nodeType}))},dir:function(n,r,u){for(var e=[],f=n[r];f&&9!==f.nodeType&&(u===t||1!==f.nodeType||!i(f).is(u));)1===f.nodeType&&e.push(f),f=f[r];return e},sibling:function(n,t){for(var i=[];n;n=n.nextSibling)1===n.nodeType&&n!==t&&i.push(n);return i}});var yr="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ce=/ jQuery\d+="(?:null|\d+)"/g,pr=RegExp("<(?:"+yr+")[\\s/>]","i"),ei=/^\s+/,wr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,br=/<([\w:]+)/,kr=/<tbody/i,le=/<|&#?\w+;/,ae=/<(?:script|style|link)/i,oi=/^(?:checkbox|radio)$/i,ve=/checked\s*(?:[^=]|=\s*.checked.)/i,dr=/^$|\/(?:java|ecma)script/i,ye=/^true\/(.*)/,pe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,e={option:[1,"<select multiple='multiple'>","<\/select>"],legend:[1,"<fieldset>","<\/fieldset>"],area:[1,"<map>","<\/map>"],param:[1,"<object>","<\/object>"],thead:[1,"<table>","<\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],col:[2,"<table><tbody><\/tbody><colgroup>","<\/colgroup><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],_default:i.support.htmlSerialize?[0,"",""]:[1,"X<div>","<\/div>"]},we=vr(r),si=we.appendChild(r.createElement("div"));e.optgroup=e.option,e.tbody=e.tfoot=e.colgroup=e.caption=e.thead,e.th=e.td,i.fn.extend({text:function(n){return i.access(this,function(n){return n===t?i.text(this):this.empty().append((this[0]&&this[0].ownerDocument||r).createTextNode(n))},null,n,arguments.length)},append:function(){return this.domManip(arguments,function(n){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=gr(this,n);t.appendChild(n)}})},prepend:function(){return this.domManip(arguments,function(n){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=gr(this,n);t.insertBefore(n,t.firstChild)}})},before:function(){return this.domManip(arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this)})},after:function(){return this.domManip(arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling)})},remove:function(n,t){for(var r,e=n?i.filter(n,this):this,f=0;null!=(r=e[f]);f++)t||1!==r.nodeType||i.cleanData(u(r)),r.parentNode&&(t&&i.contains(r.ownerDocument,r)&&hi(u(r,"script")),r.parentNode.removeChild(r));return this},empty:function(){for(var n,t=0;null!=(n=this[t]);t++){for(1===n.nodeType&&i.cleanData(u(n,!1));n.firstChild;)n.removeChild(n.firstChild);n.options&&i.nodeName(n,"select")&&(n.options.length=0)}return this},clone:function(n,t){return n=null==n?!1:n,t=null==t?n:t,this.map(function(){return i.clone(this,n,t)})},html:function(n){return i.access(this,function(n){var r=this[0]||{},f=0,o=this.length;if(n===t)return 1===r.nodeType?r.innerHTML.replace(ce,""):t;if(!("string"!=typeof n||ae.test(n)||!i.support.htmlSerialize&&pr.test(n)||!i.support.leadingWhitespace&&ei.test(n)||e[(br.exec(n)||["",""])[1].toLowerCase()])){n=n.replace(wr,"<$1><\/$2>");try{for(;o>f;f++)r=this[f]||{},1===r.nodeType&&(i.cleanData(u(r,!1)),r.innerHTML=n);r=0}catch(s){}}r&&this.empty().append(n)},null,n,arguments.length)},replaceWith:function(){var t=i.map(this,function(n){return[n.nextSibling,n.parentNode]}),n=0;return this.domManip(arguments,function(r){var u=t[n++],f=t[n++];f&&(u&&u.parentNode!==f&&(u=this.nextSibling),i(this).remove(),f.insertBefore(r,u))},!0),n?this:this.remove()},detach:function(n){return this.remove(n,!0)},domManip:function(n,t,r){n=di.apply([],n);var h,f,c,o,v,s,e=0,l=this.length,p=this,w=l-1,a=n[0],y=i.isFunction(a);if(y||!(1>=l||"string"!=typeof a||i.support.checkClone)&&ve.test(a))return this.each(function(i){var u=p.eq(i);y&&(n[0]=a.call(this,i,u.html())),u.domManip(n,t,r)});if(l&&(s=i.buildFragment(n,this[0].ownerDocument,!1,!r&&this),h=s.firstChild,1===s.childNodes.length&&(s=h),h)){for(o=i.map(u(s,"script"),nu),c=o.length;l>e;e++)f=s,e!==w&&(f=i.clone(f,!0,!0),c&&i.merge(o,u(f,"script"))),t.call(this[e],f,e);if(c)for(v=o[o.length-1].ownerDocument,i.map(o,tu),e=0;c>e;e++)f=o[e],dr.test(f.type||"")&&!i._data(f,"globalEval")&&i.contains(v,f)&&(f.src?i._evalUrl(f.src):i.globalEval((f.text||f.textContent||f.innerHTML||"").replace(pe,"")));s=h=null}return this}}),i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(n,t){i.fn[n]=function(n){for(var u,r=0,f=[],e=i(n),o=e.length-1;o>=r;r++)u=r===o?this:this.clone(!0),i(e[r])[t](u),kt.apply(f,u.get());return this.pushStack(f)}}),i.extend({clone:function(n,t,r){var f,h,o,e,s,c=i.contains(n.ownerDocument,n);if(i.support.html5Clone||i.isXMLDoc(n)||!pr.test("<"+n.nodeName+">")?o=n.cloneNode(!0):(si.innerHTML=n.outerHTML,si.removeChild(o=si.firstChild)),!(i.support.noCloneEvent&&i.support.noCloneChecked||1!==n.nodeType&&11!==n.nodeType||i.isXMLDoc(n)))for(f=u(o),s=u(n),e=0;null!=(h=s[e]);++e)f[e]&&be(h,f[e]);if(t)if(r)for(s=s||u(n),f=f||u(o),e=0;null!=(h=s[e]);e++)iu(h,f[e]);else iu(n,o);return f=u(o,"script"),f.length>0&&hi(f,!c&&u(n,"script")),f=s=h=null,o},buildFragment:function(n,t,r,f){for(var h,o,w,s,y,p,l,b=n.length,a=vr(t),c=[],v=0;b>v;v++)if(o=n[v],o||0===o)if("object"===i.type(o))i.merge(c,o.nodeType?[o]:o);else if(le.test(o)){for(s=s||a.appendChild(t.createElement("div")),y=(br.exec(o)||["",""])[1].toLowerCase(),l=e[y]||e._default,s.innerHTML=l[1]+o.replace(wr,"<$1><\/$2>")+l[2],h=l[0];h--;)s=s.lastChild;if(!i.support.leadingWhitespace&&ei.test(o)&&c.push(t.createTextNode(ei.exec(o)[0])),!i.support.tbody)for(o="table"!==y||kr.test(o)?"<table>"!==l[1]||kr.test(o)?0:s:s.firstChild,h=o&&o.childNodes.length;h--;)i.nodeName(p=o.childNodes[h],"tbody")&&!p.childNodes.length&&o.removeChild(p);for(i.merge(c,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=a.lastChild}else c.push(t.createTextNode(o));for(s&&a.removeChild(s),i.support.appendChecked||i.grep(u(c,"input"),ke),v=0;o=c[v++];)if((!f||-1===i.inArray(o,f))&&(w=i.contains(o.ownerDocument,o),s=u(a.appendChild(o),"script"),w&&hi(s),r))for(h=0;o=s[h++];)dr.test(o.type||"")&&r.push(o);return s=null,a},cleanData:function(n,t){for(var r,f,u,e,c=0,s=i.expando,h=i.cache,l=i.support.deleteExpando,a=i.event.special;null!=(r=n[c]);c++)if((t||i.acceptData(r))&&(u=r[s],e=u&&h[u])){if(e.events)for(f in e.events)a[f]?i.event.remove(r,f):i.removeEvent(r,f,e.handle);h[u]&&(delete h[u],l?delete r[s]:typeof r.removeAttribute!==o?r.removeAttribute(s):r[s]=null,b.push(u))}},_evalUrl:function(n){return i.ajax({url:n,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})}}),i.fn.extend({wrapAll:function(n){if(i.isFunction(n))return this.each(function(t){i(this).wrapAll(n.call(this,t))});if(this[0]){var t=i(n,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var n=this;n.firstChild&&1===n.firstChild.nodeType;)n=n.firstChild;return n}).append(this)}return this},wrapInner:function(n){return i.isFunction(n)?this.each(function(t){i(this).wrapInner(n.call(this,t))}):this.each(function(){var t=i(this),r=t.contents();r.length?r.wrapAll(n):t.append(n)})},wrap:function(n){var t=i.isFunction(n);return this.each(function(r){i(this).wrapAll(t?n.call(this,r):n)})},unwrap:function(){return this.parent().each(function(){i.nodeName(this,"body")||i(this).replaceWith(this.childNodes)}).end()}});var rt,v,y,ci=/alpha\([^)]*\)/i,de=/opacity\s*=\s*([^)]*)/,ge=/^(top|right|bottom|left)$/,no=/^(none|table(?!-c[ea]).+)/,ru=/^margin/,to=RegExp("^("+st+")(.*)$","i"),lt=RegExp("^("+st+")(?!px)[a-z%]+$","i"),io=RegExp("^([+-])=("+st+")","i"),uu={BODY:"block"},ro={position:"absolute",visibility:"hidden",display:"block"},fu={letterSpacing:0,fontWeight:400},p=["Top","Right","Bottom","Left"],eu=["Webkit","O","Moz","ms"];i.fn.extend({css:function(n,r){return i.access(this,function(n,r,u){var e,o,s={},f=0;if(i.isArray(r)){for(o=v(n),e=r.length;e>f;f++)s[r[f]]=i.css(n,r[f],!1,o);return s}return u!==t?i.style(n,r,u):i.css(n,r)},n,r,arguments.length>1)},show:function(){return su(this,!0)},hide:function(){return su(this)},toggle:function(n){return"boolean"==typeof n?n?this.show():this.hide():this.each(function(){ut(this)?i(this).show():i(this).hide()})}}),i.extend({cssHooks:{opacity:{get:function(n,t){if(t){var i=y(n,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:i.support.cssFloat?"cssFloat":"styleFloat"},style:function(n,r,u,f){if(n&&3!==n.nodeType&&8!==n.nodeType&&n.style){var o,s,e,h=i.camelCase(r),c=n.style;if(r=i.cssProps[h]||(i.cssProps[h]=ou(c,h)),e=i.cssHooks[r]||i.cssHooks[h],u===t)return e&&"get"in e&&(o=e.get(n,!1,f))!==t?o:c[r];if(s=typeof u,"string"===s&&(o=io.exec(u))&&(u=(o[1]+1)*o[2]+parseFloat(i.css(n,r)),s="number"),!(null==u||"number"===s&&isNaN(u)||("number"!==s||i.cssNumber[h]||(u+="px"),i.support.clearCloneStyle||""!==u||0!==r.indexOf("background")||(c[r]="inherit"),e&&"set"in e&&(u=e.set(n,u,f))===t)))try{c[r]=u}catch(l){}}},css:function(n,r,u,f){var h,e,o,s=i.camelCase(r);return r=i.cssProps[s]||(i.cssProps[s]=ou(n.style,s)),o=i.cssHooks[r]||i.cssHooks[s],o&&"get"in o&&(e=o.get(n,!0,u)),e===t&&(e=y(n,r,f)),"normal"===e&&r in fu&&(e=fu[r]),""===u||u?(h=parseFloat(e),u===!0||i.isNumeric(h)?h||0:e):e}}),n.getComputedStyle?(v=function(t){return n.getComputedStyle(t,null)},y=function(n,r,u){var s,h,c,o=u||v(n),e=o?o.getPropertyValue(r)||o[r]:t,f=n.style;return o&&(""!==e||i.contains(n.ownerDocument,n)||(e=i.style(n,r)),lt.test(e)&&ru.test(r)&&(s=f.width,h=f.minWidth,c=f.maxWidth,f.minWidth=f.maxWidth=f.width=e,e=o.width,f.width=s,f.minWidth=h,f.maxWidth=c)),e}):r.documentElement.currentStyle&&(v=function(n){return n.currentStyle},y=function(n,i,r){var s,e,o,h=r||v(n),u=h?h[i]:t,f=n.style;return null==u&&f&&f[i]&&(u=f[i]),lt.test(u)&&!ge.test(i)&&(s=f.left,e=n.runtimeStyle,o=e&&e.left,o&&(e.left=n.currentStyle.left),f.left="fontSize"===i?"1em":u,u=f.pixelLeft+"px",f.left=s,o&&(e.left=o)),""===u?"auto":u}),i.each(["height","width"],function(n,r){i.cssHooks[r]={get:function(n,u,f){return u?0===n.offsetWidth&&no.test(i.css(n,"display"))?i.swap(n,ro,function(){return lu(n,r,f)}):lu(n,r,f):t},set:function(n,t,u){var f=u&&v(n);return hu(n,t,u?cu(n,r,u,i.support.boxSizing&&"border-box"===i.css(n,"boxSizing",!1,f),f):0)}}}),i.support.opacity||(i.cssHooks.opacity={get:function(n,t){return de.test((t&&n.currentStyle?n.currentStyle.filter:n.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(n,t){var r=n.style,u=n.currentStyle,e=i.isNumeric(t)?"alpha(opacity="+100*t+")":"",f=u&&u.filter||r.filter||"";r.zoom=1,(t>=1||""===t)&&""===i.trim(f.replace(ci,""))&&r.removeAttribute&&(r.removeAttribute("filter"),""===t||u&&!u.filter)||(r.filter=ci.test(f)?f.replace(ci,e):f+" "+e)}}),i(function(){i.support.reliableMarginRight||(i.cssHooks.marginRight={get:function(n,r){return r?i.swap(n,{display:"inline-block"},y,[n,"marginRight"]):t}}),!i.support.pixelPosition&&i.fn.position&&i.each(["top","left"],function(n,r){i.cssHooks[r]={get:function(n,u){return u?(u=y(n,r),lt.test(u)?i(n).position()[r]+"px":u):t}}})}),i.expr&&i.expr.filters&&(i.expr.filters.hidden=function(n){return 0>=n.offsetWidth&&0>=n.offsetHeight||!i.support.reliableHiddenOffsets&&"none"===(n.style&&n.style.display||i.css(n,"display"))},i.expr.filters.visible=function(n){return!i.expr.filters.hidden(n)}),i.each({margin:"",padding:"",border:"Width"},function(n,t){i.cssHooks[n+t]={expand:function(i){for(var r=0,f={},u="string"==typeof i?i.split(" "):[i];4>r;r++)f[n+p[r]+t]=u[r]||u[r-2]||u[0];return f}},ru.test(n)||(i.cssHooks[n+t].set=hu)});var uo=/%20/g,fo=/\[\]$/,yu=/\r?\n/g,eo=/^(?:submit|button|image|reset|file)$/i,oo=/^(?:input|select|textarea|keygen)/i;i.fn.extend({serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var n=i.prop(this,"elements");return n?i.makeArray(n):this}).filter(function(){var n=this.type;return this.name&&!i(this).is(":disabled")&&oo.test(this.nodeName)&&!eo.test(n)&&(this.checked||!oi.test(n))}).map(function(n,t){var r=i(this).val();return null==r?null:i.isArray(r)?i.map(r,function(n){return{name:t.name,value:n.replace(yu,"\r\n")}}):{name:t.name,value:r.replace(yu,"\r\n")}}).get()}}),i.param=function(n,r){var u,f=[],e=function(n,t){t=i.isFunction(t)?t():null==t?"":t,f[f.length]=encodeURIComponent(n)+"="+encodeURIComponent(t)};if(r===t&&(r=i.ajaxSettings&&i.ajaxSettings.traditional),i.isArray(n)||n.jquery&&!i.isPlainObject(n))i.each(n,function(){e(this.name,this.value)});else for(u in n)li(u,n[u],r,e);return f.join("&").replace(uo,"+")},i.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(n,t){i.fn[t]=function(n,i){return arguments.length>0?this.on(t,null,n,i):this.trigger(t)}}),i.fn.extend({hover:function(n,t){return this.mouseenter(n).mouseleave(t||n)},bind:function(n,t,i){return this.on(n,null,t,i)},unbind:function(n,t){return this.off(n,null,t)},delegate:function(n,t,i,r){return this.on(t,n,i,r)},undelegate:function(n,t,i){return 1===arguments.length?this.off(n,"**"):this.off(t,n||"**",i)}});var w,c,ai=i.now(),vi=/\?/,so=/#.*$/,pu=/([?&])_=[^&]*/,ho=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,co=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,lo=/^(?:GET|HEAD)$/,ao=/^\/\//,wu=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,bu=i.fn.load,ku={},yi={},du="*/".concat("*");try{c=hf.href}catch(ns){c=r.createElement("a"),c.href="",c=c.href}w=wu.exec(c.toLowerCase())||[],i.fn.load=function(n,r,u){if("string"!=typeof n&&bu)return bu.apply(this,arguments);var f,s,h,e=this,o=n.indexOf(" ");return o>=0&&(f=n.slice(o,n.length),n=n.slice(0,o)),i.isFunction(r)?(u=r,r=t):r&&"object"==typeof r&&(h="POST"),e.length>0&&i.ajax({url:n,type:h,dataType:"html",data:r}).done(function(n){s=arguments,e.html(f?i("<div>").append(i.parseHTML(n)).find(f):n)}).complete(u&&function(n,t){e.each(u,s||[n.responseText,t,n])}),this},i.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(n,t){i.fn[t]=function(n){return this.on(t,n)}}),i.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:c,type:"GET",isLocal:co.test(w[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":du,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":i.parseJSON,"text xml":i.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(n,t){return t?pi(pi(n,i.ajaxSettings),t):pi(i.ajaxSettings,n)},ajaxPrefilter:gu(ku),ajaxTransport:gu(yi),ajax:function(n,r){function k(n,r,s,c){var a,rt,k,p,w,l=r;2!==o&&(o=2,g&&clearTimeout(g),y=t,d=c||"",f.readyState=n>0?4:0,a=n>=200&&300>n||304===n,s&&(p=vo(u,f,s)),p=yo(u,p,f,a),a?(u.ifModified&&(w=f.getResponseHeader("Last-Modified"),w&&(i.lastModified[e]=w),w=f.getResponseHeader("etag"),w&&(i.etag[e]=w)),204===n||"HEAD"===u.type?l="nocontent":304===n?l="notmodified":(l=p.state,rt=p.data,k=p.error,a=!k)):(k=l,(n||!l)&&(l="error",0>n&&(n=0))),f.status=n,f.statusText=(r||l)+"",a?tt.resolveWith(h,[rt,l,f]):tt.rejectWith(h,[f,l,k]),f.statusCode(b),b=t,v&&nt.trigger(a?"ajaxSuccess":"ajaxError",[f,u,a?rt:k]),it.fireWith(h,[f,l]),v&&(nt.trigger("ajaxComplete",[f,u]),--i.active||i.event.trigger("ajaxStop")))}"object"==typeof n&&(r=n,n=t),r=r||{};var l,a,e,d,g,v,y,p,u=i.ajaxSetup({},r),h=u.context||u,nt=u.context&&(h.nodeType||h.jquery)?i(h):i.event,tt=i.Deferred(),it=i.Callbacks("once memory"),b=u.statusCode||{},rt={},ut={},o=0,ft="canceled",f={readyState:0,getResponseHeader:function(n){var t;if(2===o){if(!p)for(p={};t=ho.exec(d);)p[t[1].toLowerCase()]=t[2];t=p[n.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===o?d:null},setRequestHeader:function(n,t){var i=n.toLowerCase();return o||(n=ut[i]=ut[i]||n,rt[n]=t),this},overrideMimeType:function(n){return o||(u.mimeType=n),this},statusCode:function(n){var t;if(n)if(2>o)for(t in n)b[t]=[b[t],n[t]];else f.always(n[f.status]);return this},abort:function(n){var t=n||ft;return y&&y.abort(t),k(0,t),this}};if(tt.promise(f).complete=it.add,f.success=f.done,f.error=f.fail,u.url=((n||u.url||c)+"").replace(so,"").replace(ao,w[1]+"//"),u.type=r.method||r.type||u.method||u.type,u.dataTypes=i.trim(u.dataType||"*").toLowerCase().match(s)||[""],null==u.crossDomain&&(l=wu.exec(u.url.toLowerCase()),u.crossDomain=!(!l||l[1]===w[1]&&l[2]===w[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(w[3]||("http:"===w[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=i.param(u.data,u.traditional)),nf(ku,u,r,f),2===o)return f;v=u.global,v&&0==i.active++&&i.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!lo.test(u.type),e=u.url,u.hasContent||(u.data&&(e=u.url+=(vi.test(e)?"&":"?")+u.data,delete u.data),u.cache===!1&&(u.url=pu.test(e)?e.replace(pu,"$1_="+ai++):e+(vi.test(e)?"&":"?")+"_="+ai++)),u.ifModified&&(i.lastModified[e]&&f.setRequestHeader("If-Modified-Since",i.lastModified[e]),i.etag[e]&&f.setRequestHeader("If-None-Match",i.etag[e])),(u.data&&u.hasContent&&u.contentType!==!1||r.contentType)&&f.setRequestHeader("Content-Type",u.contentType),f.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+du+"; q=0.01":""):u.accepts["*"]);for(a in u.headers)f.setRequestHeader(a,u.headers[a]);if(u.beforeSend&&(u.beforeSend.call(h,f,u)===!1||2===o))return f.abort();ft="abort";for(a in{success:1,error:1,complete:1})f[a](u[a]);if(y=nf(yi,u,r,f)){f.readyState=1,v&&nt.trigger("ajaxSend",[f,u]),u.async&&u.timeout>0&&(g=setTimeout(function(){f.abort("timeout")},u.timeout));try{o=1,y.send(rt,k)}catch(et){if(!(2>o))throw et;k(-1,et)}}else k(-1,"No Transport");return f},getJSON:function(n,t,r){return i.get(n,t,r,"json")},getScript:function(n,r){return i.get(n,t,r,"script")}}),i.each(["get","post"],function(n,r){i[r]=function(n,u,f,e){return i.isFunction(u)&&(e=e||f,f=u,u=t),i.ajax({url:n,type:r,dataType:e,data:u,success:f})}}),i.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(n){return i.globalEval(n),n}}}),i.ajaxPrefilter("script",function(n){n.cache===t&&(n.cache=!1),n.crossDomain&&(n.type="GET",n.global=!1)}),i.ajaxTransport("script",function(n){if(n.crossDomain){var u,f=r.head||i("head")[0]||r.documentElement;return{send:function(t,i){u=r.createElement("script"),u.async=!0,n.scriptCharset&&(u.charset=n.scriptCharset),u.src=n.url,u.onload=u.onreadystatechange=function(n,t){(t||!u.readyState||/loaded|complete/.test(u.readyState))&&(u.onload=u.onreadystatechange=null,u.parentNode&&u.parentNode.removeChild(u),u=null,t||i(200,"success"))},f.insertBefore(u,f.firstChild)},abort:function(){u&&u.onload(t,!0)}}}}),wi=[],at=/(=)\?(?=&|$)|\?\?/,i.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var n=wi.pop()||i.expando+"_"+ai++;return this[n]=!0,n}}),i.ajaxPrefilter("json jsonp",function(r,u,f){var e,s,o,h=r.jsonp!==!1&&(at.test(r.url)?"url":"string"==typeof r.data&&!(r.contentType||"").indexOf("application/x-www-form-urlencoded")&&at.test(r.data)&&"data");return h||"jsonp"===r.dataTypes[0]?(e=r.jsonpCallback=i.isFunction(r.jsonpCallback)?r.jsonpCallback():r.jsonpCallback,h?r[h]=r[h].replace(at,"$1"+e):r.jsonp!==!1&&(r.url+=(vi.test(r.url)?"&":"?")+r.jsonp+"="+e),r.converters["script json"]=function(){return o||i.error(e+" was not called"),o[0]},r.dataTypes[0]="json",s=n[e],n[e]=function(){o=arguments},f.always(function(){n[e]=s,r[e]&&(r.jsonpCallback=u.jsonpCallback,wi.push(e)),o&&i.isFunction(s)&&s(o[0]),o=s=t}),"script"):t}),tf=0,vt=n.ActiveXObject&&function(){var n;for(n in nt)nt[n](t,!0)},i.ajaxSettings.xhr=n.ActiveXObject?function(){return!this.isLocal&&rf()||po()}:rf,tt=i.ajaxSettings.xhr(),i.support.cors=!!tt&&"withCredentials"in tt,tt=i.support.ajax=!!tt,tt&&i.ajaxTransport(function(r){if(!r.crossDomain||i.support.cors){var u;return{send:function(f,e){var h,s,o=r.xhr();if(r.username?o.open(r.type,r.url,r.async,r.username,r.password):o.open(r.type,r.url,r.async),r.xhrFields)for(s in r.xhrFields)o[s]=r.xhrFields[s];r.mimeType&&o.overrideMimeType&&o.overrideMimeType(r.mimeType),r.crossDomain||f["X-Requested-With"]||(f["X-Requested-With"]="XMLHttpRequest");try{for(s in f)o.setRequestHeader(s,f[s])}catch(c){}o.send(r.hasContent&&r.data||null),u=function(n,f){var s,a,l,c;try{if(u&&(f||4===o.readyState))if(u=t,h&&(o.onreadystatechange=i.noop,vt&&delete nt[h]),f)4!==o.readyState&&o.abort();else{c={},s=o.status,a=o.getAllResponseHeaders(),"string"==typeof o.responseText&&(c.text=o.responseText);try{l=o.statusText}catch(v){l=""}s||!r.isLocal||r.crossDomain?1223===s&&(s=204):s=c.text?200:404}}catch(y){f||e(-1,y)}c&&e(s,l,c,a)},r.async?4===o.readyState?setTimeout(u):(h=++tf,vt&&(nt||(nt={},i(n).unload(vt)),nt[h]=u),o.onreadystatechange=u):u()},abort:function(){u&&u(t,!0)}}}});var it,yt,wo=/^(?:toggle|show|hide)$/,uf=RegExp("^(?:([+-])=|)("+st+")([a-z%]*)$","i"),bo=/queueHooks$/,pt=[go],ft={"*":[function(n,t){var f=this.createTween(n,t),s=f.cur(),r=uf.exec(t),e=r&&r[3]||(i.cssNumber[n]?"":"px"),u=(i.cssNumber[n]||"px"!==e&&+s)&&uf.exec(i.css(f.elem,n)),o=1,h=20;if(u&&u[3]!==e){e=e||u[3],r=r||[],u=+s||1;do o=o||".5",u/=o,i.style(f.elem,n,u+e);while(o!==(o=f.cur()/s)&&1!==o&&--h)}return r&&(u=f.start=+u||+s||0,f.unit=e,f.end=r[1]?u+(r[1]+1)*r[2]:+r[2]),f}]};i.Animation=i.extend(of,{tweener:function(n,t){i.isFunction(n)?(t=n,n=["*"]):n=n.split(" ");for(var r,u=0,f=n.length;f>u;u++)r=n[u],ft[r]=ft[r]||[],ft[r].unshift(t)},prefilter:function(n,t){t?pt.unshift(n):pt.push(n)}}),i.Tween=f,f.prototype={constructor:f,init:function(n,t,r,u,f,e){this.elem=n,this.prop=r,this.easing=f||"swing",this.options=t,this.start=this.now=this.cur(),this.end=u,this.unit=e||(i.cssNumber[r]?"":"px")},cur:function(){var n=f.propHooks[this.prop];return n&&n.get?n.get(this):f.propHooks._default.get(this)},run:function(n){var r,t=f.propHooks[this.prop];return this.pos=r=this.options.duration?i.easing[this.easing](n,this.options.duration*n,0,1,this.options.duration):n,this.now=(this.end-this.start)*r+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),t&&t.set?t.set(this):f.propHooks._default.set(this),this}},f.prototype.init.prototype=f.prototype,f.propHooks={_default:{get:function(n){var t;return null==n.elem[n.prop]||n.elem.style&&null!=n.elem.style[n.prop]?(t=i.css(n.elem,n.prop,""),t&&"auto"!==t?t:0):n.elem[n.prop]},set:function(n){i.fx.step[n.prop]?i.fx.step[n.prop](n):n.elem.style&&(null!=n.elem.style[i.cssProps[n.prop]]||i.cssHooks[n.prop])?i.style(n.elem,n.prop,n.now+n.unit):n.elem[n.prop]=n.now}}},f.propHooks.scrollTop=f.propHooks.scrollLeft={set:function(n){n.elem.nodeType&&n.elem.parentNode&&(n.elem[n.prop]=n.now)}},i.each(["toggle","show","hide"],function(n,t){var r=i.fn[t];i.fn[t]=function(n,i,u){return null==n||"boolean"==typeof n?r.apply(this,arguments):this.animate(wt(t,!0),n,i,u)}}),i.fn.extend({fadeTo:function(n,t,i,r){return this.filter(ut).css("opacity",0).show().end().animate({opacity:t},n,i,r)},animate:function(n,t,r,u){var o=i.isEmptyObject(n),e=i.speed(t,r,u),f=function(){var t=of(this,i.extend({},n),e);(o||i._data(this,"finish"))&&t.stop(!0)};return f.finish=f,o||e.queue===!1?this.each(f):this.queue(e.queue,f)},stop:function(n,r,u){var f=function(n){var t=n.stop;delete n.stop,t(u)};return"string"!=typeof n&&(u=r,r=n,n=t),r&&n!==!1&&this.queue(n||"fx",[]),this.each(function(){var o=!0,t=null!=n&&n+"queueHooks",e=i.timers,r=i._data(this);if(t)r[t]&&r[t].stop&&f(r[t]);else for(t in r)r[t]&&r[t].stop&&bo.test(t)&&f(r[t]);for(t=e.length;t--;)e[t].elem!==this||null!=n&&e[t].queue!==n||(e[t].anim.stop(u),o=!1,e.splice(t,1));(o||!u)&&i.dequeue(this,n)})},finish:function(n){return n!==!1&&(n=n||"fx"),this.each(function(){var t,f=i._data(this),r=f[n+"queue"],e=f[n+"queueHooks"],u=i.timers,o=r?r.length:0;for(f.finish=!0,i.queue(this,n,[]),e&&e.stop&&e.stop.call(this,!0),t=u.length;t--;)u[t].elem===this&&u[t].queue===n&&(u[t].anim.stop(!0),u.splice(t,1));for(t=0;o>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete f.finish})}}),i.each({slideDown:wt("show"),slideUp:wt("hide"),slideToggle:wt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(n,t){i.fn[n]=function(n,i,r){return this.animate(t,n,i,r)}}),i.speed=function(n,t,r){var u=n&&"object"==typeof n?i.extend({},n):{complete:r||!r&&t||i.isFunction(n)&&n,duration:n,easing:r&&t||t&&!i.isFunction(t)&&t};return u.duration=i.fx.off?0:"number"==typeof u.duration?u.duration:u.duration in i.fx.speeds?i.fx.speeds[u.duration]:i.fx.speeds._default,(null==u.queue||u.queue===!0)&&(u.queue="fx"),u.old=u.complete,u.complete=function(){i.isFunction(u.old)&&u.old.call(this),u.queue&&i.dequeue(this,u.queue)},u},i.easing={linear:function(n){return n},swing:function(n){return.5-Math.cos(n*Math.PI)/2}},i.timers=[],i.fx=f.prototype.init,i.fx.tick=function(){var u,n=i.timers,r=0;for(it=i.now();n.length>r;r++)u=n[r],u()||n[r]!==u||n.splice(r--,1);n.length||i.fx.stop(),it=t},i.fx.timer=function(n){n()&&i.timers.push(n)&&i.fx.start()},i.fx.interval=13,i.fx.start=function(){yt||(yt=setInterval(i.fx.tick,i.fx.interval))},i.fx.stop=function(){clearInterval(yt),yt=null},i.fx.speeds={slow:600,fast:200,_default:400},i.fx.step={},i.expr&&i.expr.filters&&(i.expr.filters.animated=function(n){return i.grep(i.timers,function(t){return n===t.elem}).length}),i.fn.offset=function(n){if(arguments.length)return n===t?this:this.each(function(t){i.offset.setOffset(this,n,t)});var r,e,f={top:0,left:0},u=this[0],s=u&&u.ownerDocument;if(s)return r=s.documentElement,i.contains(r,u)?(typeof u.getBoundingClientRect!==o&&(f=u.getBoundingClientRect()),e=sf(s),{top:f.top+(e.pageYOffset||r.scrollTop)-(r.clientTop||0),left:f.left+(e.pageXOffset||r.scrollLeft)-(r.clientLeft||0)}):f},i.offset={setOffset:function(n,t,r){var f=i.css(n,"position");"static"===f&&(n.style.position="relative");var e=i(n),o=e.offset(),l=i.css(n,"top"),a=i.css(n,"left"),v=("absolute"===f||"fixed"===f)&&i.inArray("auto",[l,a])>-1,u={},s={},h,c;v?(s=e.position(),h=s.top,c=s.left):(h=parseFloat(l)||0,c=parseFloat(a)||0),i.isFunction(t)&&(t=t.call(n,r,o)),null!=t.top&&(u.top=t.top-o.top+h),null!=t.left&&(u.left=t.left-o.left+c),"using"in t?t.using.call(n,u):e.css(u)}},i.fn.extend({position:function(){if(this[0]){var n,r,t={top:0,left:0},u=this[0];return"fixed"===i.css(u,"position")?r=u.getBoundingClientRect():(n=this.offsetParent(),r=this.offset(),i.nodeName(n[0],"html")||(t=n.offset()),t.top+=i.css(n[0],"borderTopWidth",!0),t.left+=i.css(n[0],"borderLeftWidth",!0)),{top:r.top-t.top-i.css(u,"marginTop",!0),left:r.left-t.left-i.css(u,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var n=this.offsetParent||ki;n&&!i.nodeName(n,"html")&&"static"===i.css(n,"position");)n=n.offsetParent;return n||ki})}}),i.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,r){var u=/Y/.test(r);i.fn[n]=function(f){return i.access(this,function(n,f,e){var o=sf(n);return e===t?o?r in o?o[r]:o.document.documentElement[f]:n[f]:(o?o.scrollTo(u?i(o).scrollLeft():e,u?e:i(o).scrollTop()):n[f]=e,t)},n,f,arguments.length,null)}}),i.each({Height:"height",Width:"width"},function(n,r){i.each({padding:"inner"+n,content:r,"":"outer"+n},function(u,f){i.fn[f]=function(f,e){var o=arguments.length&&(u||"boolean"!=typeof f),s=u||(f===!0||e===!0?"margin":"border");return i.access(this,function(r,u,f){var e;return i.isWindow(r)?r.document.documentElement["client"+n]:9===r.nodeType?(e=r.documentElement,Math.max(r.body["scroll"+n],e["scroll"+n],r.body["offset"+n],e["offset"+n],e["client"+n])):f===t?i.css(r,u,s):i.style(r,u,f,s)},r,o?f:t,o,null)}})}),i.fn.size=function(){return this.length},i.fn.andSelf=i.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=i:(n.jQuery=n.$=i,"function"==typeof define&&define.amd&&define("jquery",[],function(){return i}))}(window),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(n,t,i,r,u){return jQuery.easing[jQuery.easing.def](n,t,i,r,u)},easeInQuad:function(n,t,i,r,u){return r*(t/=u)*t+i},easeOutQuad:function(n,t,i,r,u){return-r*(t/=u)*(t-2)+i},easeInOutQuad:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t+i:-r/2*(--t*(t-2)-1)+i},easeInCubic:function(n,t,i,r,u){return r*(t/=u)*t*t+i},easeOutCubic:function(n,t,i,r,u){return r*((t=t/u-1)*t*t+1)+i},easeInOutCubic:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t*t+i:r/2*((t-=2)*t*t+2)+i},easeInQuart:function(n,t,i,r,u){return r*(t/=u)*t*t*t+i},easeOutQuart:function(n,t,i,r,u){return-r*((t=t/u-1)*t*t*t-1)+i},easeInOutQuart:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t*t*t+i:-r/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(n,t,i,r,u){return r*(t/=u)*t*t*t*t+i},easeOutQuint:function(n,t,i,r,u){return r*((t=t/u-1)*t*t*t*t+1)+i},easeInOutQuint:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t*t*t*t+i:r/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(n,t,i,r,u){return-r*Math.cos(t/u*(Math.PI/2))+r+i},easeOutSine:function(n,t,i,r,u){return r*Math.sin(t/u*(Math.PI/2))+i},easeInOutSine:function(n,t,i,r,u){return-r/2*(Math.cos(Math.PI*t/u)-1)+i},easeInExpo:function(n,t,i,r,u){return t==0?i:r*Math.pow(2,10*(t/u-1))+i},easeOutExpo:function(n,t,i,r,u){return t==u?i+r:r*(-Math.pow(2,-10*t/u)+1)+i},easeInOutExpo:function(n,t,i,r,u){return t==0?i:t==u?i+r:(t/=u/2)<1?r/2*Math.pow(2,10*(t-1))+i:r/2*(-Math.pow(2,-10*--t)+2)+i},easeInCirc:function(n,t,i,r,u){return-r*(Math.sqrt(1-(t/=u)*t)-1)+i},easeOutCirc:function(n,t,i,r,u){return r*Math.sqrt(1-(t=t/u-1)*t)+i},easeInOutCirc:function(n,t,i,r,u){return(t/=u/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+i:r/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(n,t,i,r,u){var o=1.70158,f=0,e=r;return t==0?i:(t/=u)==1?i+r:(f||(f=u*.3),e<Math.abs(r)?(e=r,o=f/4):o=f/(2*Math.PI)*Math.asin(r/e),-(e*Math.pow(2,10*(t-=1))*Math.sin((t*u-o)*2*Math.PI/f))+i)},easeOutElastic:function(n,t,i,r,u){var o=1.70158,f=0,e=r;return t==0?i:(t/=u)==1?i+r:(f||(f=u*.3),e<Math.abs(r)?(e=r,o=f/4):o=f/(2*Math.PI)*Math.asin(r/e),e*Math.pow(2,-10*t)*Math.sin((t*u-o)*2*Math.PI/f)+r+i)},easeInOutElastic:function(n,t,i,r,u){var o=1.70158,f=0,e=r;return t==0?i:(t/=u/2)==2?i+r:(f||(f=u*.3*1.5),e<Math.abs(r)?(e=r,o=f/4):o=f/(2*Math.PI)*Math.asin(r/e),t<1)?-.5*e*Math.pow(2,10*(t-=1))*Math.sin((t*u-o)*2*Math.PI/f)+i:e*Math.pow(2,-10*(t-=1))*Math.sin((t*u-o)*2*Math.PI/f)*.5+r+i},easeInBack:function(n,t,i,r,u,f){return f==undefined&&(f=1.70158),r*(t/=u)*t*((f+1)*t-f)+i},easeOutBack:function(n,t,i,r,u,f){return f==undefined&&(f=1.70158),r*((t=t/u-1)*t*((f+1)*t+f)+1)+i},easeInOutBack:function(n,t,i,r,u,f){return(f==undefined&&(f=1.70158),(t/=u/2)<1)?r/2*t*t*(((f*=1.525)+1)*t-f)+i:r/2*((t-=2)*t*(((f*=1.525)+1)*t+f)+2)+i},easeInBounce:function(n,t,i,r,u){return r-jQuery.easing.easeOutBounce(n,u-t,0,r,u)+i},easeOutBounce:function(n,t,i,r,u){return(t/=u)<1/2.75?r*7.5625*t*t+i:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+i:r*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(n,t,i,r,u){return t<u/2?jQuery.easing.easeInBounce(n,t*2,0,r,u)*.5+i:jQuery.easing.easeOutBounce(n,t*2-u,0,r,u)*.5+r*.5+i}}),function(){var y=this,lt=y._,e={},r=Array.prototype,nt=Object.prototype,at=Function.prototype,p=r.push,t=r.slice,o=r.concat,f=nt.toString,vt=nt.hasOwnProperty,tt=r.forEach,it=r.map,rt=r.reduce,ut=r.reduceRight,ft=r.filter,et=r.every,ot=r.some,s=r.indexOf,st=r.lastIndexOf,yt=Array.isArray,pt=Object.keys,w=at.bind,n=function(t){return t instanceof n?t:this instanceof n?(this._wrapped=t,void 0):new n(t)},i,b,k,h,c,d,l,a,u,ht,ct,v;"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=n),exports._=n):y._=n,n.VERSION="1.5.2",i=n.each=n.forEach=function(t,i,r){var u,o;if(null!=t)if(tt&&t.forEach===tt)t.forEach(i,r);else if(t.length===+t.length){for(u=0,o=t.length;o>u;u++)if(i.call(r,t[u],u,t)===e)return}else for(var f=n.keys(t),u=0,o=f.length;o>u;u++)if(i.call(r,t[f[u]],f[u],t)===e)return},n.map=n.collect=function(n,t,r){var u=[];return null==n?u:it&&n.map===it?n.map(t,r):(i(n,function(n,i,f){u.push(t.call(r,n,i,f))}),u)},b="Reduce of empty array with no initial value",n.reduce=n.foldl=n.inject=function(t,r,u,f){var e=arguments.length>2;if(null==t&&(t=[]),rt&&t.reduce===rt)return f&&(r=n.bind(r,f)),e?t.reduce(r,u):t.reduce(r);if(i(t,function(n,t,i){e?u=r.call(f,u,n,t,i):(u=n,e=!0)}),!e)throw new TypeError(b);return u},n.reduceRight=n.foldr=function(t,r,u,f){var o=arguments.length>2,e,s;if(null==t&&(t=[]),ut&&t.reduceRight===ut)return f&&(r=n.bind(r,f)),o?t.reduceRight(r,u):t.reduceRight(r);if(e=t.length,e!==+e&&(s=n.keys(t),e=s.length),i(t,function(n,i,h){i=s?s[--e]:--e,o?u=r.call(f,u,t[i],i,h):(u=t[i],o=!0)}),!o)throw new TypeError(b);return u},n.find=n.detect=function(n,t,i){var r;return k(n,function(n,u,f){if(t.call(i,n,u,f))return r=n,!0}),r},n.filter=n.select=function(n,t,r){var u=[];return null==n?u:ft&&n.filter===ft?n.filter(t,r):(i(n,function(n,i,f){t.call(r,n,i,f)&&u.push(n)}),u)},n.reject=function(t,i,r){return n.filter(t,function(n,t,u){return!i.call(r,n,t,u)},r)},n.every=n.all=function(t,r,u){r||(r=n.identity);var f=!0;return null==t?f:et&&t.every===et?t.every(r,u):(i(t,function(n,t,i){if(!(f=f&&r.call(u,n,t,i)))return e}),!!f)},k=n.some=n.any=function(t,r,u){r||(r=n.identity);var f=!1;return null==t?f:ot&&t.some===ot?t.some(r,u):(i(t,function(n,t,i){if(f||(f=r.call(u,n,t,i)))return e}),!!f)},n.contains=n.include=function(n,t){return null==n?!1:s&&n.indexOf===s?n.indexOf(t)!=-1:k(n,function(n){return n===t})},n.invoke=function(i,r){var u=t.call(arguments,2),f=n.isFunction(r);return n.map(i,function(n){return(f?r:n[r]).apply(n,u)})},n.pluck=function(t,i){return n.map(t,function(n){return n[i]})},n.where=function(t,i,r){return n.isEmpty(i)?r?void 0:[]:n[r?"find":"filter"](t,function(n){for(var t in i)if(i[t]!==n[t])return!1;return!0})},n.findWhere=function(t,i){return n.where(t,i,!0)},n.max=function(t,r,u){if(!r&&n.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!r&&n.isEmpty(t))return-1/0;var f={computed:-1/0,value:-1/0};return i(t,function(n,t,i){var e=r?r.call(u,n,t,i):n;e>f.computed&&(f={value:n,computed:e})}),f.value},n.min=function(t,r,u){if(!r&&n.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!r&&n.isEmpty(t))return 1/0;var f={computed:1/0,value:1/0};return i(t,function(n,t,i){var e=r?r.call(u,n,t,i):n;e<f.computed&&(f={value:n,computed:e})}),f.value},n.shuffle=function(t){var u,f=0,r=[];return i(t,function(t){u=n.random(f++),r[f-1]=r[u],r[u]=t}),r},n.sample=function(t,i,r){return arguments.length<2||r?t[n.random(t.length-1)]:n.shuffle(t).slice(0,Math.max(0,i))},h=function(t){return n.isFunction(t)?t:function(n){return n[t]}},n.sortBy=function(t,i,r){var u=h(i);return n.pluck(n.map(t,function(n,t,i){return{value:n,index:t,criteria:u.call(r,n,t,i)}}).sort(function(n,t){var i=n.criteria,r=t.criteria;if(i!==r){if(i>r||i===void 0)return 1;if(r>i||r===void 0)return-1}return n.index-t.index}),"value")},c=function(t){return function(r,u,f){var e={},o=null==u?n.identity:h(u);return i(r,function(n,i){var u=o.call(f,n,i,r);t(e,u,n)}),e}},n.groupBy=c(function(t,i,r){(n.has(t,i)?t[i]:t[i]=[]).push(r)}),n.indexBy=c(function(n,t,i){n[t]=i}),n.countBy=c(function(t,i){n.has(t,i)?t[i]++:t[i]=1}),n.sortedIndex=function(t,i,r,u){var e;r=null==r?n.identity:h(r);for(var s=r.call(u,i),f=0,o=t.length;o>f;)e=f+o>>>1,r.call(u,t[e])<s?f=e+1:o=e;return f},n.toArray=function(i){return i?n.isArray(i)?t.call(i):i.length===+i.length?n.map(i,n.identity):n.values(i):[]},n.size=function(t){return null==t?0:t.length===+t.length?t.length:n.keys(t).length},n.first=n.head=n.take=function(n,i,r){if(null!=n)return null==i||r?n[0]:t.call(n,0,i)},n.initial=function(n,i,r){return t.call(n,0,n.length-(null==i||r?1:i))},n.last=function(n,i,r){if(null!=n)return null==i||r?n[n.length-1]:t.call(n,Math.max(n.length-i,0))},n.rest=n.tail=n.drop=function(n,i,r){return t.call(n,null==i||r?1:i)},n.compact=function(t){return n.filter(t,n.identity)},d=function(t,r,u){return r&&n.every(t,n.isArray)?o.apply(u,t):(i(t,function(t){n.isArray(t)||n.isArguments(t)?r?p.apply(u,t):d(t,r,u):u.push(t)}),u)},n.flatten=function(n,t){return d(n,t,[])},n.without=function(i){return n.difference(i,t.call(arguments,1))},n.uniq=n.unique=function(t,r,u,f){n.isFunction(r)&&(f=u,u=r,r=!1);var s=u?n.map(t,u,f):t,o=[],e=[];return i(s,function(i,u){(r?u&&e[e.length-1]===i:n.contains(e,i))||(e.push(i),o.push(t[u]))}),o},n.union=function(){return n.uniq(n.flatten(arguments,!0))},n.intersection=function(i){var r=t.call(arguments,1);return n.filter(n.uniq(i),function(t){return n.every(r,function(i){return n.indexOf(i,t)>=0})})},n.difference=function(i){var u=o.apply(r,t.call(arguments,1));return n.filter(i,function(t){return!n.contains(u,t)})},n.zip=function(){for(var i=n.max(n.pluck(arguments,"length").concat(0)),r=new Array(i),t=0;i>t;t++)r[t]=n.pluck(arguments,""+t);return r},n.object=function(n,t){if(null==n)return{};for(var r={},i=0,u=n.length;u>i;i++)t?r[n[i]]=t[i]:r[n[i][0]]=n[i][1];return r},n.indexOf=function(t,i,r){if(null==t)return-1;var u=0,f=t.length;if(r){if("number"!=typeof r)return u=n.sortedIndex(t,i),t[u]===i?u:-1;u=0>r?Math.max(0,f+r):r}if(s&&t.indexOf===s)return t.indexOf(i,r);for(;f>u;u++)if(t[u]===i)return u;return-1},n.lastIndexOf=function(n,t,i){var u,r;if(null==n)return-1;if(u=null!=i,st&&n.lastIndexOf===st)return u?n.lastIndexOf(t,i):n.lastIndexOf(t);for(r=u?i:n.length;r--;)if(n[r]===t)return r;return-1},n.range=function(n,t,i){arguments.length<=1&&(t=n||0,n=0),i=arguments[2]||1;for(var r=Math.max(Math.ceil((t-n)/i),0),u=0,f=new Array(r);r>u;)f[u++]=n,n+=i;return f},l=function(){},n.bind=function(i,r){var u,f;if(w&&i.bind===w)return w.apply(i,t.call(arguments,1));if(!n.isFunction(i))throw new TypeError;return u=t.call(arguments,2),f=function(){var e,n;return this instanceof f?(l.prototype=i.prototype,e=new l,l.prototype=null,n=i.apply(e,u.concat(t.call(arguments))),Object(n)===n?n:e):i.apply(r,u.concat(t.call(arguments)))}},n.partial=function(n){var i=t.call(arguments,1);return function(){return n.apply(this,i.concat(t.call(arguments)))}},n.bindAll=function(r){var u=t.call(arguments,1);if(0===u.length)throw new Error("bindAll must be passed function names");return i(u,function(t){r[t]=n.bind(r[t],r)}),r},n.memoize=function(t,i){var r={};return i||(i=n.identity),function(){var u=i.apply(this,arguments);return n.has(r,u)?r[u]:r[u]=t.apply(this,arguments)}},n.delay=function(n,i){var r=t.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},i)},n.defer=function(i){return n.delay.apply(n,[i,1].concat(t.call(arguments,1)))},n.throttle=function(n,t,i){var f,e,o,r=null,u=0,s;return i||(i={}),s=function(){u=i.leading===!1?0:new Date,r=null,o=n.apply(f,e)},function(){var h=new Date,c;return u||i.leading!==!1||(u=h),c=t-(h-u),f=this,e=arguments,0>=c?(clearTimeout(r),r=null,u=h,o=n.apply(f,e)):r||i.trailing===!1||(r=setTimeout(s,c)),o}},n.debounce=function(n,t,i){var r,u,f,o,e;return function(){f=this,u=arguments,o=new Date;var s=function(){var h=new Date-o;t>h?r=setTimeout(s,t-h):(r=null,i||(e=n.apply(f,u)))},h=i&&!r;return r||(r=setTimeout(s,t)),h&&(e=n.apply(f,u)),e}},n.once=function(n){var t,i=!1;return function(){return i?t:(i=!0,t=n.apply(this,arguments),n=null,t)}},n.wrap=function(n,t){return function(){var i=[n];return p.apply(i,arguments),t.apply(this,i)}},n.compose=function(){var n=arguments;return function(){for(var t=arguments,i=n.length-1;i>=0;i--)t=[n[i].apply(this,t)];return t[0]}},n.after=function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}},n.keys=pt||function(t){var i,r;if(t!==Object(t))throw new TypeError("Invalid object");i=[];for(r in t)n.has(t,r)&&i.push(r);return i},n.values=function(t){for(var r=n.keys(t),u=r.length,f=new Array(u),i=0;u>i;i++)f[i]=t[r[i]];return f},n.pairs=function(t){for(var r=n.keys(t),u=r.length,f=new Array(u),i=0;u>i;i++)f[i]=[r[i],t[r[i]]];return f},n.invert=function(t){for(var u={},r=n.keys(t),i=0,f=r.length;f>i;i++)u[t[r[i]]]=r[i];return u},n.functions=n.methods=function(t){var r=[],i;for(i in t)n.isFunction(t[i])&&r.push(i);return r.sort()},n.extend=function(n){return i(t.call(arguments,1),function(t){if(t)for(var i in t)n[i]=t[i]}),n},n.pick=function(n){var u={},f=o.apply(r,t.call(arguments,1));return i(f,function(t){t in n&&(u[t]=n[t])}),u},n.omit=function(i){var f={},e=o.apply(r,t.call(arguments,1)),u;for(u in i)n.contains(e,u)||(f[u]=i[u]);return f},n.defaults=function(n){return i(t.call(arguments,1),function(t){if(t)for(var i in t)n[i]===void 0&&(n[i]=t[i])}),n},n.clone=function(t){return n.isObject(t)?n.isArray(t)?t.slice():n.extend({},t):t},n.tap=function(n,t){return t(n),n},a=function(t,i,r,u){var l,v,h,c,e,o,s;if(t===i)return 0!==t||1/t==1/i;if(null==t||null==i)return t===i;if(t instanceof n&&(t=t._wrapped),i instanceof n&&(i=i._wrapped),l=f.call(t),l!=f.call(i))return!1;switch(l){case"[object String]":return t==String(i);case"[object Number]":return t!=+t?i!=+i:0==t?1/t==1/i:t==+i;case"[object Date]":case"[object Boolean]":return+t==+i;case"[object RegExp]":return t.source==i.source&&t.global==i.global&&t.multiline==i.multiline&&t.ignoreCase==i.ignoreCase}if("object"!=typeof t||"object"!=typeof i)return!1;for(v=r.length;v--;)if(r[v]==t)return u[v]==i;if(h=t.constructor,c=i.constructor,h!==c&&!(n.isFunction(h)&&h instanceof h&&n.isFunction(c)&&c instanceof c))return!1;if(r.push(t),u.push(i),e=0,o=!0,"[object Array]"==l){if(e=t.length,o=e==i.length)for(;e--&&(o=a(t[e],i[e],r,u)););}else{for(s in t)if(n.has(t,s)&&(e++,!(o=n.has(i,s)&&a(t[s],i[s],r,u))))break;if(o){for(s in i)if(n.has(i,s)&&!e--)break;o=!e}}return r.pop(),u.pop(),o},n.isEqual=function(n,t){return a(n,t,[],[])},n.isEmpty=function(t){if(null==t)return!0;if(n.isArray(t)||n.isString(t))return 0===t.length;for(var i in t)if(n.has(t,i))return!1;return!0},n.isElement=function(n){return!(!n||1!==n.nodeType)},n.isArray=yt||function(n){return"[object Array]"==f.call(n)},n.isObject=function(n){return n===Object(n)},i(["Arguments","Function","String","Number","Date","RegExp"],function(t){n["is"+t]=function(n){return f.call(n)=="[object "+t+"]"}}),n.isArguments(arguments)||(n.isArguments=function(t){return!(!t||!n.has(t,"callee"))}),"function"!=typeof/./&&(n.isFunction=function(n){return"function"==typeof n}),n.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},n.isNaN=function(t){return n.isNumber(t)&&t!=+t},n.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==f.call(n)},n.isNull=function(n){return null===n},n.isUndefined=function(n){return n===void 0},n.has=function(n,t){return vt.call(n,t)},n.noConflict=function(){return y._=lt,this},n.identity=function(n){return n},n.times=function(n,t,i){for(var u=Array(Math.max(0,n)),r=0;n>r;r++)u[r]=t.call(i,r);return u},n.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},u={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}},u.unescape=n.invert(u.escape),ht={escape:new RegExp("["+n.keys(u.escape).join("")+"]","g"),unescape:new RegExp("("+n.keys(u.unescape).join("|")+")","g")},n.each(["escape","unescape"],function(t){n[t]=function(n){return null==n?"":(""+n).replace(ht[t],function(n){return u[t][n]})}}),n.result=function(t,i){if(null==t)return void 0;var r=t[i];return n.isFunction(r)?r.call(t):r},n.mixin=function(t){i(n.functions(t),function(i){var r=n[i]=t[i];n.prototype[i]=function(){var t=[this._wrapped];return p.apply(t,arguments),v.call(this,r.apply(n,t))}})},ct=0,n.uniqueId=function(n){var t=++ct+"";return n?n+t:t},n.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var g=/(.)^/,wt={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},bt=/\\|'|\r|\n|\t|\u2028|\u2029/g;n.template=function(t,i,r){var f,e;r=n.defaults({},r,n.templateSettings);var s=new RegExp([(r.escape||g).source,(r.interpolate||g).source,(r.evaluate||g).source].join("|")+"|$","g"),o=0,u="__p+='";t.replace(s,function(n,i,r,f,e){return u+=t.slice(o,e).replace(bt,function(n){return"\\"+wt[n]}),i&&(u+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'"),r&&(u+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),f&&(u+="';\n"+f+"\n__p+='"),o=e+n.length,n}),u+="';\n",r.variable||(u="with(obj||{}){\n"+u+"}\n"),u="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+u+"return __p;\n";try{f=new Function(r.variable||"obj","_",u)}catch(h){throw h.source=u,h;}return i?f(i,n):(e=function(t){return f.call(this,t,n)},e.source="function("+(r.variable||"obj")+"){\n"+u+"}",e)},n.chain=function(t){return n(t).chain()},v=function(t){return this._chain?n(t).chain():t},n.mixin(n),i(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var i=r[t];n.prototype[t]=function(){var n=this._wrapped;return i.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],v.call(this,n)}}),i(["concat","join","slice"],function(t){var i=r[t];n.prototype[t]=function(){return v.call(this,i.apply(this._wrapped,arguments))}}),n.extend(n.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(){var r=this,it=r.Backbone,h=[],rt=h.push,c=h.slice,ut=h.splice,t,n,f,y,p,w,b,d,tt,l,e;t=typeof exports!="undefined"?exports:r.Backbone={},t.VERSION="1.0.0",n=r._,n||typeof require=="undefined"||(n=require("underscore")),t.$=r.jQuery||r.Zepto||r.ender||r.$,t.noConflict=function(){return r.Backbone=it,this},t.emulateHTTP=!1,t.emulateJSON=!1;var i=t.Events={on:function(n,t,i){if(!o(this,"on",n,[t,i])||!t)return this;this._events||(this._events={});var r=this._events[n]||(this._events[n]=[]);return r.push({callback:t,context:i,ctx:i||this}),this},once:function(t,i,r){if(!o(this,"once",t,[i,r])||!i)return this;var f=this,u=n.once(function(){f.off(t,u),i.apply(this,arguments)});u._callback=i;return this.on(t,u,r)},off:function(t,i,r){var s,u,h,c,f,l,e,a;if(!this._events||!o(this,"off",t,[i,r]))return this;if(!t&&!i&&!r)return this._events={},this;for(c=t?[t]:n.keys(this._events),f=0,l=c.length;f<l;f++)if(t=c[f],h=this._events[t]){if(this._events[t]=s=[],i||r)for(e=0,a=h.length;e<a;e++)u=h[e],(i&&i!==u.callback&&i!==u.callback._callback||r&&r!==u.context)&&s.push(u);s.length||delete this._events[t]}return this},trigger:function(n){var t,i,r;return this._events?(t=c.call(arguments,1),!o(this,"trigger",n,t))?this:(i=this._events[n],r=this._events.all,i&&v(i,t),r&&v(r,arguments),this):this},stopListening:function(n,t,i){var r=this._listeners,f,u;if(!r)return this;f=!t&&!i,typeof t=="object"&&(i=this),n&&((r={})[n._listenerId]=n);for(u in r)r[u].off(t,i,this),f&&delete this._listeners[u];return this}},a=/\s+/,o=function(n,t,i,r){var f,e,u,o;if(!i)return!0;if(typeof i=="object"){for(f in i)n[t].apply(n,[f,i[f]].concat(r));return!1}if(a.test(i)){for(e=i.split(a),u=0,o=e.length;u<o;u++)n[t].apply(n,[e[u]].concat(r));return!1}return!0},v=function(n,t){var i,r=-1,u=n.length,f=t[0],e=t[1],o=t[2];switch(t.length){case 0:while(++r<u)(i=n[r]).callback.call(i.ctx);return;case 1:while(++r<u)(i=n[r]).callback.call(i.ctx,f);return;case 2:while(++r<u)(i=n[r]).callback.call(i.ctx,f,e);return;case 3:while(++r<u)(i=n[r]).callback.call(i.ctx,f,e,o);return;default:while(++r<u)(i=n[r]).callback.apply(i.ctx,t)}},ft={listenTo:"on",listenToOnce:"once"};n.each(ft,function(t,r){i[r]=function(i,r,u){var f=this._listeners||(this._listeners={}),e=i._listenerId||(i._listenerId=n.uniqueId("l"));return f[e]=i,typeof r=="object"&&(u=this),i[t](r,u,this),this}}),i.bind=i.on,i.unbind=i.off,n.extend(t,i),f=t.Model=function(t,i){var u,r=t||{};i||(i={}),this.cid=n.uniqueId("c"),this.attributes={},n.extend(this,n.pick(i,y)),i.parse&&(r=this.parse(r,i)||{}),(u=n.result(this,"defaults"))&&(r=n.defaults({},r,u)),this.set(r,i),this.changed={},this.initialize.apply(this,arguments)},y=["url","urlRoot","collection"],n.extend(f.prototype,i,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(n){return this.attributes[n]},escape:function(t){return n.escape(this.get(t))},has:function(n){return this.get(n)!=null},set:function(t,i,r){var u,f,l,e,h,c,a,o,s,v;if(t==null)return this;if(typeof t=="object"?(f=t,r=i):(f={})[t]=i,r||(r={}),!this._validate(f,r))return!1;l=r.unset,h=r.silent,e=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=n.clone(this.attributes),this.changed={}),o=this.attributes,a=this._previousAttributes,this.idAttribute in f&&(this.id=f[this.idAttribute]);for(u in f)i=f[u],n.isEqual(o[u],i)||e.push(u),n.isEqual(a[u],i)?delete this.changed[u]:this.changed[u]=i,l?delete o[u]:o[u]=i;if(!h)for(e.length&&(this._pending=!0),s=0,v=e.length;s<v;s++)this.trigger("change:"+e[s],this,o[e[s]],r);if(c)return this;if(!h)while(this._pending)this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,i){return this.set(t,void 0,n.extend({},i,{unset:!0}))},clear:function(t){var i={},r;for(r in this.attributes)i[r]=void 0;return this.set(i,n.extend({},t,{unset:!0}))},hasChanged:function(t){return t==null?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){var u,i,f,r;if(!t)return this.hasChanged()?n.clone(this.changed):!1;i=!1,f=this._changing?this._previousAttributes:this.attributes;for(r in t)n.isEqual(f[r],u=t[r])||((i||(i={}))[r]=u);return i},previous:function(n){return n==null||!this._previousAttributes?null:this._previousAttributes[n]},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=t?n.clone(t):{},t.parse===void 0&&(t.parse=!0);var i=this,r=t.success;return t.success=function(n){if(!i.set(i.parse(n,t),t))return!1;r&&r(i,n,t),i.trigger("sync",i,n,t)},e(this,t),this.sync("read",this,t)},save:function(t,i,r){var u,o,c,s=this.attributes,f,h;return(t==null||typeof t=="object"?(u=t,r=i):(u={})[t]=i,u&&(!r||!r.wait)&&!this.set(u,r))?!1:(r=n.extend({validate:!0},r),!this._validate(u,r))?!1:(u&&r.wait&&(this.attributes=n.extend({},s,u)),r.parse===void 0&&(r.parse=!0),f=this,h=r.success,r.success=function(t){f.attributes=s;var i=f.parse(t,r);if(r.wait&&(i=n.extend(u||{},i)),n.isObject(i)&&!f.set(i,r))return!1;h&&h(f,t,r),f.trigger("sync",f,t,r)},e(this,r),o=this.isNew()?"create":r.patch?"patch":"update",o==="patch"&&(r.attrs=u),c=this.sync(o,this,r),u&&r.wait&&(this.attributes=s),c)},destroy:function(t){var f;t=t?n.clone(t):{};var i=this,r=t.success,u=function(){i.trigger("destroy",i,i.collection,t)};return(t.success=function(n){(t.wait||i.isNew())&&u(),r&&r(i,n,t),i.isNew()||i.trigger("sync",i,n,t)},this.isNew())?(t.success(),!1):(e(this,t),f=this.sync("delete",this,t),t.wait||u(),f)},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||l();return this.isNew()?t:t+(t.charAt(t.length-1)==="/"?"":"/")+encodeURIComponent(this.id)},parse:function(n){return n},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},isValid:function(t){return this._validate({},n.extend(t||{},{validate:!0}))},_validate:function(t,i){if(!i.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var r=this.validationError=this.validate(t,i)||null;return r?(this.trigger("invalid",this,r,n.extend(i||{},{validationError:r})),!1):!0}}),p=["keys","values","pairs","invert","pick","omit"],n.each(p,function(t){f.prototype[t]=function(){var i=c.call(arguments);return i.unshift(this.attributes),n[t].apply(n,i)}});var s=t.Collection=function(t,i){i||(i={}),i.url&&(this.url=i.url),i.model&&(this.model=i.model),i.comparator!==void 0&&(this.comparator=i.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},i))},et={add:!0,remove:!0,merge:!0},ot={add:!0,merge:!1,remove:!1};n.extend(s.prototype,i,{model:f,initialize:function(){},toJSON:function(n){return this.map(function(t){return t.toJSON(n)})},sync:function(){return t.sync.apply(this,arguments)},add:function(t,i){return this.set(t,n.defaults(i||{},ot))},remove:function(t,i){t=n.isArray(t)?t.slice():[t],i||(i={});for(var f,r,u=0,e=t.length;u<e;u++)(r=this.get(t[u]),r)&&(delete this._byId[r.id],delete this._byId[r.cid],f=this.indexOf(r),this.models.splice(f,1),this.length--,i.silent||(i.index=f,r.trigger("remove",r,this,i)),this._removeReference(r));return this},set:function(t,i){i=n.defaults(i||{},et),i.parse&&(t=this.parse(t,i)),n.isArray(t)||(t=t?[t]:[]);for(var r,y,s,o,h=i.at,l=this.comparator&&h==null&&i.sort!==!1,v=n.isString(this.comparator)?this.comparator:null,f=[],c=[],a={},u=0,e=t.length;u<e;u++)if(r=this._prepareModel(t[u],i))if(s=this.get(r))i.remove&&(a[s.cid]=!0),i.merge&&(s.set(r.attributes,i),l&&!o&&s.hasChanged(v)&&(o=!0));else if(i.add){f.push(r);r.on("all",this._onModelEvent,this);this._byId[r.cid]=r,r.id!=null&&(this._byId[r.id]=r)}if(i.remove){for(u=0,e=this.length;u<e;++u)a[(r=this.models[u]).cid]||c.push(r);c.length&&this.remove(c,i)}if(f.length&&(l&&(o=!0),this.length+=f.length,h!=null?ut.apply(this.models,[h,0].concat(f)):rt.apply(this.models,f)),o&&this.sort({silent:!0}),i.silent)return this;for(u=0,e=f.length;u<e;u++)(r=f[u]).trigger("add",r,this,i);return o&&this.trigger("sort",this,i),this},reset:function(t,i){i||(i={});for(var r=0,u=this.models.length;r<u;r++)this._removeReference(this.models[r]);return i.previousModels=this.models,this._reset(),this.add(t,n.extend({silent:!0},i)),i.silent||this.trigger("reset",this,i),this},push:function(t,i){return t=this._prepareModel(t,i),this.add(t,n.extend({at:this.length},i)),t},pop:function(n){var t=this.at(this.length-1);return this.remove(t,n),t},unshift:function(t,i){return t=this._prepareModel(t,i),this.add(t,n.extend({at:0},i)),t},shift:function(n){var t=this.at(0);return this.remove(t,n),t},slice:function(n,t){return this.models.slice(n,t)},get:function(n){if(n!=null)return this._byId[n.id!=null?n.id:n.cid||n]},at:function(n){return this.models[n]},where:function(t,i){return n.isEmpty(t)?i?void 0:[]:this[i?"find":"filter"](function(n){for(var i in t)if(t[i]!==n.get(i))return!1;return!0})},findWhere:function(n){return this.where(n,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),n.isString(this.comparator)||this.comparator.length===1?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},sortedIndex:function(t,i,r){i||(i=this.comparator);var u=n.isFunction(i)?i:function(n){return n.get(i)};return n.sortedIndex(this.models,t,u,r)},pluck:function(t){return n.invoke(this.models,"get",t)},fetch:function(t){t=t?n.clone(t):{},t.parse===void 0&&(t.parse=!0);var r=t.success,i=this;return t.success=function(n){var u=t.reset?"reset":"set";i[u](n,t),r&&r(i,n,t),i.trigger("sync",i,n,t)},e(this,t),this.sync("read",this,t)},create:function(t,i){if(i=i?n.clone(i):{},!(t=this._prepareModel(t,i)))return!1;i.wait||this.add(t,i);var u=this,r=i.success;return i.success=function(n){i.wait&&u.add(t,i),r&&r(t,n,i)},t.save(null,i),t},parse:function(n){return n},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(n,t){if(n instanceof f)return n.collection||(n.collection=this),n;t||(t={}),t.collection=this;var i=new this.model(n,t);return i._validate(n,t)?i:(this.trigger("invalid",this,n,t),!1)},_removeReference:function(n){this===n.collection&&delete n.collection,n.off("all",this._onModelEvent,this)},_onModelEvent:function(n,t,i,r){(n!=="add"&&n!=="remove"||i===this)&&(n==="destroy"&&this.remove(t,r),t&&n==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],t.id!=null&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}}),w=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"],n.each(w,function(t){s.prototype[t]=function(){var i=c.call(arguments);return i.unshift(this.models),n[t].apply(n,i)}}),b=["groupBy","countBy","sortBy"],n.each(b,function(t){s.prototype[t]=function(i,r){var u=n.isFunction(i)?i:function(n){return n.get(i)};return n[t](this.models,u,r)}});var k=t.View=function(t){this.cid=n.uniqueId("view"),this._configure(t||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},st=/^(\S+)\s*(.*)$/,ht=["model","collection","el","id","attributes","className","tagName","events"];n.extend(k.prototype,i,{tagName:"div",$:function(n){return this.$el.find(n)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(n,i){return this.$el&&this.undelegateEvents(),this.$el=n instanceof t.$?n:t.$(n),this.el=this.$el[0],i!==!1&&this.delegateEvents(),this},delegateEvents:function(t){var r,i;if(!(t||(t=n.result(this,"events"))))return this;this.undelegateEvents();for(r in t)if(i=t[r],n.isFunction(i)||(i=this[t[r]]),i){var f=r.match(st),u=f[1],e=f[2];if(i=n.bind(i,this),u+=".delegateEvents"+this.cid,e==="")this.$el.on(u,i);else this.$el.on(u,e,i)}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(t){this.options&&(t=n.extend({},n.result(this,"options"),t)),n.extend(this,n.pick(t,ht)),this.options=t},_ensureElement:function(){var i,r;this.el?this.setElement(n.result(this,"el"),!1):(i=n.extend({},n.result(this,"attributes")),this.id&&(i.id=n.result(this,"id")),this.className&&(i["class"]=n.result(this,"className")),r=t.$("<"+n.result(this,"tagName")+">").attr(i),this.setElement(r,!1))}}),t.sync=function(i,r,u){var e=d[i],f,o,s;return n.defaults(u||(u={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON}),f={type:e,dataType:"json"},u.url||(f.url=n.result(r,"url")||l()),u.data==null&&r&&(i==="create"||i==="update"||i==="patch")&&(f.contentType="application/json",f.data=JSON.stringify(u.attrs||r.toJSON(u))),u.emulateJSON&&(f.contentType="application/x-www-form-urlencoded",f.data=f.data?{model:f.data}:{}),u.emulateHTTP&&(e==="PUT"||e==="DELETE"||e==="PATCH")&&(f.type="POST",u.emulateJSON&&(f.data._method=e),o=u.beforeSend,u.beforeSend=function(n){return n.setRequestHeader("X-HTTP-Method-Override",e),o?o.apply(this,arguments):void 0}),f.type==="GET"||u.emulateJSON||(f.processData=!1),f.type!=="PATCH"||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(f.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")}),s=u.xhr=t.ajax(n.extend(f,u)),r.trigger("request",r,s,u),s},d={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"},t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var g=t.Router=function(n){n||(n={}),n.routes&&(this.routes=n.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},ct=/\((.*?)\)/g,lt=/(\(\?)?:\w+/g,at=/\*\w+/g,vt=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(g.prototype,i,{initialize:function(){},route:function(i,r,u){n.isRegExp(i)||(i=this._routeToRegExp(i)),n.isFunction(r)&&(u=r,r=""),u||(u=this[r]);var f=this;return t.history.route(i,function(n){var e=f._extractParameters(i,n);u&&u.apply(f,e),f.trigger.apply(f,["route:"+r].concat(e)),f.trigger("route",r,e),t.history.trigger("route",f,r,e)}),this},navigate:function(n,i){return t.history.navigate(n,i),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,i=n.keys(this.routes);(t=i.pop())!=null;)this.route(t,this.routes[t])}},_routeToRegExp:function(n){return n=n.replace(vt,"\\$&").replace(ct,"(?:$1)?").replace(lt,function(n,t){return t?n:"([^/]+)"}).replace(at,"(.*?)"),new RegExp("^"+n+"$")},_extractParameters:function(t,i){var r=t.exec(i).slice(1);return n.map(r,function(n){return n?decodeURIComponent(n):null})}});var u=t.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),typeof window!="undefined"&&(this.location=window.location,this.history=window.history)},nt=/^[#\/]|\s+$/g,yt=/^\/+|\/+$/g,pt=/msie [\w.]+/,wt=/\/$/;u.started=!1,n.extend(u.prototype,i,{interval:50,getHash:function(n){var t=(n||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(n,t){if(n==null)if(this._hasPushState||!this._wantsHashChange||t){n=this.location.pathname;var i=this.root.replace(wt,"");n.indexOf(i)||(n=n.substr(i.length))}else n=this.getHash();return n.replace(nt,"")},start:function(i){var r,f;if(u.started)throw new Error("Backbone.history has already been started");u.started=!0,this.options=n.extend({},{root:"/"},this.options,i),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var e=this.getFragment(),o=document.documentMode,s=pt.exec(navigator.userAgent.toLowerCase())&&(!o||o<=7);if(this.root=("/"+this.root+"/").replace(yt,"/"),s&&this._wantsHashChange&&(this.iframe=t.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(e)),this._hasPushState)t.$(window).on("popstate",this.checkUrl);else if(this._wantsHashChange&&"onhashchange"in window&&!s)t.$(window).on("hashchange",this.checkUrl);else this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));return(this.fragment=e,r=this.location,f=r.pathname.replace(/[^\/]$/,"$&/")===this.root,this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!f)?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&f&&r.hash&&(this.fragment=this.getHash().replace(nt,""),this.history.replaceState({},document.title,this.root+this.fragment+r.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),u.started=!1},route:function(n,t){this.handlers.unshift({route:n,callback:t})},checkUrl:function(){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(t){var i=this.fragment=this.getFragment(t);return n.any(this.handlers,function(n){if(n.route.test(i))return n.callback(i),!0})},navigate:function(n,t){if(!u.started)return!1;if(t&&t!==!0||(t={trigger:t}),n=this.getFragment(n||""),this.fragment!==n){this.fragment=n;var i=this.root+n;if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,i);else if(this._wantsHashChange)this._updateHash(this.location,n,t.replace),this.iframe&&n!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,n,t.replace));else return this.location.assign(i);t.trigger&&this.loadUrl(n)}},_updateHash:function(n,t,i){if(i){var r=n.href.replace(/(javascript:|#).*$/,"");n.replace(r+"#"+t)}else n.hash="#"+t}}),t.history=new u,tt=function(t,i){var u=this,r,f;return r=t&&n.has(t,"constructor")?t.constructor:function(){return u.apply(this,arguments)},n.extend(r,u,i),f=function(){this.constructor=r},f.prototype=u.prototype,r.prototype=new f,t&&n.extend(r.prototype,t),r.__super__=u.prototype,r},f.extend=s.extend=g.extend=k.extend=u.extend=tt,l=function(){throw new Error('A "url" property or function must be specified');},e=function(n,t){var i=t.error;t.error=function(r){i&&i(n,r,t),n.trigger("error",n,r,t)}}}.call(this),!jQuery)throw new Error("Bootstrap requires jQuery");+function(n){"use strict";function t(){var i=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n;for(n in t)if(void 0!==i.style[n])return{end:t[n]}}n.fn.emulateTransitionEnd=function(t){var i=!1,u=this,r;n(this).one(n.support.transition.end,function(){i=!0});return r=function(){i||n(u).trigger(n.support.transition.end)},setTimeout(r,t),this},n(function(){n.support.transition=t()})}(window.jQuery),+function(n){"use strict";var i='[data-dismiss="alert"]',t=function(t){n(t).on("click",i,this.close)},r;t.prototype.close=function(t){function f(){i.trigger("closed.bs.alert").remove()}var u=n(this),r=u.attr("data-target"),i;r||(r=u.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),i=n(r),t&&t.preventDefault(),i.length||(i=u.hasClass("alert")?u:u.parent()),i.trigger(t=n.Event("close.bs.alert")),t.isDefaultPrevented()||(i.removeClass("in"),n.support.transition&&i.hasClass("fade")?i.one(n.support.transition.end,f).emulateTransitionEnd(150):f())},r=n.fn.alert,n.fn.alert=function(i){return this.each(function(){var r=n(this),u=r.data("bs.alert");u||r.data("bs.alert",u=new t(this)),"string"==typeof i&&u[i].call(r)})},n.fn.alert.Constructor=t,n.fn.alert.noConflict=function(){return n.fn.alert=r,this},n(document).on("click.bs.alert.data-api",i,t.prototype.close)}(window.jQuery),+function(n){"use strict";var t=function(i,r){this.$element=n(i),this.options=n.extend({},t.DEFAULTS,r)},i;t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(n){var i="disabled",t=this.$element,r=t.is("input")?"val":"html",u=t.data();n+="Text",u.resetText||t.data("resetText",t[r]()),t[r](u[n]||this.options[n]),setTimeout(function(){"loadingText"==n?t.addClass(i).attr(i,i):t.removeClass(i).removeAttr(i)},0)},t.prototype.toggle=function(){var n=this.$element.closest('[data-toggle="buttons"]'),t;n.length&&(t=this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change"),"radio"===t.prop("type")&&n.find(".active").removeClass("active")),this.$element.toggleClass("active")},i=n.fn.button,n.fn.button=function(i){return this.each(function(){var u=n(this),r=u.data("bs.button"),f="object"==typeof i&&i;r||u.data("bs.button",r=new t(this,f)),"toggle"==i?r.toggle():i&&r.setState(i)})},n.fn.button.Constructor=t,n.fn.button.noConflict=function(){return n.fn.button=i,this},n(document).on("click.bs.button.data-api","[data-toggle^=button]",function(t){var i=n(t.target);i.hasClass("btn")||(i=i.closest(".btn")),i.button("toggle"),t.preventDefault()})}(window.jQuery),+function(n){"use strict";var t=function(t,i){this.$element=n(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",n.proxy(this.pause,this)).on("mouseleave",n.proxy(this.cycle,this))},i;t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(n.proxy(this.next,this),this.options.interval)),this},t.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},t.prototype.to=function(t){var r=this,i=this.getActiveIndex();if(!(t>this.$items.length-1)&&!(0>t))return this.sliding?this.$element.one("slid",function(){r.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",n(this.$items[t]))},t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&n.support.transition.end&&(this.$element.trigger(n.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},t.prototype.next=function(){if(!this.sliding)return this.slide("next")},t.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},t.prototype.slide=function(t,i){var u=this.$element.find(".item.active"),r=i||u[t](),s=this.interval,f="next"==t?"left":"right",h="next"==t?"first":"last",o=this,e;if(!r.length){if(!this.options.wrap)return;r=this.$element.find(".item")[h]()}if(this.sliding=!0,s&&this.pause(),e=n.Event("slide.bs.carousel",{relatedTarget:r[0],direction:f}),!r.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var t=n(o.$indicators.children()[o.getActiveIndex()]);t&&t.addClass("active")})),n.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(e),e.isDefaultPrevented())return;r.addClass(t),r[0].offsetWidth,u.addClass(f),r.addClass(f),u.one(n.support.transition.end,function(){r.removeClass([t,f].join(" ")).addClass("active"),u.removeClass(["active",f].join(" ")),o.sliding=!1,setTimeout(function(){o.$element.trigger("slid")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(e),e.isDefaultPrevented())return;u.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}},i=n.fn.carousel,n.fn.carousel=function(i){return this.each(function(){var u=n(this),r=u.data("bs.carousel"),f=n.extend({},t.DEFAULTS,u.data(),"object"==typeof i&&i),e="string"==typeof i?i:f.slide;r||u.data("bs.carousel",r=new t(this,f)),"number"==typeof i?r.to(i):e?r[e]():f.interval&&r.pause().cycle()})},n.fn.carousel.Constructor=t,n.fn.carousel.noConflict=function(){return n.fn.carousel=i,this},n(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(t){var f,i=n(this),r=n(i.attr("data-target")||(f=i.attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,"")),e=n.extend({},r.data(),i.data()),u=i.attr("data-slide-to");u&&(e.interval=!1),r.carousel(e),(u=i.attr("data-slide-to"))&&r.data("bs.carousel").to(u),t.preventDefault()}),n(window).on("load",function(){n('[data-ride="carousel"]').each(function(){var t=n(this);t.carousel(t.data())})})}(window.jQuery),+function(n){"use strict";var t=function(i,r){this.$element=n(i),this.options=n.extend({},t.DEFAULTS,r),this.transitioning=null,this.options.parent&&(this.$parent=n(this.options.parent)),this.options.toggle&&this.toggle()},i;t.DEFAULTS={toggle:!0},t.prototype.dimension=function(){var n=this.$element.hasClass("width");return n?"width":"height"},t.prototype.show=function(){var u,t,r,i,f,e;if(!this.transitioning&&!this.$element.hasClass("in")&&(u=n.Event("show.bs.collapse"),this.$element.trigger(u),!u.isDefaultPrevented())){if(t=this.$parent&&this.$parent.find("> .panel > .in"),t&&t.length){if(r=t.data("bs.collapse"),r&&r.transitioning)return;t.collapse("hide"),r||t.data("bs.collapse",null)}if(i=this.dimension(),this.$element.removeClass("collapse").addClass("collapsing")[i](0),this.transitioning=1,f=function(){this.$element.removeClass("collapsing").addClass("in")[i]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")},!n.support.transition)return f.call(this);e=n.camelCase(["scroll",i].join("-")),this.$element.one(n.support.transition.end,n.proxy(f,this)).emulateTransitionEnd(350)[i](this.$element[0][e])}},t.prototype.hide=function(){var i,t,r;if(!this.transitioning&&this.$element.hasClass("in")&&(i=n.Event("hide.bs.collapse"),this.$element.trigger(i),!i.isDefaultPrevented()))return t=this.dimension(),this.$element[t](this.$element[t]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1,r=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")},n.support.transition?(this.$element[t](0).one(n.support.transition.end,n.proxy(r,this)).emulateTransitionEnd(350),void 0):r.call(this)},t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i=n.fn.collapse,n.fn.collapse=function(i){return this.each(function(){var r=n(this),u=r.data("bs.collapse"),f=n.extend({},t.DEFAULTS,r.data(),"object"==typeof i&&i);u||r.data("bs.collapse",u=new t(this,f)),"string"==typeof i&&u[i]()})},n.fn.collapse.Constructor=t,n.fn.collapse.noConflict=function(){return n.fn.collapse=i,this},n(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(t){var e,i=n(this),s=i.attr("data-target")||t.preventDefault()||(e=i.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""),r=n(s),u=r.data("bs.collapse"),h=u?"toggle":i.data(),f=i.attr("data-parent"),o=f&&n(f);u&&u.transitioning||(o&&o.find('[data-toggle=collapse][data-parent="'+f+'"]').not(i).addClass("collapsed"),i[r.hasClass("in")?"addClass":"removeClass"]("collapsed")),r.collapse(h)})}(window.jQuery),+function(n){"use strict";function r(){n(e).remove(),n(i).each(function(t){var i=u(n(this));i.hasClass("open")&&(i.trigger(t=n.Event("hide.bs.dropdown")),t.isDefaultPrevented()||i.removeClass("open").trigger("hidden.bs.dropdown"))})}function u(t){var i=t.attr("data-target"),r;return i||(i=t.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),r=i&&n(i),r&&r.length?r:t.parent()}var e=".dropdown-backdrop",i="[data-toggle=dropdown]",t=function(t){n(t).on("click.bs.dropdown",this.toggle)},f;t.prototype.toggle=function(t){var f=n(this),i,e;if(!f.is(".disabled, :disabled")){if(i=u(f),e=i.hasClass("open"),r(),!e){if("ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&n('<div class="dropdown-backdrop"/>').insertAfter(n(this)).on("click",r),i.trigger(t=n.Event("show.bs.dropdown")),t.isDefaultPrevented())return;i.toggleClass("open").trigger("shown.bs.dropdown"),f.focus()}return!1}},t.prototype.keydown=function(t){var e,o,s,f,r;if(/(38|40|27)/.test(t.keyCode)&&(e=n(this),t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled"))){if(o=u(e),s=o.hasClass("open"),!s||s&&27==t.keyCode)return 27==t.which&&o.find(i).focus(),e.click();f=n("[role=menu] li:not(.divider):visible a",o),f.length&&(r=f.index(f.filter(":focus")),38==t.keyCode&&r>0&&r--,40==t.keyCode&&r<f.length-1&&r++,~r||(r=0),f.eq(r).focus())}},f=n.fn.dropdown,n.fn.dropdown=function(i){return this.each(function(){var r=n(this),u=r.data("dropdown");u||r.data("dropdown",u=new t(this)),"string"==typeof i&&u[i].call(r)})},n.fn.dropdown.Constructor=t,n.fn.dropdown.noConflict=function(){return n.fn.dropdown=f,this},n(document).on("click.bs.dropdown.data-api",r).on("click.bs.dropdown.data-api",".dropdown form",function(n){n.stopPropagation()}).on("click.bs.dropdown.data-api",i,t.prototype.toggle).on("keydown.bs.dropdown.data-api",i+", [role=menu]",t.prototype.keydown)}(window.jQuery),+function(n){"use strict";var t=function(t,i){this.options=i,this.$element=n(t),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)},i;t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(n){return this[this.isShown?"hide":"show"](n)},t.prototype.show=function(t){var i=this,r=n.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',n.proxy(this.hide,this)),this.backdrop(function(){var u=n.support.transition&&i.$element.hasClass("fade"),r;i.$element.parent().length||i.$element.appendTo(document.body),i.$element.show(),u&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus(),r=n.Event("shown.bs.modal",{relatedTarget:t}),u?i.$element.find(".modal-dialog").one(n.support.transition.end,function(){i.$element.focus().trigger(r)}).emulateTransitionEnd(300):i.$element.focus().trigger(r)}))},t.prototype.hide=function(t){t&&t.preventDefault(),t=n.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),n(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),n.support.transition&&this.$element.hasClass("fade")?this.$element.one(n.support.transition.end,n.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},t.prototype.enforceFocus=function(){n(document).off("focusin.bs.modal").on("focusin.bs.modal",n.proxy(function(n){this.$element[0]===n.target||this.$element.has(n.target).length||this.$element.focus()},this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",n.proxy(function(n){27==n.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},t.prototype.hideModal=function(){var n=this;this.$element.hide(),this.backdrop(function(){n.removeBackdrop(),n.$element.trigger("hidden.bs.modal")})},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(t){var r=this.$element.hasClass("fade")?"fade":"",i;if(this.isShown&&this.options.backdrop){if(i=n.support.transition&&r,this.$backdrop=n('<div class="modal-backdrop '+r+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",n.proxy(function(n){n.target===n.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one(n.support.transition.end,t).emulateTransitionEnd(150):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),n.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(n.support.transition.end,t).emulateTransitionEnd(150):t()):t&&t()},i=n.fn.modal,n.fn.modal=function(i,r){return this.each(function(){var f=n(this),u=f.data("bs.modal"),e=n.extend({},t.DEFAULTS,f.data(),"object"==typeof i&&i);u||f.data("bs.modal",u=new t(this,e)),"string"==typeof i?u[i](r):e.show&&u.show(r)})},n.fn.modal.Constructor=t,n.fn.modal.noConflict=function(){return n.fn.modal=i,this},n(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var i=n(this),r=i.attr("href"),u=n(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),f=u.data("modal")?"toggle":n.extend({remote:!/#/.test(r)&&r},u.data(),i.data());t.preventDefault(),u.modal(f,this).one("hide",function(){i.is(":visible")&&i.focus()})}),n(document).on("show.bs.modal",".modal",function(){n(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){n(document.body).removeClass("modal-open")})}(window.jQuery),+function(n){"use strict";var t=function(n,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",n,t)},i;t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"><\/div><div class="tooltip-inner"><\/div><\/div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.prototype.init=function(t,i,r){var f,e,u,o,s;for(this.enabled=!0,this.type=t,this.$element=n(i),this.options=this.getOptions(r),f=this.options.trigger.split(" "),e=f.length;e--;)if(u=f[e],"click"==u)this.$element.on("click."+this.type,this.options.selector,n.proxy(this.toggle,this));else"manual"!=u&&(o="hover"==u?"mouseenter":"focus",s="hover"==u?"mouseleave":"blur",this.$element.on(o+"."+this.type,this.options.selector,n.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,n.proxy(this.leave,this)));this.options.selector?this._options=n.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return t=n.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&n.each(this._options,function(n,r){i[n]!=r&&(t[n]=r)}),t},t.prototype.enter=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show),void 0):i.show()},t.prototype.leave=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide),void 0):i.hide()},t.prototype.show=function(){var o=n.Event("show.bs."+this.type),i,l;if(this.hasContent()&&this.enabled){if(this.$element.trigger(o),o.isDefaultPrevented())return;i=this.tip(),this.setContent(),this.options.animation&&i.addClass("fade");var t="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,h=s.test(t);h&&(t=t.replace(s,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(t),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var r=this.getPosition(),u=i[0].offsetWidth,f=i[0].offsetHeight;if(h){var e=this.$element.parent(),a=t,c=document.documentElement.scrollTop||document.body.scrollTop,v="body"==this.options.container?window.innerWidth:e.outerWidth(),y="body"==this.options.container?window.innerHeight:e.outerHeight(),p="body"==this.options.container?0:e.offset().left;t="bottom"==t&&r.top+r.height+f-c>y?"top":"top"==t&&r.top-c-f<0?"bottom":"right"==t&&r.right+u>v?"left":"left"==t&&r.left-u<p?"right":t,i.removeClass(a).addClass(t)}l=this.getCalculatedOffset(t,r,u,f),this.applyPlacement(l,t),this.$element.trigger("shown.bs."+this.type)}},t.prototype.applyPlacement=function(n,t){var h,i=this.tip(),c=i[0].offsetWidth,f=i[0].offsetHeight,e=parseInt(i.css("margin-top"),10),o=parseInt(i.css("margin-left"),10),u,r,s;isNaN(e)&&(e=0),isNaN(o)&&(o=0),n.top=n.top+e,n.left=n.left+o,i.offset(n).addClass("in"),u=i[0].offsetWidth,r=i[0].offsetHeight,("top"==t&&r!=f&&(h=!0,n.top=n.top+f-r),/bottom|top/.test(t))?(s=0,n.left<0&&(s=-2*n.left,n.left=0,i.offset(n),u=i[0].offsetWidth,r=i[0].offsetHeight),this.replaceArrow(s-c+u,u,"left")):this.replaceArrow(r-f,r,"top"),h&&i.offset(n)},t.prototype.replaceArrow=function(n,t,i){this.arrow().css(i,n?50*(1-n/t)+"%":"")},t.prototype.setContent=function(){var n=this.tip(),t=this.getTitle();n.find(".tooltip-inner")[this.options.html?"html":"text"](t),n.removeClass("fade in top bottom left right")},t.prototype.hide=function(){function i(){"in"!=u.hoverState&&t.detach()}var u=this,t=this.tip(),r=n.Event("hide.bs."+this.type);return this.$element.trigger(r),r.isDefaultPrevented()?void 0:(t.removeClass("in"),n.support.transition&&this.$tip.hasClass("fade")?t.one(n.support.transition.end,i).emulateTransitionEnd(150):i(),this.$element.trigger("hidden.bs."+this.type),this)},t.prototype.fixTitle=function(){var n=this.$element;(n.attr("title")||"string"!=typeof n.attr("data-original-title"))&&n.attr("data-original-title",n.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(){var t=this.$element[0];return n.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},t.prototype.getCalculatedOffset=function(n,t,i,r){return"bottom"==n?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==n?{top:t.top-r,left:t.left+t.width/2-i/2}:"left"==n?{top:t.top+t.height/2-r/2,left:t.left-i}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},t.prototype.getTitle=function(){var i,t=this.$element,n=this.options;return i=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},t.prototype.tip=function(){return this.$tip=this.$tip||n(this.options.template)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var i=t?n(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;i.tip().hasClass("in")?i.leave(i):i.enter(i)},t.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)},i=n.fn.tooltip,n.fn.tooltip=function(i){return this.each(function(){var u=n(this),r=u.data("bs.tooltip"),f="object"==typeof i&&i;r||u.data("bs.tooltip",r=new t(this,f)),"string"==typeof i&&r[i]()})},n.fn.tooltip.Constructor=t,n.fn.tooltip.noConflict=function(){return n.fn.tooltip=i,this}}(window.jQuery),+function(n){"use strict";var t=function(n,t){this.init("popover",n,t)},i;if(!n.fn.tooltip)throw new Error("Popover requires tooltip.js");t.DEFAULTS=n.extend({},n.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"><\/div><h3 class="popover-title"><\/h3><div class="popover-content"><\/div><\/div>'}),t.prototype=n.extend({},n.fn.tooltip.Constructor.prototype),t.prototype.constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var n=this.tip(),t=this.getTitle(),i=this.getContent();n.find(".popover-title")[this.options.html?"html":"text"](t),n.find(".popover-content")[this.options.html?"html":"text"](i),n.removeClass("fade top bottom left right in"),n.find(".popover-title").html()||n.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var t=this.$element,n=this.options;return t.attr("data-content")||("function"==typeof n.content?n.content.call(t[0]):n.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},t.prototype.tip=function(){return this.$tip||(this.$tip=n(this.options.template)),this.$tip},i=n.fn.popover,n.fn.popover=function(i){return this.each(function(){var u=n(this),r=u.data("bs.popover"),f="object"==typeof i&&i;r||u.data("bs.popover",r=new t(this,f)),"string"==typeof i&&r[i]()})},n.fn.popover.Constructor=t,n.fn.popover.noConflict=function(){return n.fn.popover=i,this}}(window.jQuery),+function(n){"use strict";function t(i,r){var u,f=n.proxy(this.process,this);this.$element=n(i).is("body")?n(window):n(i),this.$body=n("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",f),this.options=n.extend({},t.DEFAULTS,r),this.selector=(this.options.target||(u=n(i).attr("href"))&&u.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=n([]),this.targets=n([]),this.activeTarget=null,this.refresh(),this.process()}t.DEFAULTS={offset:10},t.prototype.refresh=function(){var i=this.$element[0]==window?"offset":"position",t;this.offsets=n([]),this.targets=n([]),t=this,this.$body.find(this.selector).map(function(){var f=n(this),r=f.data("target")||f.attr("href"),u=/^#\w/.test(r)&&n(r);return u&&u.length&&[[u[i]().top+(!n.isWindow(t.$scrollElement.get(0))&&t.$scrollElement.scrollTop()),r]]||null}).sort(function(n,t){return n[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var n,i=this.$scrollElement.scrollTop()+this.options.offset,f=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,e=f-this.$scrollElement.height(),t=this.offsets,r=this.targets,u=this.activeTarget;if(i>=e)return u!=(n=r.last()[0])&&this.activate(n);for(n=t.length;n--;)u!=r[n]&&i>=t[n]&&(!t[n+1]||i<=t[n+1])&&this.activate(r[n])},t.prototype.activate=function(t){this.activeTarget=t,n(this.selector).parents(".active").removeClass("active");var r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=n(r).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate")};var i=n.fn.scrollspy;n.fn.scrollspy=function(i){return this.each(function(){var u=n(this),r=u.data("bs.scrollspy"),f="object"==typeof i&&i;r||u.data("bs.scrollspy",r=new t(this,f)),"string"==typeof i&&r[i]()})},n.fn.scrollspy.Constructor=t,n.fn.scrollspy.noConflict=function(){return n.fn.scrollspy=i,this},n(window).on("load",function(){n('[data-spy="scroll"]').each(function(){var t=n(this);t.scrollspy(t.data())})})}(window.jQuery),+function(n){"use strict";var t=function(t){this.element=n(t)},i;t.prototype.show=function(){var t=this.element,e=t.closest("ul:not(.dropdown-menu)"),i=t.attr("data-target"),r,u,f;(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),t.parent("li").hasClass("active"))||(r=e.find(".active:last a")[0],u=n.Event("show.bs.tab",{relatedTarget:r}),(t.trigger(u),u.isDefaultPrevented())||(f=n(i),this.activate(t.parent("li"),e),this.activate(f,f.parent(),function(){t.trigger({type:"shown.bs.tab",relatedTarget:r})})))},t.prototype.activate=function(t,i,r){function f(){u.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),e?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var u=i.find("> .active"),e=r&&n.support.transition&&u.hasClass("fade");e?u.one(n.support.transition.end,f).emulateTransitionEnd(150):f(),u.removeClass("in")},i=n.fn.tab,n.fn.tab=function(i){return this.each(function(){var u=n(this),r=u.data("bs.tab");r||u.data("bs.tab",r=new t(this)),"string"==typeof i&&r[i]()})},n.fn.tab.Constructor=t,n.fn.tab.noConflict=function(){return n.fn.tab=i,this},n(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),n(this).tab("show")})}(window.jQuery),+function(n){"use strict";var t=function(i,r){this.options=n.extend({},t.DEFAULTS,r),this.$window=n(window).on("scroll.bs.affix.data-api",n.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",n.proxy(this.checkPositionWithEventLoop,this)),this.$element=n(i),this.affixed=this.unpin=null,this.checkPosition()},i;t.RESET="affix affix-top affix-bottom",t.DEFAULTS={offset:0},t.prototype.checkPositionWithEventLoop=function(){setTimeout(n.proxy(this.checkPosition,this),1)},t.prototype.checkPosition=function(){var i;if(this.$element.is(":visible")){var s=n(document).height(),e=this.$window.scrollTop(),o=this.$element.offset(),r=this.options.offset,f=r.top,u=r.bottom;"object"!=typeof r&&(u=f=r),"function"==typeof f&&(f=r.top()),"function"==typeof u&&(u=r.bottom()),i=null!=this.unpin&&e+this.unpin<=o.top?!1:null!=u&&o.top+this.$element.height()>=s-u?"bottom":null!=f&&f>=e?"top":!1,this.affixed!==i&&(this.unpin&&this.$element.css("top",""),this.affixed=i,this.unpin="bottom"==i?o.top-e:null,this.$element.removeClass(t.RESET).addClass("affix"+(i?"-"+i:"")),"bottom"==i&&this.$element.offset({top:document.body.offsetHeight-u-this.$element.height()}))}},i=n.fn.affix,n.fn.affix=function(i){return this.each(function(){var u=n(this),r=u.data("bs.affix"),f="object"==typeof i&&i;r||u.data("bs.affix",r=new t(this,f)),"string"==typeof i&&r[i]()})},n.fn.affix.Constructor=t,n.fn.affix.noConflict=function(){return n.fn.affix=i,this},n(window).on("load",function(){n('[data-spy="affix"]').each(function(){var i=n(this),t=i.data();t.offset=t.offset||{},t.offsetBottom&&(t.offset.bottom=t.offsetBottom),t.offsetTop&&(t.offset.top=t.offsetTop),i.affix(t)})})}(window.jQuery),function(n){typeof define=="function"&&define.amd?define(["jquery"],n):n(jQuery)}(function(n){function i(n){return t.raw?n:encodeURIComponent(n)}function f(n){return t.raw?n:decodeURIComponent(n)}function e(n){return i(t.json?JSON.stringify(n):String(n))}function o(n){n.indexOf('"')===0&&(n=n.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{n=decodeURIComponent(n.replace(u," "))}catch(i){return}try{return t.json?JSON.parse(n):n}catch(i){}}function r(i,r){var u=t.raw?i:o(i);return n.isFunction(r)?r(u):u}var u=/\+/g,t=n.cookie=function(u,o,s){var y,a,h,v,c,p;if(o!==undefined&&!n.isFunction(o))return s=n.extend({},t.defaults,s),typeof s.expires=="number"&&(y=s.expires,a=s.expires=new Date,a.setDate(a.getDate()+y)),document.cookie=[i(u),"=",e(o),s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("");for(h=u?undefined:{},v=document.cookie?document.cookie.split("; "):[],c=0,p=v.length;c<p;c++){var w=v[c].split("="),b=f(w.shift()),l=w.join("=");if(u&&u===b){h=r(l,o);break}u||(l=r(l))===undefined||(h[b]=l)}return h};t.defaults={},n.removeCookie=function(t,i){return n.cookie(t)!==undefined?(n.cookie(t,"",n.extend({},i,{expires:-1})),!0):!1}}),function(n){n.fn.liquidcarousel=function(t){var i={height:350,duration:100,hidearrows:!0},t=n.extend(i,t);return this.each(function(){function l(){if(document.selection&&document.selection.empty)document.selection.empty();else if(window.getSelection){var n=window.getSelection();n.removeAllRanges()}}var i=n(this);n(i).height(t.height),n(i).css("overflow","hidden"),n("> .liquidcarouselwrapper",i).height(t.height),n("> .liquidcarouselwrapper",i).css("overflow","hidden"),n("> .liquidcarouselwrapper",i).css("float","left"),n("> .liquidcarouselwrapper > ul",i).height(t.height),n("> .liquidcarouselwrapper > ul",i).css("float","left"),n("> .liquidcarouselwrapper > ul",i).css("margin","0"),n("> .liquidcarouselwrapper > ul",i).css("padding","0"),n("> .liquidcarouselwrapper > ul",i).css("display","block"),n("> .liquidcarouselwrapper > ul > li",i).height(t.height),n("> .liquidcarouselwrapper > ul > li",i).css("display","block"),n("> .liquidcarouselwrapper > ul > li",i).css("float","left");var h=parseInt(n("> .liquidcarouselwrapper > ul > li",i).css("marginRight")),c=parseInt(n("> .liquidcarouselwrapper > ul > li",i).css("marginLeft")),r=0,f=n("> .liquidcarouselwrapper > ul > li",this).length,u=0,o=n("> .liquidcarouselwrapper > ul > li:first",i).outerWidth(!0),s=0,e=o+s;n(window).resize(function(){var a=n(i).width(),v=a-n("> .previous",i).outerWidth(!0)-n("> .next",i).outerWidth(!0);previousvisiblelis=r,r=Math.floor(v/o),s=r<f?Math.floor((v-r*o)/r):Math.floor((v-f*o)/f),halfadditionalmargin=Math.floor(s/2),e=o+s,n("> .liquidcarouselwrapper > ul > li",i).css("marginRight",h+halfadditionalmargin),n("> .liquidcarouselwrapper > ul > li",i).css("marginLeft",c+halfadditionalmargin),(r>previousvisiblelis||f<=r)&&(u-=r-previousvisiblelis,(u<0||f<=r)&&(u=0)),n("> .liquidcarouselwrapper > ul",i).css("marginLeft",-(u*e)),r>=f||a>=f*o&&t.hidearrows?(t.hidearrows&&(n("> .previous",i).hide(),n("> .next",i).hide(),s=Math.floor((a-f*o)/f),halfadditionalmargin=Math.floor(s/2),e=o+s,n("> .liquidcarouselwrapper > ul > li",i).css("marginRight",h+halfadditionalmargin),n("> .liquidcarouselwrapper > ul > li",i).css("marginLeft",c+halfadditionalmargin)),n("> .liquidcarouselwrapper",i).width(f*e),n("> ul",i).width(f*e),n("> .liquidcarouselwrapper",i).css("marginLeft",0),u=0):(n("> .previous",i).show(),n("> .next",i).show(),n("> .liquidcarouselwrapper",i).width(r*e),n("> ul",i).width(r*e))}),n("> .next",i).click(function(){f<=r?u=0:u+r*2<f?u+=r:u+r*2>=f-1&&(u=f-r),n("> .liquidcarouselwrapper > ul",i).stop(),n("> .liquidcarouselwrapper > ul",i).animate({marginLeft:-(u*e)},t.duration)}),n("> .previous",i).click(function(){u-r>0?u-=r:u-r*2<=0&&(u=0),n("> .liquidcarouselwrapper > ul",i).stop(),n("> .liquidcarouselwrapper > ul",i).animate({marginLeft:-(u*e)},t.duration)}),n("> .next",i).dblclick(function(n){n.preventDefault(),l()}),n("> .previous",i).dblclick(function(n){n.preventDefault(),l()}),n(window).resize()})}}(jQuery),function(n,t){function i(t,i){var u,f,e,o=t.nodeName.toLowerCase();return"area"===o?(u=t.parentNode,f=u.name,!t.href||!f||u.nodeName.toLowerCase()!=="map")?!1:(e=n("img[usemap=#"+f+"]")[0],!!e&&r(e)):(/input|select|textarea|button|object/.test(o)?!t.disabled:"a"===o?t.href||i:i)&&r(t)}function r(t){return n.expr.filters.visible(t)&&!n(t).parents().addBack().filter(function(){return n.css(this,"visibility")==="hidden"}).length}var u=0,f=/^ui-id-\d+$/;n.ui=n.ui||{},n.extend(n.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),n.fn.extend({focus:function(t){return function(i,r){return typeof i=="number"?this.each(function(){var t=this;setTimeout(function(){n(t).focus(),r&&r.call(t)},i)}):t.apply(this,arguments)}}(n.fn.focus),scrollParent:function(){var t;return t=n.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(n.css(this,"position"))&&/(auto|scroll)/.test(n.css(this,"overflow")+n.css(this,"overflow-y")+n.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(n.css(this,"overflow")+n.css(this,"overflow-y")+n.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?n(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var r=n(this[0]),u,f;r.length&&r[0]!==document;){if(u=r.css("position"),(u==="absolute"||u==="relative"||u==="fixed")&&(f=parseInt(r.css("zIndex"),10),!isNaN(f)&&f!==0))return f;r=r.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++u)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&n(this).removeAttr("id")})}}),n.extend(n.expr[":"],{data:n.expr.createPseudo?n.expr.createPseudo(function(t){return function(i){return!!n.data(i,t)}}):function(t,i,r){return!!n.data(t,r[3])},focusable:function(t){return i(t,!isNaN(n.attr(t,"tabindex")))},tabbable:function(t){var r=n.attr(t,"tabindex"),u=isNaN(r);return(u||r>=0)&&i(t,!u)}}),n("<a>").outerWidth(1).jquery||n.each(["Width","Height"],function(i,r){function e(t,i,r,u){return n.each(o,function(){i-=parseFloat(n.css(t,"padding"+this))||0,r&&(i-=parseFloat(n.css(t,"border"+this+"Width"))||0),u&&(i-=parseFloat(n.css(t,"margin"+this))||0)}),i}var o=r==="Width"?["Left","Right"]:["Top","Bottom"],u=r.toLowerCase(),f={innerWidth:n.fn.innerWidth,innerHeight:n.fn.innerHeight,outerWidth:n.fn.outerWidth,outerHeight:n.fn.outerHeight};n.fn["inner"+r]=function(i){return i===t?f["inner"+r].call(this):this.each(function(){n(this).css(u,e(this,i)+"px")})},n.fn["outer"+r]=function(t,i){return typeof t!="number"?f["outer"+r].call(this,t):this.each(function(){n(this).css(u,e(this,t,!0,i)+"px")})}}),n.fn.addBack||(n.fn.addBack=function(n){return this.add(n==null?this.prevObject:this.prevObject.filter(n))}),n("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(n.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,n.camelCase(i)):t.call(this)}}(n.fn.removeData)),n.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),n.support.selectstart="onselectstart"in document.createElement("div"),n.fn.extend({disableSelection:function(){return this.bind((n.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(n){n.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),n.extend(n.ui,{plugin:{add:function(t,i,r){var u,f=n.ui[t].prototype;for(u in r)f.plugins[u]=f.plugins[u]||[],f.plugins[u].push([i,r[u]])},call:function(n,t,i){var r,u=n.plugins[t];if(u&&n.element[0].parentNode&&n.element[0].parentNode.nodeType!==11)for(r=0;r<u.length;r++)n.options[u[r][0]]&&u[r][1].apply(n.element,i)}},hasScroll:function(t,i){if(n(t).css("overflow")==="hidden")return!1;var r=i&&i==="left"?"scrollLeft":"scrollTop",u=!1;return t[r]>0?!0:(t[r]=1,u=t[r]>0,t[r]=0,u)}})}(jQuery),function(n,t){var r=0,i=Array.prototype.slice,u=n.cleanData;n.cleanData=function(t){for(var i=0,r;(r=t[i])!=null;i++)try{n(r).triggerHandler("remove")}catch(f){}u(t)},n.widget=function(t,i,r){var s,f,u,o,h={},e=t.split(".")[0];t=t.split(".")[1],s=e+"-"+t,r||(r=i,i=n.Widget),n.expr[":"][s.toLowerCase()]=function(t){return!!n.data(t,s)},n[e]=n[e]||{},f=n[e][t],u=n[e][t]=function(n,t){if(!this._createWidget)return new u(n,t);arguments.length&&this._createWidget(n,t)},n.extend(u,f,{version:r.version,_proto:n.extend({},r),_childConstructors:[]}),o=new i,o.options=n.widget.extend({},o.options),n.each(r,function(t,r){if(!n.isFunction(r)){h[t]=r;return}h[t]=function(){var n=function(){return i.prototype[t].apply(this,arguments)},u=function(n){return i.prototype[t].apply(this,n)};return function(){var i=this._super,f=this._superApply,t;return this._super=n,this._superApply=u,t=r.apply(this,arguments),this._super=i,this._superApply=f,t}}()}),u.prototype=n.widget.extend(o,{widgetEventPrefix:f?o.widgetEventPrefix:t},h,{constructor:u,namespace:e,widgetName:t,widgetFullName:s}),f?(n.each(f._childConstructors,function(t,i){var r=i.prototype;n.widget(r.namespace+"."+r.widgetName,u,i._proto)}),delete f._childConstructors):i._childConstructors.push(u),n.widget.bridge(t,u)},n.widget.extend=function(r){for(var o=i.call(arguments,1),e=0,s=o.length,u,f;e<s;e++)for(u in o[e])f=o[e][u],o[e].hasOwnProperty(u)&&f!==t&&(r[u]=n.isPlainObject(f)?n.isPlainObject(r[u])?n.widget.extend({},r[u],f):n.widget.extend({},f):f);return r},n.widget.bridge=function(r,u){var f=u.prototype.widgetFullName||r;n.fn[r]=function(e){var h=typeof e=="string",o=i.call(arguments,1),s=this;return e=!h&&o.length?n.widget.extend.apply(null,[e].concat(o)):e,h?this.each(function(){var i,u=n.data(this,f);return u?!n.isFunction(u[e])||e.charAt(0)==="_"?n.error("no such method '"+e+"' for "+r+" widget instance"):(i=u[e].apply(u,o),i!==u&&i!==t?(s=i&&i.jquery?s.pushStack(i.get()):i,!1):void 0):n.error("cannot call methods on "+r+" prior to initialization; attempted to call method '"+e+"'")}):this.each(function(){var t=n.data(this,f);t?t.option(e||{})._init():n.data(this,f,new u(e,this))}),s}},n.Widget=function(){},n.Widget._childConstructors=[],n.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=n(i||this.defaultElement||this)[0],this.element=n(i),this.uuid=r++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=n.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=n(),this.hoverable=n(),this.focusable=n(),i!==this&&(n.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(n){n.target===i&&this.destroy()}}),this.document=n(i.style?i.ownerDocument:i.document||i),this.window=n(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:n.noop,_getCreateEventData:n.noop,_create:n.noop,_init:n.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(n.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:n.noop,widget:function(){return this.element},option:function(i,r){var o=i,u,f,e;if(arguments.length===0)return n.widget.extend({},this.options);if(typeof i=="string")if(o={},u=i.split("."),i=u.shift(),u.length){for(f=o[i]=n.widget.extend({},this.options[i]),e=0;e<u.length-1;e++)f[u[e]]=f[u[e]]||{},f=f[u[e]];if(i=u.pop(),r===t)return f[i]===t?null:f[i];f[i]=r}else{if(r===t)return this.options[i]===t?null:this.options[i];o[i]=r}return this._setOptions(o),this},_setOptions:function(n){var t;for(t in n)this._setOption(t,n[t]);return this},_setOption:function(n,t){return this.options[n]=t,n==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,i,r){var f,u=this;typeof t!="boolean"&&(r=i,i=t,t=!1),r?(i=f=n(i),this.bindings=this.bindings.add(i)):(r=i,i=this.element,f=this.widget()),n.each(r,function(r,e){function o(){if(t||u.options.disabled!==!0&&!n(this).hasClass("ui-state-disabled"))return(typeof e=="string"?u[e]:e).apply(u,arguments)}typeof e!="string"&&(o.guid=e.guid=e.guid||o.guid||n.guid++);var s=r.match(/^(\w+)\s*(.*)$/),h=s[1]+u.eventNamespace,c=s[2];c?f.delegate(c,h,o):i.bind(h,o)})},_off:function(n,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,n.unbind(t).undelegate(t)},_delay:function(n,t){function r(){return(typeof n=="string"?i[n]:n).apply(i,arguments)}var i=this;return setTimeout(r,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){n(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){n(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){n(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){n(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,r){var u,f,e=this.options[t];if(r=r||{},i=n.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],f=i.originalEvent,f)for(u in f)u in i||(i[u]=f[u]);return this.element.trigger(i,r),!(n.isFunction(e)&&e.apply(this.element[0],[i].concat(r))===!1||i.isDefaultPrevented())}},n.each({show:"fadeIn",hide:"fadeOut"},function(t,i){n.Widget.prototype["_"+t]=function(r,u,f){typeof u=="string"&&(u={effect:u});var o,e=u?u===!0||typeof u=="number"?i:u.effect||i:t;u=u||{},typeof u=="number"&&(u={duration:u}),o=!n.isEmptyObject(u),u.complete=f,u.delay&&r.delay(u.delay),o&&n.effects&&n.effects.effect[e]?r[t](u):e!==t&&r[e]?r[e](u.duration,u.easing,f):r.queue(function(i){n(this)[t](),f&&f.call(r[0]),i()})}})}(jQuery),function(n){var i=!1;n(document).mouseup(function(){i=!1}),n.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(n){return t._mouseDown(n)}).bind("click."+this.widgetName,function(i){if(!0===n.data(i.target,t.widgetName+".preventClickEvent"))return n.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&n(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!i){this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var r=this,u=t.which===1,f=typeof this.options.cancel=="string"&&t.target.nodeName?n(t.target).closest(this.options.cancel).length:!1;return!u||f||!this._mouseCapture(t)?!0:(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted))?(t.preventDefault(),!0):(!0===n.data(t.target,this.widgetName+".preventClickEvent")&&n.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(n){return r._mouseMove(n)},this._mouseUpDelegate=function(n){return r._mouseUp(n)},n(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),i=!0,!0)}},_mouseMove:function(t){return n.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return n(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&n.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(n){return Math.max(Math.abs(this._mouseDownEvent.pageX-n.pageX),Math.abs(this._mouseDownEvent.pageY-n.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(n){n.widget("ui.draggable",n.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){this.options.helper!=="original"||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var i=this.options;return this.helper||i.disabled||n(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),!this.handle)?!1:(n(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){n("<div class='ui-draggable-iframeFix' style='background: #fff;'><\/div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(n(this).offset()).appendTo("body")}),!0)},_mouseStart:function(t){var i=this.options;return(this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),n.ui.ddmanager&&(n.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,n.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1)?(this._clear(),!1):(this._cacheHelperProportions(),n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),n.ui.ddmanager&&n.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,i){if(this.offsetParentCssPosition==="fixed"&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!i){var r=this._uiHash();if(this._trigger("drag",t,r)===!1)return this._mouseUp({}),!1;this.position=r.position}return this.options.axis&&this.options.axis==="y"||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&this.options.axis==="x"||(this.helper[0].style.top=this.position.top+"px"),n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var r=this,i=!1;return(n.ui.ddmanager&&!this.options.dropBehaviour&&(i=n.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),this.options.helper==="original"&&!n.contains(this.element[0].ownerDocument,this.element[0]))?!1:(this.options.revert==="invalid"&&!i||this.options.revert==="valid"&&i||this.options.revert===!0||n.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?n(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){r._trigger("stop",t)!==!1&&r._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1)},_mouseUp:function(t){return n("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),n.ui.ddmanager&&n.ui.ddmanager.dragStop(this,t),n.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!n(t.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(t){var r=this.options,i=n.isFunction(r.helper)?n(r.helper.apply(this.element[0],[t])):r.helper==="clone"?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo(r.appendTo==="parent"?this.element[0].parentNode:r.appendTo),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" ")),n.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){var t=this.offsetParent.offset();return this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&n.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var n=this.element.position();return{top:n.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:n.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var u,t,i,r=this.options;if(!r.containment){this.containment=null;return}if(r.containment==="window"){this.containment=[n(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,n(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,n(window).scrollLeft()+n(window).width()-this.helperProportions.width-this.margins.left,n(window).scrollTop()+(n(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(r.containment==="document"){this.containment=[0,0,n(document).width()-this.helperProportions.width-this.margins.left,(n(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(r.containment.constructor===Array){this.containment=r.containment;return}(r.containment==="parent"&&(r.containment=this.helper[0].parentNode),t=n(r.containment),i=t[0],i)&&(u=t.css("overflow")!=="hidden",this.containment=[(parseInt(t.css("borderLeftWidth"),10)||0)+(parseInt(t.css("paddingLeft"),10)||0),(parseInt(t.css("borderTopWidth"),10)||0)+(parseInt(t.css("paddingTop"),10)||0),(u?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(t.css("borderRightWidth"),10)||0)-(parseInt(t.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(u?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(t.css("borderBottomWidth"),10)||0)-(parseInt(t.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=t)},_convertPositionTo:function(t,i){i||(i=this.position);var r=t==="absolute"?1:-1,u=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&n.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent;return this.offset.scroll||(this.offset.scroll={top:u.scrollTop(),left:u.scrollLeft()}),{top:i.top+this.offset.relative.top*r+this.offset.parent.top*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():this.offset.scroll.top)*r,left:i.left+this.offset.relative.left*r+this.offset.parent.left*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():this.offset.scroll.left)*r}},_generatePosition:function(t){var i,e,u,f,r=this.options,h=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&n.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,o=t.pageX,s=t.pageY;return this.offset.scroll||(this.offset.scroll={top:h.scrollTop(),left:h.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(e=this.relative_container.offset(),i=[this.containment[0]+e.left,this.containment[1]+e.top,this.containment[2]+e.left,this.containment[3]+e.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(o=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(s=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(o=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(s=i[3]+this.offset.click.top)),r.grid&&(u=r.grid[1]?this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,s=i?u-this.offset.click.top>=i[1]||u-this.offset.click.top>i[3]?u:u-this.offset.click.top>=i[1]?u-r.grid[1]:u+r.grid[1]:u,f=r.grid[0]?this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,o=i?f-this.offset.click.left>=i[0]||f-this.offset.click.left>i[2]?f:f-this.offset.click.left>=i[0]?f-r.grid[0]:f+r.grid[0]:f)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():this.offset.scroll.top),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,i,r){return r=r||this._uiHash(),n.ui.plugin.call(this,t,[i,r]),t==="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),n.Widget.prototype._trigger.call(this,t,i,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),n.ui.plugin.add("draggable","connectToSortable",{start:function(t,i){var r=n(this).data("ui-draggable"),u=r.options,f=n.extend({},i,{item:r.element});r.sortables=[],n(u.connectToSortable).each(function(){var i=n.data(this,"ui-sortable");i&&!i.options.disabled&&(r.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",t,f))})},stop:function(t,i){var r=n(this).data("ui-draggable"),u=n.extend({},i,{item:r.element});n.each(r.sortables,function(){this.instance.isOver?(this.instance.isOver=0,r.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,r.options.helper==="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,u))})},drag:function(t,i){var r=n(this).data("ui-draggable"),u=this;n.each(r.sortables,function(){var f=!1,e=this;this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(f=!0,n.each(r.sortables,function(){return this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this!==e&&this.instance._intersectsWith(this.instance.containerCache)&&n.contains(e.instance.element[0],this.instance.element[0])&&(f=!1),f})),f?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=n(u).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=r.offset.click.top,this.instance.offset.click.left=r.offset.click.left,this.instance.offset.parent.left-=r.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=r.offset.parent.top-this.instance.offset.parent.top,r._trigger("toSortable",t),r.dropped=this.instance.element,r.currentItem=r.element,this.instance.fromOutside=r),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),r._trigger("fromSortable",t),r.dropped=!1)})}}),n.ui.plugin.add("draggable","cursor",{start:function(){var t=n("body"),i=n(this).data("ui-draggable").options;t.css("cursor")&&(i._cursor=t.css("cursor")),t.css("cursor",i.cursor)},stop:function(){var t=n(this).data("ui-draggable").options;t._cursor&&n("body").css("cursor",t._cursor)}}),n.ui.plugin.add("draggable","opacity",{start:function(t,i){var r=n(i.helper),u=n(this).data("ui-draggable").options;r.css("opacity")&&(u._opacity=r.css("opacity")),r.css("opacity",u.opacity)},stop:function(t,i){var r=n(this).data("ui-draggable").options;r._opacity&&n(i.helper).css("opacity",r._opacity)}}),n.ui.plugin.add("draggable","scroll",{start:function(){var t=n(this).data("ui-draggable");t.scrollParent[0]!==document&&t.scrollParent[0].tagName!=="HTML"&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var r=n(this).data("ui-draggable"),i=r.options,u=!1;r.scrollParent[0]!==document&&r.scrollParent[0].tagName!=="HTML"?(i.axis&&i.axis==="x"||(r.overflowOffset.top+r.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?r.scrollParent[0].scrollTop=u=r.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-r.overflowOffset.top<i.scrollSensitivity&&(r.scrollParent[0].scrollTop=u=r.scrollParent[0].scrollTop-i.scrollSpeed)),i.axis&&i.axis==="y"||(r.overflowOffset.left+r.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?r.scrollParent[0].scrollLeft=u=r.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-r.overflowOffset.left<i.scrollSensitivity&&(r.scrollParent[0].scrollLeft=u=r.scrollParent[0].scrollLeft-i.scrollSpeed))):(i.axis&&i.axis==="x"||(t.pageY-n(document).scrollTop()<i.scrollSensitivity?u=n(document).scrollTop(n(document).scrollTop()-i.scrollSpeed):n(window).height()-(t.pageY-n(document).scrollTop())<i.scrollSensitivity&&(u=n(document).scrollTop(n(document).scrollTop()+i.scrollSpeed))),i.axis&&i.axis==="y"||(t.pageX-n(document).scrollLeft()<i.scrollSensitivity?u=n(document).scrollLeft(n(document).scrollLeft()-i.scrollSpeed):n(window).width()-(t.pageX-n(document).scrollLeft())<i.scrollSensitivity&&(u=n(document).scrollLeft(n(document).scrollLeft()+i.scrollSpeed)))),u!==!1&&n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(r,t)}}),n.ui.plugin.add("draggable","snap",{start:function(){var t=n(this).data("ui-draggable"),i=t.options;t.snapElements=[],n(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=n(this),r=i.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:r.top,left:r.left})})},drag:function(t,i){for(var e,o,s,h,c,a,l,v,w,r=n(this).data("ui-draggable"),b=r.options,f=b.snapTolerance,y=i.offset.left,k=y+r.helperProportions.width,p=i.offset.top,d=p+r.helperProportions.height,u=r.snapElements.length-1;u>=0;u--){if(c=r.snapElements[u].left,a=c+r.snapElements[u].width,l=r.snapElements[u].top,v=l+r.snapElements[u].height,k<c-f||y>a+f||d<l-f||p>v+f||!n.contains(r.snapElements[u].item.ownerDocument,r.snapElements[u].item)){r.snapElements[u].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[u].item})),r.snapElements[u].snapping=!1;continue}b.snapMode!=="inner"&&(e=Math.abs(l-d)<=f,o=Math.abs(v-p)<=f,s=Math.abs(c-k)<=f,h=Math.abs(a-y)<=f,e&&(i.position.top=r._convertPositionTo("relative",{top:l-r.helperProportions.height,left:0}).top-r.margins.top),o&&(i.position.top=r._convertPositionTo("relative",{top:v,left:0}).top-r.margins.top),s&&(i.position.left=r._convertPositionTo("relative",{top:0,left:c-r.helperProportions.width}).left-r.margins.left),h&&(i.position.left=r._convertPositionTo("relative",{top:0,left:a}).left-r.margins.left)),w=e||o||s||h,b.snapMode!=="outer"&&(e=Math.abs(l-p)<=f,o=Math.abs(v-d)<=f,s=Math.abs(c-y)<=f,h=Math.abs(a-k)<=f,e&&(i.position.top=r._convertPositionTo("relative",{top:l,left:0}).top-r.margins.top),o&&(i.position.top=r._convertPositionTo("relative",{top:v-r.helperProportions.height,left:0}).top-r.margins.top),s&&(i.position.left=r._convertPositionTo("relative",{top:0,left:c}).left-r.margins.left),h&&(i.position.left=r._convertPositionTo("relative",{top:0,left:a-r.helperProportions.width}).left-r.margins.left)),!r.snapElements[u].snapping&&(e||o||s||h||w)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[u].item})),r.snapElements[u].snapping=e||o||s||h||w}}}),n.ui.plugin.add("draggable","stack",{start:function(){var i,r=this.data("ui-draggable").options,t=n.makeArray(n(r.stack)).sort(function(t,i){return(parseInt(n(t).css("zIndex"),10)||0)-(parseInt(n(i).css("zIndex"),10)||0)});t.length&&(i=parseInt(n(t[0]).css("zIndex"),10)||0,n(t).each(function(t){n(this).css("zIndex",i+t)}),this.css("zIndex",i+t.length))}}),n.ui.plugin.add("draggable","zIndex",{start:function(t,i){var r=n(i.helper),u=n(this).data("ui-draggable").options;r.css("zIndex")&&(u._zIndex=r.css("zIndex")),r.css("zIndex",u.zIndex)},stop:function(t,i){var r=n(this).data("ui-draggable").options;r._zIndex&&n(i.helper).css("zIndex",r._zIndex)}})}(jQuery),function(n){function i(n,t,i){return n>t&&n<t+i}n.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t=this.options,i=t.accept;this.isover=!1,this.isout=!0,this.accept=n.isFunction(i)?i:function(n){return n.is(i)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},n.ui.ddmanager.droppables[t.scope]=n.ui.ddmanager.droppables[t.scope]||[],n.ui.ddmanager.droppables[t.scope].push(this),t.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var t=0,i=n.ui.ddmanager.droppables[this.options.scope];t<i.length;t++)i[t]===this&&i.splice(t,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){t==="accept"&&(this.accept=n.isFunction(i)?i:function(n){return n.is(i)}),n.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var i=n.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=n.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=n.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=n.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var r=i||n.ui.ddmanager.current,u=!1;return!r||(r.currentItem||r.element)[0]===this.element[0]?!1:(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=n.data(this,"ui-droppable");if(t.options.greedy&&!t.options.disabled&&t.options.scope===r.options.scope&&t.accept.call(t.element[0],r.currentItem||r.element)&&n.ui.intersect(r,n.extend(t,{offset:t.element.offset()}),t.options.tolerance))return u=!0,!1}),u)?!1:this.accept.call(this.element[0],r.currentItem||r.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(r)),this.element):!1},ui:function(n){return{draggable:n.currentItem||n.element,helper:n.helper,position:n.position,offset:n.positionAbs}}}),n.ui.intersect=function(n,t,r){if(!t.offset)return!1;var a,v,e=(n.positionAbs||n.position.absolute).left,s=e+n.helperProportions.width,o=(n.positionAbs||n.position.absolute).top,h=o+n.helperProportions.height,u=t.offset.left,c=u+t.proportions.width,f=t.offset.top,l=f+t.proportions.height;switch(r){case"fit":return u<=e&&s<=c&&f<=o&&h<=l;case"intersect":return u<e+n.helperProportions.width/2&&s-n.helperProportions.width/2<c&&f<o+n.helperProportions.height/2&&h-n.helperProportions.height/2<l;case"pointer":return a=(n.positionAbs||n.position.absolute).left+(n.clickOffset||n.offset.click).left,v=(n.positionAbs||n.position.absolute).top+(n.clickOffset||n.offset.click).top,i(v,f,t.proportions.height)&&i(a,u,t.proportions.width);case"touch":return(o>=f&&o<=l||h>=f&&h<=l||o<f&&h>l)&&(e>=u&&e<=c||s>=u&&s<=c||e<u&&s>c);default:return!1}},n.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var r,f,u=n.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,e=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();n:for(r=0;r<u.length;r++)if(!u[r].options.disabled&&(!t||u[r].accept.call(u[r].element[0],t.currentItem||t.element))){for(f=0;f<e.length;f++)if(e[f]===u[r].element[0]){u[r].proportions.height=0;continue n}(u[r].visible=u[r].element.css("display")!=="none",u[r].visible)&&(o==="mousedown"&&u[r]._activate.call(u[r],i),u[r].offset=u[r].element.offset(),u[r].proportions={width:u[r].element[0].offsetWidth,height:u[r].element[0].offsetHeight})}},drop:function(t,i){var r=!1;return n.each((n.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&n.ui.intersect(t,this,this.options.tolerance)&&(r=this._drop.call(this,i)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),r},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||n.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&n.ui.ddmanager.prepareOffsets(t,i),n.each(n.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var r,e,f,o=n.ui.intersect(t,this,this.options.tolerance),u=!o&&this.isover?"isout":o&&!this.isover?"isover":null;u&&(this.options.greedy&&(e=this.options.scope,f=this.element.parents(":data(ui-droppable)").filter(function(){return n.data(this,"ui-droppable").options.scope===e}),f.length&&(r=n.data(f[0],"ui-droppable"),r.greedyChild=u==="isover")),r&&u==="isover"&&(r.isover=!1,r.isout=!0,r._out.call(r,i)),this[u]=!0,this[u==="isout"?"isover":"isout"]=!1,this[u==="isover"?"_over":"_out"].call(this,i),r&&u==="isout"&&(r.isout=!1,r.isover=!0,r._over.call(r,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||n.ui.ddmanager.prepareOffsets(t,i)}}}(jQuery),function(n){function r(n){return parseInt(n,10)||0}function i(n){return!isNaN(parseInt(n,10))}n.widget("ui.resizable",n.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var e,f,r,i,o,u=this,t=this.options;if(this.element.addClass("ui-resizable"),n.extend(this,{_aspectRatio:!!t.aspectRatio,aspectRatio:t.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:t.helper||t.ghost||t.animate?t.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(n("<div class='ui-wrapper' style='overflow: hidden;'><\/div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=t.handles||(n(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for(this.handles==="all"&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},f=0;f<e.length;f++)r=n.trim(e[f]),o="ui-resizable-"+r,i=n("<div class='ui-resizable-handle "+o+"'><\/div>"),i.css({zIndex:t.zIndex}),"se"===r&&i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[r]=".ui-resizable-"+r,this.element.append(i);this._renderAxis=function(t){var i,r,u,f;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=n(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(r=n(this.handles[i],this.element),f=/sw|ne|nw|se|n|s/.test(i)?r.outerHeight():r.outerWidth(),u=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(u,f),this._proportionallyResize()),!n(this.handles[i]).length},this._renderAxis(this.element),this._handles=n(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){u.resizing||(this.className&&(i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),u.axis=i&&i[1]?i[1]:"se")}),t.autoHide&&(this._handles.hide(),n(this.element).addClass("ui-resizable-autohide").mouseenter(function(){t.disabled||(n(this).removeClass("ui-resizable-autohide"),u._handles.show())}).mouseleave(function(){t.disabled||u.resizing||(n(this).addClass("ui-resizable-autohide"),u._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){n(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var r,i,u=!1;for(r in this.handles)i=n(this.handles[r])[0],(i===t.target||n.contains(i,t.target))&&(u=!0);return!this.options.disabled&&u},_mouseStart:function(t){var f,e,o,u=this.options,s=this.element.position(),i=this.element;return this.resizing=!0,/absolute/.test(i.css("position"))?i.css({position:"absolute",top:i.css("top"),left:i.css("left")}):i.is(".ui-draggable")&&i.css({position:"absolute",top:s.top,left:s.left}),this._renderProxy(),f=r(this.helper.css("left")),e=r(this.helper.css("top")),u.containment&&(f+=n(u.containment).scrollLeft()||0,e+=n(u.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:f,top:e},this.size=this._helper?{width:i.outerWidth(),height:i.outerHeight()}:{width:i.width(),height:i.height()},this.originalSize=this._helper?{width:i.outerWidth(),height:i.outerHeight()}:{width:i.width(),height:i.height()},this.originalPosition={left:f,top:e},this.sizeDiff={width:i.outerWidth()-i.width(),height:i.outerHeight()-i.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio=typeof u.aspectRatio=="number"?u.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=n(".ui-resizable-"+this.axis).css("cursor"),n("body").css("cursor",o==="auto"?this.axis+"-resize":o),i.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,e=this.helper,r={},u=this.originalMousePosition,o=this.axis,s=this.position.top,h=this.position.left,c=this.size.width,l=this.size.height,a=t.pageX-u.left||0,v=t.pageY-u.top||0,f=this._change[o];return f?(i=f.apply(this,[t,a,v]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),this.position.top!==s&&(r.top=this.position.top+"px"),this.position.left!==h&&(r.left=this.position.left+"px"),this.size.width!==c&&(r.width=this.size.width+"px"),this.size.height!==l&&(r.height=this.size.height+"px"),e.css(r),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),n.isEmptyObject(r)||this._trigger("resize",t,this.ui()),!1):!1},_mouseStop:function(t){this.resizing=!1;var r,u,f,e,o,s,h,c=this.options,i=this;return this._helper&&(r=this._proportionallyResizeElements,u=r.length&&/textarea/i.test(r[0].nodeName),f=u&&n.ui.hasScroll(r[0],"left")?0:i.sizeDiff.height,e=u?0:i.sizeDiff.width,o={width:i.helper.width()-e,height:i.helper.height()-f},s=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,h=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null,c.animate||this.element.css(n.extend(o,{top:h,left:s})),i.helper.height(i.size.height),i.helper.width(i.size.width),this._helper&&!c.animate&&this._proportionallyResize()),n("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(n){var u,f,e,o,t,r=this.options;t={minWidth:i(r.minWidth)?r.minWidth:0,maxWidth:i(r.maxWidth)?r.maxWidth:Infinity,minHeight:i(r.minHeight)?r.minHeight:0,maxHeight:i(r.maxHeight)?r.maxHeight:Infinity},(this._aspectRatio||n)&&(u=t.minHeight*this.aspectRatio,e=t.minWidth/this.aspectRatio,f=t.maxHeight*this.aspectRatio,o=t.maxWidth/this.aspectRatio,u>t.minWidth&&(t.minWidth=u),e>t.minHeight&&(t.minHeight=e),f<t.maxWidth&&(t.maxWidth=f),o<t.maxHeight&&(t.maxHeight=o)),this._vBoundaries=t},_updateCache:function(n){this.offset=this.helper.offset(),i(n.left)&&(this.position.left=n.left),i(n.top)&&(this.position.top=n.top),i(n.height)&&(this.size.height=n.height),i(n.width)&&(this.size.width=n.width)},_updateRatio:function(n){var t=this.position,r=this.size,u=this.axis;return i(n.height)?n.width=n.height*this.aspectRatio:i(n.width)&&(n.height=n.width/this.aspectRatio),u==="sw"&&(n.left=t.left+(r.width-n.width),n.top=null),u==="nw"&&(n.top=t.top+(r.height-n.height),n.left=t.left+(r.width-n.width)),n},_respectSize:function(n){var t=this._vBoundaries,r=this.axis,u=i(n.width)&&t.maxWidth&&t.maxWidth<n.width,f=i(n.height)&&t.maxHeight&&t.maxHeight<n.height,e=i(n.width)&&t.minWidth&&t.minWidth>n.width,o=i(n.height)&&t.minHeight&&t.minHeight>n.height,s=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,c=/sw|nw|w/.test(r),l=/nw|ne|n/.test(r);return e&&(n.width=t.minWidth),o&&(n.height=t.minHeight),u&&(n.width=t.maxWidth),f&&(n.height=t.maxHeight),e&&c&&(n.left=s-t.minWidth),u&&c&&(n.left=s-t.maxWidth),o&&l&&(n.top=h-t.minHeight),f&&l&&(n.top=h-t.maxHeight),n.width||n.height||n.left||!n.top?n.width||n.height||n.top||!n.left||(n.left=null):n.top=null,n},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,r,u,n,f=this.helper||this.element,i=0;i<this._proportionallyResizeElements.length;i++){if(n=this._proportionallyResizeElements[i],!this.borderDif)for(this.borderDif=[],r=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],u=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")],t=0;t<r.length;t++)this.borderDif[t]=(parseInt(r[t],10)||0)+(parseInt(u[t],10)||0);n.css({height:f.height()-this.borderDif[0]-this.borderDif[2]||0,width:f.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||n("<div style='overflow:hidden;'><\/div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(n,t){return{width:this.originalSize.width+t}},w:function(n,t){var i=this.originalSize,r=this.originalPosition;return{left:r.left+t,width:i.width-t}},n:function(n,t,i){var r=this.originalSize,u=this.originalPosition;return{top:u.top+i,height:r.height-i}},s:function(n,t,i){return{height:this.originalSize.height+i}},se:function(t,i,r){return n.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},sw:function(t,i,r){return n.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,r]))},ne:function(t,i,r){return n.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},nw:function(t,i,r){return n.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,r]))}},_propagate:function(t,i){n.ui.plugin.call(this,t,[i,this.ui()]),t!=="resize"&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),n.ui.plugin.add("resizable","animate",{stop:function(t){var i=n(this).data("ui-resizable"),u=i.options,r=i._proportionallyResizeElements,f=r.length&&/textarea/i.test(r[0].nodeName),s=f&&n.ui.hasScroll(r[0],"left")?0:i.sizeDiff.height,h=f?0:i.sizeDiff.width,c={width:i.size.width-h,height:i.size.height-s},e=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,o=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(n.extend(c,o&&e?{top:o,left:e}:{}),{duration:u.animateDuration,easing:u.animateEasing,step:function(){var u={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};r&&r.length&&n(r[0]).css({width:u.width,height:u.height}),i._updateCache(u),i._propagate("resize",t)}})}}),n.ui.plugin.add("resizable","containment",{start:function(){var u,e,o,s,h,c,l,t=n(this).data("ui-resizable"),a=t.options,v=t.element,f=a.containment,i=f instanceof n?f.get(0):/parent/.test(f)?v.parent().get(0):f;i&&(t.containerElement=n(i),/document/.test(f)||f===document?(t.containerOffset={left:0,top:0},t.containerPosition={left:0,top:0},t.parentData={element:n(document),left:0,top:0,width:n(document).width(),height:n(document).height()||document.body.parentNode.scrollHeight}):(u=n(i),e=[],n(["Top","Right","Left","Bottom"]).each(function(n,t){e[n]=r(u.css("padding"+t))}),t.containerOffset=u.offset(),t.containerPosition=u.position(),t.containerSize={height:u.innerHeight()-e[3],width:u.innerWidth()-e[1]},o=t.containerOffset,s=t.containerSize.height,h=t.containerSize.width,c=n.ui.hasScroll(i,"left")?i.scrollWidth:h,l=n.ui.hasScroll(i)?i.scrollHeight:s,t.parentData={element:i,left:o.left,top:o.top,width:c,height:l}))},resize:function(t){var f,o,s,h,i=n(this).data("ui-resizable"),a=i.options,r=i.containerOffset,c=i.position,e=i._aspectRatio||t.shiftKey,u={top:0,left:0},l=i.containerElement;l[0]!==document&&/static/.test(l.css("position"))&&(u=r),c.left<(i._helper?r.left:0)&&(i.size.width=i.size.width+(i._helper?i.position.left-r.left:i.position.left-u.left),e&&(i.size.height=i.size.width/i.aspectRatio),i.position.left=a.helper?r.left:0),c.top<(i._helper?r.top:0)&&(i.size.height=i.size.height+(i._helper?i.position.top-r.top:i.position.top),e&&(i.size.width=i.size.height*i.aspectRatio),i.position.top=i._helper?r.top:0),i.offset.left=i.parentData.left+i.position.left,i.offset.top=i.parentData.top+i.position.top,f=Math.abs((i._helper?i.offset.left-u.left:i.offset.left-u.left)+i.sizeDiff.width),o=Math.abs((i._helper?i.offset.top-u.top:i.offset.top-r.top)+i.sizeDiff.height),s=i.containerElement.get(0)===i.element.parent().get(0),h=/relative|absolute/.test(i.containerElement.css("position")),s&&h&&(f-=i.parentData.left),f+i.size.width>=i.parentData.width&&(i.size.width=i.parentData.width-f,e&&(i.size.height=i.size.width/i.aspectRatio)),o+i.size.height>=i.parentData.height&&(i.size.height=i.parentData.height-o,e&&(i.size.width=i.size.height*i.aspectRatio))},stop:function(){var t=n(this).data("ui-resizable"),r=t.options,u=t.containerOffset,f=t.containerPosition,e=t.containerElement,i=n(t.helper),o=i.offset(),s=i.outerWidth()-t.sizeDiff.width,h=i.outerHeight()-t.sizeDiff.height;t._helper&&!r.animate&&/relative/.test(e.css("position"))&&n(this).css({left:o.left-f.left-u.left,width:s,height:h}),t._helper&&!r.animate&&/static/.test(e.css("position"))&&n(this).css({left:o.left-f.left-u.left,width:s,height:h})}}),n.ui.plugin.add("resizable","alsoResize",{start:function(){var r=n(this).data("ui-resizable"),t=r.options,i=function(t){n(t).each(function(){var t=n(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};typeof t.alsoResize!="object"||t.alsoResize.parentNode?i(t.alsoResize):t.alsoResize.length?(t.alsoResize=t.alsoResize[0],i(t.alsoResize)):n.each(t.alsoResize,function(n){i(n)})},resize:function(t,i){var r=n(this).data("ui-resizable"),u=r.options,f=r.originalSize,e=r.originalPosition,s={height:r.size.height-f.height||0,width:r.size.width-f.width||0,top:r.position.top-e.top||0,left:r.position.left-e.left||0},o=function(t,r){n(t).each(function(){var t=n(this),f=n(this).data("ui-resizable-alsoresize"),u={},e=r&&r.length?r:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];n.each(e,function(n,t){var i=(f[t]||0)+(s[t]||0);i&&i>=0&&(u[t]=i||null)}),t.css(u)})};typeof u.alsoResize!="object"||u.alsoResize.nodeType?o(u.alsoResize):n.each(u.alsoResize,function(n,t){o(n,t)})},stop:function(){n(this).removeData("resizable-alsoresize")}}),n.ui.plugin.add("resizable","ghost",{start:function(){var t=n(this).data("ui-resizable"),i=t.options,r=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:r.height,width:r.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof i.ghost=="string"?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=n(this).data("ui-resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=n(this).data("ui-resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),n.ui.plugin.add("resizable","grid",{resize:function(){var t=n(this).data("ui-resizable"),i=t.options,v=t.size,f=t.originalSize,e=t.originalPosition,h=t.axis,c=typeof i.grid=="number"?[i.grid,i.grid]:i.grid,o=c[0]||1,s=c[1]||1,l=Math.round((v.width-f.width)/o)*o,a=Math.round((v.height-f.height)/s)*s,r=f.width+l,u=f.height+a,y=i.maxWidth&&i.maxWidth<r,p=i.maxHeight&&i.maxHeight<u,w=i.minWidth&&i.minWidth>r,b=i.minHeight&&i.minHeight>u;i.grid=c,w&&(r=r+o),b&&(u=u+s),y&&(r=r-o),p&&(u=u-s),/^(se|s|e)$/.test(h)?(t.size.width=r,t.size.height=u):/^(ne)$/.test(h)?(t.size.width=r,t.size.height=u,t.position.top=e.top-a):/^(sw)$/.test(h)?(t.size.width=r,t.size.height=u,t.position.left=e.left-l):(t.size.width=r,t.size.height=u,t.position.top=e.top-a,t.position.left=e.left-l)}})}(jQuery),function(n){n.widget("ui.selectable",n.ui.mouse,{version:"1.10.3",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=n(i.options.filter,i.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=n(this),i=t.offset();n.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=n("<div class='ui-selectable-helper'><\/div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var i=this,r=this.options;(this.opos=[t.pageX,t.pageY],this.options.disabled)||(this.selectees=n(r.filter,this.element[0]),this._trigger("start",t),n(r.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),r.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var r=n.data(this,"selectable-item");r.startselected=!0,t.metaKey||t.ctrlKey||(r.$element.removeClass("ui-selected"),r.selected=!1,r.$element.addClass("ui-unselecting"),r.unselecting=!0,i._trigger("unselecting",t,{unselecting:r.element}))}),n(t.target).parents().addBack().each(function(){var u,r=n.data(this,"selectable-item");if(r)return u=!t.metaKey&&!t.ctrlKey||!r.$element.hasClass("ui-selected"),r.$element.removeClass(u?"ui-unselecting":"ui-selected").addClass(u?"ui-selecting":"ui-unselecting"),r.unselecting=!u,r.selecting=u,r.selected=u,u?i._trigger("selecting",t,{selecting:r.element}):i._trigger("unselecting",t,{unselecting:r.element}),!1}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var e,o=this,s=this.options,i=this.opos[0],r=this.opos[1],u=t.pageX,f=t.pageY;return i>u&&(e=u,u=i,i=e),r>f&&(e=f,f=r,r=e),this.helper.css({left:i,top:r,width:u-i,height:f-r}),this.selectees.each(function(){var e=n.data(this,"selectable-item"),h=!1;e&&e.element!==o.element[0]&&(s.tolerance==="touch"?h=!(e.left>u||e.right<i||e.top>f||e.bottom<r):s.tolerance==="fit"&&(h=e.left>i&&e.right<u&&e.top>r&&e.bottom<f),h?(e.selected&&(e.$element.removeClass("ui-selected"),e.selected=!1),e.unselecting&&(e.$element.removeClass("ui-unselecting"),e.unselecting=!1),e.selecting||(e.$element.addClass("ui-selecting"),e.selecting=!0,o._trigger("selecting",t,{selecting:e.element}))):(e.selecting&&((t.metaKey||t.ctrlKey)&&e.startselected?(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.$element.addClass("ui-selected"),e.selected=!0):(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.startselected&&(e.$element.addClass("ui-unselecting"),e.unselecting=!0),o._trigger("unselecting",t,{unselecting:e.element}))),e.selected&&(t.metaKey||t.ctrlKey||e.startselected||(e.$element.removeClass("ui-selected"),e.selected=!1,e.$element.addClass("ui-unselecting"),e.unselecting=!0,o._trigger("unselecting",t,{unselecting:e.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,n(".ui-unselecting",this.element[0]).each(function(){var r=n.data(this,"selectable-item");r.$element.removeClass("ui-unselecting"),r.unselecting=!1,r.startselected=!1,i._trigger("unselected",t,{unselected:r.element})}),n(".ui-selecting",this.element[0]).each(function(){var r=n.data(this,"selectable-item");r.$element.removeClass("ui-selecting").addClass("ui-selected"),r.selecting=!1,r.selected=!0,r.startselected=!0,i._trigger("selected",t,{selected:r.element})}),this._trigger("stop",t),this.helper.remove(),!1}})}(jQuery),function(n){function i(n,t,i){return n>t&&n<t+i}function r(n){return/left|right/.test(n.css("float"))||/inline|table-cell/.test(n.css("display"))}n.widget("ui.sortable",n.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var n=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?n.axis==="x"||r(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var n=this.items.length-1;n>=0;n--)this.items[n].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,i){t==="disabled"?(this.options[t]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):n.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,i){var r=null,f=!1,u=this;return this.reverting?!1:this.options.disabled||this.options.type==="static"?!1:(this._refreshItems(t),n(t.target).parents().each(function(){if(n.data(this,u.widgetName+"-item")===u)return r=n(this),!1}),n.data(t.target,u.widgetName+"-item")===u&&(r=n(t.target)),!r)?!1:this.options.handle&&!i&&(n(this.options.handle,r).find("*").addBack().each(function(){this===t.target&&(f=!0)}),!f)?!1:(this.currentItem=r,this._removeCurrentsFromItems(),!0)},_mouseStart:function(t,i,r){var f,e,u=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},n.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,u.cursorAt&&this._adjustOffsetFromHelper(u.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),u.containment&&this._setContainment(),u.cursor&&u.cursor!=="auto"&&(e=this.document.find("body"),this.storedCursor=e.css("cursor"),e.css("cursor",u.cursor),this.storedStylesheet=n("<style>*{ cursor: "+u.cursor+" !important; }<\/style>").appendTo(e)),u.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",u.opacity)),u.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",u.zIndex)),this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(f=this.containers.length-1;f>=0;f--)this.containers[f]._trigger("activate",t,this._uiHash(this));return n.ui.ddmanager&&(n.ui.ddmanager.current=this),n.ui.ddmanager&&!u.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var e,u,f,o,i=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-this.overflowOffset.top<i.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-i.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-this.overflowOffset.left<i.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-i.scrollSpeed)):(t.pageY-n(document).scrollTop()<i.scrollSensitivity?r=n(document).scrollTop(n(document).scrollTop()-i.scrollSpeed):n(window).height()-(t.pageY-n(document).scrollTop())<i.scrollSensitivity&&(r=n(document).scrollTop(n(document).scrollTop()+i.scrollSpeed)),t.pageX-n(document).scrollLeft()<i.scrollSensitivity?r=n(document).scrollLeft(n(document).scrollLeft()-i.scrollSpeed):n(window).width()-(t.pageX-n(document).scrollLeft())<i.scrollSensitivity&&(r=n(document).scrollLeft(n(document).scrollLeft()+i.scrollSpeed))),r!==!1&&n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&this.options.axis==="y"||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&this.options.axis==="x"||(this.helper[0].style.top=this.position.top+"px"),e=this.items.length-1;e>=0;e--)if((u=this.items[e],f=u.item[0],o=this._intersectsWithPointer(u),o)&&u.instance===this.currentContainer&&f!==this.currentItem[0]&&this.placeholder[o===1?"next":"prev"]()[0]!==f&&!n.contains(this.placeholder[0],f)&&(this.options.type==="semi-dynamic"?!n.contains(this.element[0],f):!0)){if(this.direction=o===1?"down":"up",this.options.tolerance==="pointer"||this._intersectsWithSides(u))this._rearrange(t,u);else break;this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(n.ui.ddmanager&&!this.options.dropBehaviour&&n.ui.ddmanager.drop(this,t),this.options.revert){var e=this,f=this.placeholder.offset(),r=this.options.axis,u={};r&&r!=="x"||(u.left=f.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),r&&r!=="y"||(u.top=f.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,n(this.helper).animate(u,parseInt(this.options.revert,10)||500,function(){e._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),this.options.helper==="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),n.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?n(this.domPosition.prev).after(this.currentItem):n(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n(r).each(function(){var r=(n(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);r&&i.push((t.key||r[1]+"[]")+"="+(t.key&&t.expression?r[1]:r[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},r.each(function(){i.push(n(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(n){var t=this.positionAbs.left,h=t+this.helperProportions.width,i=this.positionAbs.top,c=i+this.helperProportions.height,r=n.left,f=r+n.width,u=n.top,e=u+n.height,o=this.offset.click.top,s=this.offset.click.left,l=this.options.axis==="x"||i+o>u&&i+o<e,a=this.options.axis==="y"||t+s>r&&t+s<f,v=l&&a;return this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>n[this.floating?"width":"height"]?v:r<t+this.helperProportions.width/2&&h-this.helperProportions.width/2<f&&u<i+this.helperProportions.height/2&&c-this.helperProportions.height/2<e},_intersectsWithPointer:function(n){var u=this.options.axis==="x"||i(this.positionAbs.top+this.offset.click.top,n.top,n.height),f=this.options.axis==="y"||i(this.positionAbs.left+this.offset.click.left,n.left,n.width),e=u&&f,t=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return e?this.floating?r&&r==="right"||t==="down"?2:1:t&&(t==="down"?2:1):!1},_intersectsWithSides:function(n){var u=i(this.positionAbs.top+this.offset.click.top,n.top+n.height/2,n.height),f=i(this.positionAbs.left+this.offset.click.left,n.left+n.width/2,n.width),t=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?r==="right"&&f||r==="left"&&!f:t&&(t==="down"&&u||t==="up"&&!u)},_getDragVerticalDirection:function(){var n=this.positionAbs.top-this.lastPositionAbs.top;return n!==0&&(n>0?"down":"up")},_getDragHorizontalDirection:function(){var n=this.positionAbs.left-this.lastPositionAbs.left;return n!==0&&(n>0?"right":"left")},refresh:function(n){return this._refreshItems(n),this.refreshPositions(),this},_connectWith:function(){var n=this.options;return n.connectWith.constructor===String?[n.connectWith]:n.connectWith},_getItemsAsjQuery:function(t){var r,u,e,i,s=[],f=[],o=this._connectWith();if(o&&t)for(r=o.length-1;r>=0;r--)for(e=n(o[r]),u=e.length-1;u>=0;u--)i=n.data(e[u],this.widgetFullName),i&&i!==this&&!i.options.disabled&&f.push([n.isFunction(i.options.items)?i.options.items.call(i.element):n(i.options.items,i.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),i]);for(f.push([n.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):n(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),r=f.length-1;r>=0;r--)f[r][0].each(function(){s.push(this)});return n(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=n.grep(this.items,function(n){for(var i=0;i<t.length;i++)if(t[i]===n.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var r,u,e,i,o,s,h,l,a=this.items,f=[[n.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):n(this.options.items,this.element),this]],c=this._connectWith();if(c&&this.ready)for(r=c.length-1;r>=0;r--)for(e=n(c[r]),u=e.length-1;u>=0;u--)i=n.data(e[u],this.widgetFullName),i&&i!==this&&!i.options.disabled&&(f.push([n.isFunction(i.options.items)?i.options.items.call(i.element[0],t,{item:this.currentItem}):n(i.options.items,i.element),i]),this.containers.push(i));for(r=f.length-1;r>=0;r--)for(o=f[r][1],s=f[r][0],u=0,l=s.length;u<l;u++)h=n(s[u]),h.data(this.widgetName+"-item",o),a.push({item:h,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var r,f,u,i=this.items.length-1;i>=0;i--)(r=this.items[i],r.instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0])||(f=this.options.toleranceElement?n(this.options.toleranceElement,r.item):r.item,t||(r.width=f.outerWidth(),r.height=f.outerHeight()),u=f.offset(),r.left=u.left,r.top=u.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)u=this.containers[i].element.offset(),this.containers[i].containerCache.left=u.left,this.containers[i].containerCache.top=u.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var r,i=t.options;i.placeholder&&i.placeholder.constructor!==String||(r=i.placeholder,i.placeholder={element:function(){var u=t.currentItem[0].nodeName.toLowerCase(),i=n("<"+u+">",t.document[0]).addClass(r||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return u==="tr"?t.currentItem.children().each(function(){n("<td>&#160;<\/td>",t.document[0]).attr("colspan",n(this).attr("colspan")||1).appendTo(i)}):u==="img"&&i.attr("src",t.currentItem.attr("src")),r||i.css("visibility","hidden"),i},update:function(n,u){(!r||i.forcePlaceholderSize)&&(u.height()||u.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),u.width()||u.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=n(i.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),i.placeholder.update(t,t.placeholder)},_contactContainers:function(t){for(var u,v,s,l,y,h,o,p,a,c=null,f=null,e=this.containers.length-1;e>=0;e--)if(!n.contains(this.currentItem[0],this.containers[e].element[0]))if(this._intersectsWith(this.containers[e].containerCache)){if(c&&n.contains(this.containers[e].element[0],c.element[0]))continue;c=this.containers[e],f=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",t,this._uiHash(this)),this.containers[e].containerCache.over=0);if(c)if(this.containers.length===1)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",t,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(v=1e4,s=null,a=c.floating||r(this.currentItem),l=a?"left":"top",y=a?"width":"height",h=this.positionAbs[l]+this.offset.click[l],u=this.items.length-1;u>=0;u--)n.contains(this.containers[f].element[0],this.items[u].item[0])&&this.items[u].item[0]!==this.currentItem[0]&&(!a||i(this.positionAbs.top+this.offset.click.top,this.items[u].top,this.items[u].height))&&(o=this.items[u].item.offset()[l],p=!1,Math.abs(o-h)>Math.abs(o+this.items[u][y]-h)&&(p=!0,o+=this.items[u][y]),Math.abs(o-h)<v&&(v=Math.abs(o-h),s=this.items[u],this.direction=p?"up":"down"));if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return;s?this._rearrange(t,s,null,!0):this._rearrange(t,null,this.containers[f].element,!0),this._trigger("change",t,this._uiHash()),this.containers[f]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",t,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(t){var r=this.options,i=n.isFunction(r.helper)?n(r.helper.apply(this.element[0],[t,this.currentItem])):r.helper==="clone"?this.currentItem.clone():this.currentItem;return i.parents("body").length||n(r.appendTo!=="parent"?r.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||r.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||r.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" ")),n.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&n.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var n=this.currentItem.position();return{top:n.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:n.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,r,u,i=this.options;i.containment==="parent"&&(i.containment=this.helper[0].parentNode),(i.containment==="document"||i.containment==="window")&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,n(i.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,(n(i.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(t=n(i.containment)[0],r=n(i.containment).offset(),u=n(t).css("overflow")!=="hidden",this.containment=[r.left+(parseInt(n(t).css("borderLeftWidth"),10)||0)+(parseInt(n(t).css("paddingLeft"),10)||0)-this.margins.left,r.top+(parseInt(n(t).css("borderTopWidth"),10)||0)+(parseInt(n(t).css("paddingTop"),10)||0)-this.margins.top,r.left+(u?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(n(t).css("borderLeftWidth"),10)||0)-(parseInt(n(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,r.top+(u?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(n(t).css("borderTopWidth"),10)||0)-(parseInt(n(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var r=t==="absolute"?1:-1,u=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&n.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,f=/(html|body)/i.test(u[0].tagName);return{top:i.top+this.offset.relative.top*r+this.offset.parent.top*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():f?0:u.scrollTop())*r,left:i.left+this.offset.relative.left*r+this.offset.parent.left*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():f?0:u.scrollLeft())*r}},_generatePosition:function(t){var r,u,i=this.options,f=t.pageX,e=t.pageY,o=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&n.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,s=/(html|body)/i.test(o[0].tagName);return this.cssPosition!=="relative"||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(e=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(e=this.containment[3]+this.offset.click.top)),i.grid&&(r=this.originalPageY+Math.round((e-this.originalPageY)/i.grid[1])*i.grid[1],e=this.containment?r-this.offset.click.top>=this.containment[1]&&r-this.offset.click.top<=this.containment[3]?r:r-this.offset.click.top>=this.containment[1]?r-i.grid[1]:r+i.grid[1]:r,u=this.originalPageX+Math.round((f-this.originalPageX)/i.grid[0])*i.grid[0],f=this.containment?u-this.offset.click.left>=this.containment[0]&&u-this.offset.click.left<=this.containment[2]?u:u-this.offset.click.left>=this.containment[0]?u-i.grid[0]:u+i.grid[0]:u)),{top:e-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():s?0:o.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():s?0:o.scrollLeft())}},_rearrange:function(n,t,i,r){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var u=this.counter;this._delay(function(){u===this.counter&&this.refreshPositions(!r)})},_clear:function(n,t){this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)(this._storedCSS[i]==="auto"||this._storedCSS[i]==="static")&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&r.push(function(n){this._trigger("receive",n,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!t&&r.push(function(n){this._trigger("update",n,this._uiHash())}),this!==this.currentContainer&&(t||(r.push(function(n){this._trigger("remove",n,this._uiHash())}),r.push(function(n){return function(t){n._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(n){return function(t){n._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||r.push(function(n){return function(t){n._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(function(n){return function(t){n._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",n,this._uiHash()),i=0;i<r.length;i++)r[i].call(this,n);this._trigger("stop",n,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",n,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(i=0;i<r.length;i++)r[i].call(this,n);this._trigger("stop",n,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){n.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||n([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})}(jQuery),function(n,t){var i="ui-effects-";n.effects={effect:{}},function(n,t){function e(n,t,i){var r=s[t.type]||{};return n==null?i||!t.def?null:t.def:(n=r.floor?~~n:parseFloat(n),isNaN(n))?t.def:r.mod?(n+r.mod)%r.mod:0>n?0:r.max<n?r.max:n}function l(t){var e=i(),o=e._rgba=[];return(t=t.toLowerCase(),r(y,function(n,i){var r,s=i.re.exec(t),h=s&&i.parse(s),f=i.space||"rgba";if(h)return r=e[f](h),e[u[f].cache]=r[u[f].cache],o=e._rgba=r._rgba,!1}),o.length)?(o.join()==="0,0,0,0"&&n.extend(o,f.transparent),e):f[t]}function o(n,t,i){return(i=(i+1)%1,i*6<1)?n+(t-n)*i*6:i*2<1?t:i*3<2?n+(t-n)*(2/3-i)*6:n}var a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",v=/^([\-+])=\s*(\d+\.?\d*)/,y=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(n){return[n[1],n[2],n[3],n[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(n){return[n[1]*2.55,n[2]*2.55,n[3]*2.55,n[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(n){return[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(n){return[parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(n){return[n[1],n[2]/100,n[3]/100,n[4]]}}],i=n.Color=function(t,i,r,u){return new n.Color.fn.parse(t,i,r,u)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},s={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=i.support={},c=n("<p>")[0],f,r=n.each;c.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=c.style.backgroundColor.indexOf("rgba")>-1,r(u,function(n,t){t.cache="_"+n,t.props.alpha={idx:3,type:"percent",def:1}}),i.fn=n.extend(i.prototype,{parse:function(o,s,h,c){if(o===t)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=n(o).css(s),s=t);var a=this,v=n.type(o),y=this._rgba=[];return(s!==t&&(o=[o,s,h,c],v="array"),v==="string")?this.parse(l(o)||f._default):v==="array"?(r(u.rgba.props,function(n,t){y[t.idx]=e(o[t.idx],t)}),this):v==="object"?(o instanceof i?r(u,function(n,t){o[t.cache]&&(a[t.cache]=o[t.cache].slice())}):r(u,function(t,i){var u=i.cache;r(i.props,function(n,t){if(!a[u]&&i.to){if(n==="alpha"||o[n]==null)return;a[u]=i.to(a._rgba)}a[u][t.idx]=e(o[n],t,!0)}),a[u]&&n.inArray(null,a[u].slice(0,3))<0&&(a[u][3]=1,i.from&&(a._rgba=i.from(a[u])))}),this):void 0},is:function(n){var e=i(n),t=!0,f=this;return r(u,function(n,i){var o,u=e[i.cache];return u&&(o=f[i.cache]||i.to&&i.to(f._rgba)||[],r(i.props,function(n,i){if(u[i.idx]!=null)return t=u[i.idx]===o[i.idx]})),t}),t},_space:function(){var n=[],t=this;return r(u,function(i,r){t[r.cache]&&n.push(i)}),n.pop()},transition:function(n,t){var f=i(n),c=f._space(),o=u[c],l=this.alpha()===0?i("transparent"):this,a=l[o.cache]||o.to(l._rgba),h=a.slice();return f=f[o.cache],r(o.props,function(n,i){var c=i.idx,r=a[c],u=f[c],o=s[i.type]||{};u!==null&&(r===null?h[c]=u:(o.mod&&(u-r>o.mod/2?r+=o.mod:r-u>o.mod/2&&(r-=o.mod)),h[c]=e((u-r)*t+r,i)))}),this[c](h)},blend:function(t){if(this._rgba[3]===1)return this;var r=this._rgba.slice(),u=r.pop(),f=i(t)._rgba;return i(n.map(r,function(n,t){return(1-u)*f[t]+u*n}))},toRgbaString:function(){var i="rgba(",t=n.map(this._rgba,function(n,t){return n==null?t>2?1:0:n});return t[3]===1&&(t.pop(),i="rgb("),i+t.join()+")"},toHslaString:function(){var i="hsla(",t=n.map(this.hsla(),function(n,t){return n==null&&(n=t>2?1:0),t&&t<3&&(n=Math.round(n*100)+"%"),n});return t[3]===1&&(t.pop(),i="hsl("),i+t.join()+")"},toHexString:function(t){var i=this._rgba.slice(),r=i.pop();return t&&i.push(~~(r*255)),"#"+n.map(i,function(n){return n=(n||0).toString(16),n.length===1?"0"+n:n}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}}),i.fn.parse.prototype=i.fn,u.hsla.to=function(n){if(n[0]==null||n[1]==null||n[2]==null)return[null,null,null,n[3]];var i=n[0]/255,r=n[1]/255,e=n[2]/255,c=n[3],u=Math.max(i,r,e),s=Math.min(i,r,e),t=u-s,h=u+s,l=h*.5,f,o;return f=s===u?0:i===u?60*(r-e)/t+360:r===u?60*(e-i)/t+120:60*(i-r)/t+240,o=t===0?0:l<=.5?t/h:t/(2-h),[Math.round(f)%360,o,l,c==null?1:c]},u.hsla.from=function(n){if(n[0]==null||n[1]==null||n[2]==null)return[null,null,null,n[3]];var r=n[0]/360,u=n[1],t=n[2],e=n[3],i=t<=.5?t*(1+u):t+u-t*u,f=2*t-i;return[Math.round(o(f,i,r+1/3)*255),Math.round(o(f,i,r)*255),Math.round(o(f,i,r-1/3)*255),e]},r(u,function(u,f){var s=f.props,o=f.cache,h=f.to,c=f.from;i.fn[u]=function(u){if(h&&!this[o]&&(this[o]=h(this._rgba)),u===t)return this[o].slice();var l,a=n.type(u),v=a==="array"||a==="object"?u:arguments,f=this[o].slice();return r(s,function(n,t){var i=v[a==="object"?n:t.idx];i==null&&(i=f[t.idx]),f[t.idx]=e(i,t)}),c?(l=i(c(f)),l[o]=f,l):i(f)},r(s,function(t,r){i.fn[t]||(i.fn[t]=function(i){var f=n.type(i),h=t==="alpha"?this._hsla?"hsla":"rgba":u,o=this[h](),s=o[r.idx],e;return f==="undefined"?s:(f==="function"&&(i=i.call(this,s),f=n.type(i)),i==null&&r.empty)?this:(f==="string"&&(e=v.exec(i),e&&(i=s+parseFloat(e[2])*(e[1]==="+"?1:-1))),o[r.idx]=i,this[h](o))})})}),i.hook=function(t){var u=t.split(" ");r(u,function(t,r){n.cssHooks[r]={set:function(t,u){var o,f,e="";if(u!=="transparent"&&(n.type(u)!=="string"||(o=l(u)))){if(u=i(o||u),!h.rgba&&u._rgba[3]!==1){for(f=r==="backgroundColor"?t.parentNode:t;(e===""||e==="transparent")&&f&&f.style;)try{e=n.css(f,"backgroundColor"),f=f.parentNode}catch(s){}u=u.blend(e&&e!=="transparent"?e:"_default")}u=u.toRgbaString()}try{t.style[r]=u}catch(s){}}},n.fx.step[r]=function(t){t.colorInit||(t.start=i(t.elem,r),t.end=i(t.end),t.colorInit=!0),n.cssHooks[r].set(t.elem,t.start.transition(t.end,t.pos))}})},i.hook(a),n.cssHooks.borderColor={expand:function(n){var t={};return r(["Top","Right","Bottom","Left"],function(i,r){t["border"+r+"Color"]=n}),t}},f=n.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(t){var r,u,i=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,f={};if(i&&i.length&&i[0]&&i[i[0]])for(u=i.length;u--;)r=i[u],typeof i[r]=="string"&&(f[n.camelCase(r)]=i[r]);else for(r in i)typeof i[r]=="string"&&(f[r]=i[r]);return f}function f(t,i){var e={},r,f;for(r in i)f=i[r],t[r]!==f&&(u[r]||(n.fx.step[r]||!isNaN(parseFloat(f)))&&(e[r]=f));return e}var r=["add","remove","toggle"],u={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};n.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){n.fx.step[i]=function(n){(n.end==="none"||n.setAttr)&&(n.pos!==1||n.setAttr)||(jQuery.style(n.elem,i,n.end),n.setAttr=!0)}}),n.fn.addBack||(n.fn.addBack=function(n){return this.add(n==null?this.prevObject:this.prevObject.filter(n))}),n.effects.animateClass=function(t,u,e,o){var s=n.speed(u,e,o);return this.queue(function(){var e=n(this),h=e.attr("class")||"",o,u=s.children?e.find("*").addBack():e;u=u.map(function(){var t=n(this);return{el:t,start:i(this)}}),o=function(){n.each(r,function(n,i){t[i]&&e[i+"Class"](t[i])})},o(),u=u.map(function(){return this.end=i(this.el[0]),this.diff=f(this.start,this.end),this}),e.attr("class",h),u=u.map(function(){var i=this,t=n.Deferred(),r=n.extend({},s,{queue:!1,complete:function(){t.resolve(i)}});return this.el.animate(this.diff,r),t.promise()}),n.when.apply(n,u.get()).done(function(){o(),n.each(arguments,function(){var t=this.el;n.each(this.diff,function(n){t.css(n,"")})}),s.complete.call(e[0])})})},n.fn.extend({addClass:function(t){return function(i,r,u,f){return r?n.effects.animateClass.call(this,{add:i},r,u,f):t.apply(this,arguments)}}(n.fn.addClass),removeClass:function(t){return function(i,r,u,f){return arguments.length>1?n.effects.animateClass.call(this,{remove:i},r,u,f):t.apply(this,arguments)}}(n.fn.removeClass),toggleClass:function(i){return function(r,u,f,e,o){return typeof u=="boolean"||u===t?f?n.effects.animateClass.call(this,u?{add:r}:{remove:r},f,e,o):i.apply(this,arguments):n.effects.animateClass.call(this,{toggle:r},u,f,e)}}(n.fn.toggleClass),switchClass:function(t,i,r,u,f){return n.effects.animateClass.call(this,{add:i,remove:t},r,u,f)}})}(),function(){function r(t,i,r,u){return n.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},i==null&&(i={}),n.isFunction(i)&&(u=i,r=null,i={}),(typeof i=="number"||n.fx.speeds[i])&&(u=r,r=i,i={}),n.isFunction(r)&&(u=r,r=null),i&&n.extend(t,i),r=r||i.duration,t.duration=n.fx.off?0:typeof r=="number"?r:r in n.fx.speeds?n.fx.speeds[r]:n.fx.speeds._default,t.complete=u||i.complete,t}function u(t){return!t||typeof t=="number"||n.fx.speeds[t]?!0:typeof t=="string"&&!n.effects.effect[t]?!0:n.isFunction(t)?!0:typeof t=="object"&&!t.effect?!0:!1}n.extend(n.effects,{version:"1.10.3",save:function(n,t){for(var r=0;r<t.length;r++)t[r]!==null&&n.data(i+t[r],n[0].style[t[r]])},restore:function(n,r){for(var f,u=0;u<r.length;u++)r[u]!==null&&(f=n.data(i+r[u]),f===t&&(f=""),n.css(r[u],f))},setMode:function(n,t){return t==="toggle"&&(t=n.is(":hidden")?"show":"hide"),t},getBaseline:function(n,t){var i,r;switch(n[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=n[0]/t.height}switch(n[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=n[1]/t.width}return{x:r,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},u=n("<div><\/div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),f={width:t.width(),height:t.height()},r=document.activeElement;try{r.id}catch(e){r=document.body}return t.wrap(u),(t[0]===r||n.contains(t[0],r))&&n(r).focus(),u=t.parent(),t.css("position")==="static"?(u.css({position:"relative"}),t.css({position:"relative"})):(n.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),n.each(["top","left","bottom","right"],function(n,r){i[r]=t.css(r),isNaN(parseInt(i[r],10))&&(i[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(f),u.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||n.contains(t[0],i))&&n(i).focus()),t},setTransition:function(t,i,r,u){return u=u||{},n.each(i,function(n,i){var f=t.cssUnit(i);f[0]>0&&(u[i]=f[0]*r+f[1])}),u}}),n.fn.extend({effect:function(){function e(i){function o(){n.isFunction(e)&&e.call(r[0]),n.isFunction(i)&&i()}var r=n(this),e=t.complete,u=t.mode;(r.is(":hidden")?u==="hide":u==="show")?(r[u](),o()):f.call(r[0],t,o)}var t=r.apply(this,arguments),i=t.mode,u=t.queue,f=n.effects.effect[t.effect];return n.fx.off||!f?i?this[i](t.duration,t.complete):this.each(function(){t.complete&&t.complete.call(this)}):u===!1?this.each(e):this.queue(u||"fx",e)},show:function(n){return function(t){if(u(t))return n.apply(this,arguments);var i=r.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(n.fn.show),hide:function(n){return function(t){if(u(t))return n.apply(this,arguments);var i=r.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(n.fn.hide),toggle:function(n){return function(t){if(u(t)||typeof t=="boolean")return n.apply(this,arguments);var i=r.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(n.fn.toggle),cssUnit:function(t){var i=this.css(t),r=[];return n.each(["em","px","%","pt"],function(n,t){i.indexOf(t)>0&&(r=[parseFloat(i),t])}),r}})}(),function(){var t={};n.each(["Quad","Cubic","Quart","Quint","Expo"],function(n,i){t[i]=function(t){return Math.pow(t,n+2)}}),n.extend(t,{Sine:function(n){return 1-Math.cos(n*Math.PI/2)},Circ:function(n){return 1-Math.sqrt(1-n*n)},Elastic:function(n){return n===0||n===1?n:-Math.pow(2,8*(n-1))*Math.sin(((n-1)*80-7.5)*Math.PI/15)},Back:function(n){return n*n*(3*n-2)},Bounce:function(n){for(var t,i=4;n<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((t*3-2)/22-n,2)}}),n.each(t,function(t,i){n.easing["easeIn"+t]=i,n.easing["easeOut"+t]=function(n){return 1-i(1-n)},n.easing["easeInOut"+t]=function(n){return n<.5?i(n*2)/2:1-i(n*-2+2)/2}})}()}(jQuery),function(n){var u=0,i={},r={};i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="hide",r.height=r.paddingTop=r.paddingBottom=r.borderTopWidth=r.borderBottomWidth="show",n.widget("ui.accordion",{version:"1.10.3",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var t=this.options;this.prevShow=this.prevHide=n(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||t.active!==!1&&t.active!=null||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():n(),content:this.active.length?this.active.next():n()}},_createIcons:function(){var t=this.options.icons;t&&(n("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var n;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),n=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this.options.heightStyle!=="content"&&n.css("height","")},_setOption:function(n,t){if(n==="active"){this._activate(t);return}n==="event"&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(n,t),n!=="collapsible"||t||this.options.active!==!1||this._activate(0),n==="icons"&&(this._destroyIcons(),t&&this._createIcons()),n==="disabled"&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=n.ui.keyCode,u=this.headers.length,f=this.headers.index(t.target),r=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:r=this.headers[(f+1)%u];break;case i.LEFT:case i.UP:r=this.headers[(f-1+u)%u];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:r=this.headers[0];break;case i.END:r=this.headers[u-1]}r&&(n(t.target).attr("tabIndex",-1),n(r).attr("tabIndex",0),r.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===n.ui.keyCode.UP&&t.ctrlKey&&n(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),(t.active!==!1||t.collapsible!==!0)&&this.headers.length?t.active===!1?this._activate(0):this.active.length&&!n.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=n()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active):(t.active=!1,this.active=n()),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var t,i=this.options,r=i.heightStyle,e=this.element.parent(),f=this.accordionId="ui-accordion-"+(this.element.attr("id")||++u);this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(t){var i=n(this),r=i.attr("id"),e=i.next(),u=e.attr("id");r||(r=f+"-header-"+t,i.attr("id",r)),u||(u=f+"-panel-"+t,e.attr("id",u)),i.attr("aria-controls",u),e.attr("aria-labelledby",r)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),r==="fill"?(t=e.height(),this.element.siblings(":visible").each(function(){var i=n(this),r=i.css("position");r!=="absolute"&&r!=="fixed"&&(t-=i.outerHeight(!0))}),this.headers.each(function(){t-=n(this).outerHeight(!0)}),this.headers.next().each(function(){n(this).height(Math.max(0,t-n(this).innerHeight()+n(this).height()))}).css("overflow","auto")):r==="auto"&&(t=0,this.headers.next().each(function(){t=Math.max(t,n(this).css("height","").height())}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:n.noop}))},_findActive:function(t){return typeof t=="number"?this.headers.eq(t):n()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&n.each(t.split(" "),function(n,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,u=this.active,r=n(t.currentTarget),f=r[0]===u[0],e=f&&i.collapsible,s=e?n():r.next(),h=u.next(),o={oldHeader:u,oldPanel:h,newHeader:e?n():r,newPanel:s};(t.preventDefault(),(!f||i.collapsible)&&this._trigger("beforeActivate",t,o)!==!1)&&(i.active=e?!1:this.headers.index(r),this.active=f?n():r,this._toggle(o),u.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&u.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),f||(r.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&r.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),r.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var r=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=r,this.prevHide=i,this.options.animate?this._animate(r,i,t):(i.hide(),r.show(),this._toggleComplete(t)),i.attr({"aria-expanded":"false","aria-hidden":"true"}),i.prev().attr("aria-selected","false"),r.length&&i.length?i.prev().attr("tabIndex",-1):r.length&&this.headers.filter(function(){return n(this).attr("tabIndex")===0}).attr("tabIndex",-1),r.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(n,t,u){var l,f,e,a=this,h=0,v=n.length&&(!t.length||n.index()<t.index()),s=this.options.animate||{},o=v&&s.down||s,c=function(){a._toggleComplete(u)};if(typeof o=="number"&&(e=o),typeof o=="string"&&(f=o),f=f||o.easing||s.easing,e=e||o.duration||s.duration,!t.length)return n.animate(r,e,f,c);if(!n.length)return t.animate(i,e,f,c);l=n.show().outerHeight(),t.animate(i,{duration:e,easing:f,step:function(n,t){t.now=Math.round(n)}}),n.hide().animate(r,{duration:e,easing:f,complete:c,step:function(n,i){i.now=Math.round(n),i.prop!=="height"?h+=i.now:a.options.heightStyle!=="content"&&(i.now=Math.round(l-t.outerHeight()-h),h=0)}})},_toggleComplete:function(n){var t=n.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,n)}})}(jQuery),function(n){var i=0;n.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var t,i,r,u=this.element[0].nodeName.toLowerCase(),f=u==="textarea",e=u==="input";this.isMultiLine=f?!0:e?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[f||e?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(u){if(this.element.prop("readOnly")){t=!0,r=!0,i=!0;return}t=!1,r=!1,i=!1;var f=n.ui.keyCode;switch(u.keyCode){case f.PAGE_UP:t=!0,this._move("previousPage",u);break;case f.PAGE_DOWN:t=!0,this._move("nextPage",u);break;case f.UP:t=!0,this._keyEvent("previous",u);break;case f.DOWN:t=!0,this._keyEvent("next",u);break;case f.ENTER:case f.NUMPAD_ENTER:this.menu.active&&(t=!0,u.preventDefault(),this.menu.select(u));break;case f.TAB:this.menu.active&&this.menu.select(u);break;case f.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(u),u.preventDefault());break;default:i=!0,this._searchTimeout(u)}},keypress:function(r){if(t){t=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&r.preventDefault();return}if(!i){var u=n.ui.keyCode;switch(r.keyCode){case u.PAGE_UP:this._move("previousPage",r);break;case u.PAGE_DOWN:this._move("nextPage",r);break;case u.UP:this._keyEvent("previous",r);break;case u.DOWN:this._keyEvent("next",r)}}},input:function(n){if(r){r=!1,n.preventDefault();return}this._searchTimeout(n)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(n){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching),this.close(n),this._change(n)}}),this._initSource(),this.menu=n("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];n(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(r){r.target===t.element[0]||r.target===i||n.contains(i,r.target)||t.close()})})},menufocus:function(t,i){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))){this.menu.blur();this.document.one("mousemove",function(){n(t.target).trigger(t.originalEvent)});return}var r=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",t,{item:r})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(r.value):this.liveRegion.text(r.value)},menuselect:function(n,t){var i=t.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=r,this._delay(function(){this.previous=r,this.selectedItem=i})),!1!==this._trigger("select",n,{item:i})&&this._value(i.value),this.term=this._value(),this.close(n),this.selectedItem=i}}),this.liveRegion=n("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(n,t){this._super(n,t),n==="source"&&this._initSource(),n==="appendTo"&&this.menu.element.appendTo(this._appendTo()),n==="disabled"&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?n(t):this.document.find(t).eq(0)),t||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var i,r,t=this;n.isArray(this.options.source)?(i=this.options.source,this.source=function(t,r){r(n.ui.autocomplete.filter(i,t.term))}):typeof this.options.source=="string"?(r=this.options.source,this.source=function(i,u){t.xhr&&t.xhr.abort(),t.xhr=n.ajax({url:r,data:i,dataType:"json",success:function(n){u(n)},error:function(){u([])}})}):this.source=this.options.source},_searchTimeout:function(n){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,n))},this.options.delay)},search:function(n,t){return(n=n!=null?n:this._value(),this.term=this._value(),n.length<this.options.minLength)?this.close(t):this._trigger("search",t)===!1?void 0:this._search(n)},_search:function(n){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:n},this._response())},_response:function(){var n=this,t=++i;return function(r){t===i&&n.__response(r),n.pending--,n.pending||n.element.removeClass("ui-autocomplete-loading")}},__response:function(n){n&&(n=this._normalize(n)),this._trigger("response",null,{content:n}),!this.options.disabled&&n&&n.length&&!this.cancelSearch?(this._suggest(n),this._trigger("open")):this._close()},close:function(n){this.cancelSearch=!0,this._close(n)},_close:function(n){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",n))},_change:function(n){this.previous!==this._value()&&this._trigger("change",n,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:n.map(t,function(t){return typeof t=="string"?{label:t,value:t}:n.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(n.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var n=this.menu.element;n.outerWidth(Math.max(n.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var r=this;n.each(i,function(n,i){r._renderItemData(t,i)})},_renderItemData:function(n,t){return this._renderItem(n,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return n("<li>").append(n("<a>").text(i.label)).appendTo(t)},_move:function(n,t){if(!this.menu.element.is(":visible")){this.search(null,t);return}if(this.menu.isFirstItem()&&/^previous/.test(n)||this.menu.isLastItem()&&/^next/.test(n)){this._value(this.term),this.menu.blur();return}this.menu[n](t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(n,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(n,t),t.preventDefault())}}),n.extend(n.ui.autocomplete,{escapeRegex:function(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var r=new RegExp(n.ui.autocomplete.escapeRegex(i),"i");return n.grep(t,function(n){return r.test(n.label||n.value||n)})}}),n.widget("ui.autocomplete",n.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(n){return n+(n>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(n){var t;(this._superApply(arguments),this.options.disabled||this.cancelSearch)||(t=n&&n.length?this.options.messages.results(n.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(jQuery),function(n){var r,u,f,i,e="ui-button ui-widget ui-state-default ui-corner-all",h="ui-state-hover ui-state-active ",o="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",c=function(){var t=n(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},s=function(t){var i=t.name,u=t.form,r=n([]);return i&&(i=i.replace(/'/g,"\\'"),r=u?n(u).find("[name='"+i+"']"):n("[name='"+i+"']",t.ownerDocument).filter(function(){return!this.form})),r};n.widget("ui.button",{version:"1.10.3",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,c),typeof this.options.disabled!="boolean"?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var o=this,t=this.options,h=this.type==="checkbox"||this.type==="radio",a=h?"":"ui-state-active",l="ui-state-focus";t.label===null&&(t.label=this.type==="input"?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(e).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){t.disabled||this===r&&n(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){t.disabled||n(this).removeClass(a)}).bind("click"+this.eventNamespace,function(n){t.disabled&&(n.preventDefault(),n.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){o.buttonElement.addClass(l)}).bind("blur"+this.eventNamespace,function(){o.buttonElement.removeClass(l)}),h&&(this.element.bind("change"+this.eventNamespace,function(){i||o.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(n){t.disabled||(i=!1,u=n.pageX,f=n.pageY)}).bind("mouseup"+this.eventNamespace,function(n){t.disabled||(u!==n.pageX||f!==n.pageY)&&(i=!0)})),this.type==="checkbox"?this.buttonElement.bind("click"+this.eventNamespace,function(){if(t.disabled||i)return!1}):this.type==="radio"?this.buttonElement.bind("click"+this.eventNamespace,function(){if(t.disabled||i)return!1;n(this).addClass("ui-state-active"),o.buttonElement.attr("aria-pressed","true");var r=o.element[0];s(r).not(r).map(function(){return n(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(t.disabled)return!1;n(this).addClass("ui-state-active"),r=this;o.document.one("mouseup",function(){r=null})}).bind("mouseup"+this.eventNamespace,function(){if(t.disabled)return!1;n(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(i){if(t.disabled)return!1;(i.keyCode===n.ui.keyCode.SPACE||i.keyCode===n.ui.keyCode.ENTER)&&n(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){n(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===n.ui.keyCode.SPACE&&n(this).click()})),this._setOption("disabled",t.disabled),this._resetButton()},_determineButtonType:function(){var n,t,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button",this.type==="checkbox"||this.type==="radio"?(n=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=n.find(t),this.buttonElement.length||(n=n.length?n.siblings():this.element.siblings(),this.buttonElement=n.filter(t),this.buttonElement.length||(this.buttonElement=n.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(e+" "+h+" "+o).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(n,t){if(this._super(n,t),n==="disabled"){t?this.element.prop("disabled",!0):this.element.prop("disabled",!1);return}this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),this.type==="radio"?s(this.element[0]).each(function(){n(this).is(":checked")?n(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):n(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if(this.type==="input"){this.options.label&&this.element.val(this.options.label);return}var i=this.buttonElement.removeClass(o),f=n("<span><\/span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(i.empty()).text(),t=this.options.icons,u=t.primary&&t.secondary,r=[];t.primary||t.secondary?(this.options.text&&r.push("ui-button-text-icon"+(u?"s":t.primary?"-primary":"-secondary")),t.primary&&i.prepend("<span class='ui-button-icon-primary ui-icon "+t.primary+"'><\/span>"),t.secondary&&i.append("<span class='ui-button-icon-secondary ui-icon "+t.secondary+"'><\/span>"),this.options.text||(r.push(u?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||i.attr("title",n.trim(f)))):r.push("ui-button-text-only"),i.addClass(r.join(" "))}}),n.widget("ui.buttonset",{version:"1.10.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(n,t){n==="disabled"&&this.buttons.button("option",n,t),this._super(n,t)},refresh:function(){var t=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return n(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return n(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(n,t){function f(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},n.extend(this._defaults,this.regional[""]),this.dpDiv=e(n("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'><\/div>"))}function e(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){n(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&n(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&n(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){n.datepicker._isDisabledDatepicker(u.inline?t.parent()[0]:u.input[0])||(n(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),n(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&n(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&n(this).addClass("ui-datepicker-next-hover"))})}function r(t,i){n.extend(t,i);for(var r in i)i[r]==null&&(t[r]=i[r]);return t}n.extend(n.ui,{datepicker:{version:"1.10.3"}});var i="datepicker",u;n.extend(f.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(n){return r(this._defaults,n||{}),this},_attachDatepicker:function(t,i){var r,f,u;r=t.nodeName.toLowerCase(),f=r==="div"||r==="span",t.id||(this.uuid+=1,t.id="dp"+this.uuid),u=this._newInst(n(t),f),u.settings=n.extend({},i||{}),r==="input"?this._connectDatepicker(t,u):f&&this._inlineDatepicker(t,u)},_newInst:function(t,i){var r=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:r,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?e(n("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'><\/div>")):this.dpDiv}},_connectDatepicker:function(t,r){var u=n(t);(r.append=n([]),r.trigger=n([]),u.hasClass(this.markerClassName))||(this._attachments(u,r),u.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(r),n.data(t,i,r),r.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var u,r,f,e=this._get(i,"appendText"),o=this._get(i,"isRTL");i.append&&i.append.remove(),e&&(i.append=n("<span class='"+this._appendClass+"'>"+e+"<\/span>"),t[o?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),u=this._get(i,"showOn"),(u==="focus"||u==="both")&&t.focus(this._showDatepicker),(u==="button"||u==="both")&&(r=this._get(i,"buttonText"),f=this._get(i,"buttonImage"),i.trigger=n(this._get(i,"buttonImageOnly")?n("<img/>").addClass(this._triggerClass).attr({src:f,alt:r,title:r}):n("<button type='button'><\/button>").addClass(this._triggerClass).html(f?n("<img/>").attr({src:f,alt:r,title:r}):r)),t[o?"before":"after"](i.trigger),i.trigger.click(function(){return n.datepicker._datepickerShowing&&n.datepicker._lastInput===t[0]?n.datepicker._hideDatepicker():n.datepicker._datepickerShowing&&n.datepicker._lastInput!==t[0]?(n.datepicker._hideDatepicker(),n.datepicker._showDatepicker(t[0])):n.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(n){if(this._get(n,"autoSize")&&!n.inline){var r,u,f,t,i=new Date(2009,11,20),e=this._get(n,"dateFormat");e.match(/[DM]/)&&(r=function(n){for(u=0,f=0,t=0;t<n.length;t++)n[t].length>u&&(u=n[t].length,f=t);return f},i.setMonth(r(this._get(n,e.match(/MM/)?"monthNames":"monthNamesShort"))),i.setDate(r(this._get(n,e.match(/DD/)?"dayNames":"dayNamesShort"))+20-i.getDay())),n.input.attr("size",this._formatDate(n,i).length)}},_inlineDatepicker:function(t,r){var u=n(t);u.hasClass(this.markerClassName)||(u.addClass(this.markerClassName).append(r.dpDiv),n.data(t,i,r),this._setDate(r,this._getDefaultDate(r),!0),this._updateDatepicker(r),this._updateAlternate(r),r.settings.disabled&&this._disableDatepicker(t),r.dpDiv.css("display","block"))},_dialogDatepicker:function(t,u,f,e,o){var h,c,l,a,v,s=this._dialogInst;return s||(this.uuid+=1,h="dp"+this.uuid,this._dialogInput=n("<input type='text' id='"+h+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),n("body").append(this._dialogInput),s=this._dialogInst=this._newInst(this._dialogInput,!1),s.settings={},n.data(this._dialogInput[0],i,s)),r(s.settings,e||{}),u=u&&u.constructor===Date?this._formatDate(s,u):u,this._dialogInput.val(u),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(c=document.documentElement.clientWidth,l=document.documentElement.clientHeight,a=document.documentElement.scrollLeft||document.body.scrollLeft,v=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+a,l/2-150+v]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),s.settings.onSelect=f,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),n.blockUI&&n.blockUI(this.dpDiv),n.data(this._dialogInput[0],i,s),this},_destroyDatepicker:function(t){var r,u=n(t),f=n.data(t,i);u.hasClass(this.markerClassName)&&(r=t.nodeName.toLowerCase(),n.removeData(t,i),r==="input"?(f.append.remove(),f.trigger.remove(),u.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(r==="div"||r==="span")&&u.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var r,u,f=n(t),e=n.data(t,i);f.hasClass(this.markerClassName)&&(r=t.nodeName.toLowerCase(),r==="input"?(t.disabled=!1,e.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):(r==="div"||r==="span")&&(u=f.children("."+this._inlineClass),u.children().removeClass("ui-state-disabled"),u.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=n.map(this._disabledInputs,function(n){return n===t?null:n}))},_disableDatepicker:function(t){var r,u,f=n(t),e=n.data(t,i);f.hasClass(this.markerClassName)&&(r=t.nodeName.toLowerCase(),r==="input"?(t.disabled=!0,e.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):(r==="div"||r==="span")&&(u=f.children("."+this._inlineClass),u.children().addClass("ui-state-disabled"),u.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=n.map(this._disabledInputs,function(n){return n===t?null:n}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(n){if(!n)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===n)return!0;return!1},_getInst:function(t){try{return n.data(t,i)}catch(r){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(i,u,f){var o,c,s,h,e=this._getInst(i);if(arguments.length===2&&typeof u=="string")return u==="defaults"?n.extend({},n.datepicker._defaults):e?u==="all"?n.extend({},e.settings):this._get(e,u):null;o=u||{},typeof u=="string"&&(o={},o[u]=f),e&&(this._curInst===e&&this._hideDatepicker(),c=this._getDateDatepicker(i,!0),s=this._getMinMaxDate(e,"min"),h=this._getMinMaxDate(e,"max"),r(e.settings,o),s!==null&&o.dateFormat!==t&&o.minDate===t&&(e.settings.minDate=this._formatDate(e,s)),h!==null&&o.dateFormat!==t&&o.maxDate===t&&(e.settings.maxDate=this._formatDate(e,h)),"disabled"in o&&(o.disabled?this._disableDatepicker(i):this._enableDatepicker(i)),this._attachments(n(i),e),this._autoSize(e),this._setDate(e,c),this._updateAlternate(e),this._updateDatepicker(e))},_changeDatepicker:function(n,t,i){this._optionDatepicker(n,t,i)},_refreshDatepicker:function(n){var t=this._getInst(n);t&&this._updateDatepicker(t)},_setDateDatepicker:function(n,t){var i=this._getInst(n);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(n,t){var i=this._getInst(n);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var u,e,f,i=n.datepicker._getInst(t.target),r=!0,o=i.dpDiv.is(".ui-datepicker-rtl");if(i._keyEvent=!0,n.datepicker._datepickerShowing)switch(t.keyCode){case 9:n.datepicker._hideDatepicker(),r=!1;break;case 13:return f=n("td."+n.datepicker._dayOverClass+":not(."+n.datepicker._currentClass+")",i.dpDiv),f[0]&&n.datepicker._selectDay(t.target,i.selectedMonth,i.selectedYear,f[0]),u=n.datepicker._get(i,"onSelect"),u?(e=n.datepicker._formatDate(i),u.apply(i.input?i.input[0]:null,[e,i])):n.datepicker._hideDatepicker(),!1;case 27:n.datepicker._hideDatepicker();break;case 33:n.datepicker._adjustDate(t.target,t.ctrlKey?-n.datepicker._get(i,"stepBigMonths"):-n.datepicker._get(i,"stepMonths"),"M");break;case 34:n.datepicker._adjustDate(t.target,t.ctrlKey?+n.datepicker._get(i,"stepBigMonths"):+n.datepicker._get(i,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&n.datepicker._clearDate(t.target),r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&n.datepicker._gotoToday(t.target),r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,o?1:-1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&n.datepicker._adjustDate(t.target,t.ctrlKey?-n.datepicker._get(i,"stepBigMonths"):-n.datepicker._get(i,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,-7,"D"),r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,o?-1:1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&n.datepicker._adjustDate(t.target,t.ctrlKey?+n.datepicker._get(i,"stepBigMonths"):+n.datepicker._get(i,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,7,"D"),r=t.ctrlKey||t.metaKey;break;default:r=!1}else t.keyCode===36&&t.ctrlKey?n.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,r,u=n.datepicker._getInst(t.target);if(n.datepicker._get(u,"constrainInput"))return i=n.datepicker._possibleChars(n.datepicker._get(u,"dateFormat")),r=String.fromCharCode(t.charCode==null?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||r<" "||!i||i.indexOf(r)>-1},_doKeyUp:function(t){var r,i=n.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal)try{r=n.datepicker.parseDate(n.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,n.datepicker._getFormatConfig(i)),r&&(n.datepicker._setDateFromField(i),n.datepicker._updateAlternate(i),n.datepicker._updateDatepicker(i))}catch(u){}return!0},_showDatepicker:function(t){if(t=t.target||t,t.nodeName.toLowerCase()!=="input"&&(t=n("input",t.parentNode)[0]),!n.datepicker._isDisabledDatepicker(t)&&n.datepicker._lastInput!==t){var i,o,s,u,f,e,h;(i=n.datepicker._getInst(t),n.datepicker._curInst&&n.datepicker._curInst!==i&&(n.datepicker._curInst.dpDiv.stop(!0,!0),i&&n.datepicker._datepickerShowing&&n.datepicker._hideDatepicker(n.datepicker._curInst.input[0])),o=n.datepicker._get(i,"beforeShow"),s=o?o.apply(t,[t,i]):{},s!==!1)&&(r(i.settings,s),i.lastVal=null,n.datepicker._lastInput=t,n.datepicker._setDateFromField(i),n.datepicker._inDialog&&(t.value=""),n.datepicker._pos||(n.datepicker._pos=n.datepicker._findPos(t),n.datepicker._pos[1]+=t.offsetHeight),u=!1,n(t).parents().each(function(){return u|=n(this).css("position")==="fixed",!u}),f={left:n.datepicker._pos[0],top:n.datepicker._pos[1]},n.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),n.datepicker._updateDatepicker(i),f=n.datepicker._checkOffset(i,f,u),i.dpDiv.css({position:n.datepicker._inDialog&&n.blockUI?"static":u?"fixed":"absolute",display:"none",left:f.left+"px",top:f.top+"px"}),i.inline||(e=n.datepicker._get(i,"showAnim"),h=n.datepicker._get(i,"duration"),i.dpDiv.zIndex(n(t).zIndex()+1),n.datepicker._datepickerShowing=!0,n.effects&&n.effects.effect[e]?i.dpDiv.show(e,n.datepicker._get(i,"showOptions"),h):i.dpDiv[e||"show"](e?h:null),n.datepicker._shouldFocusInput(i)&&i.input.focus(),n.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,u=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i,r=this._getNumberOfMonths(t),f=r[1],e=17;t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),f>1&&t.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",e*f+"em"),t.dpDiv[(r[0]!==1||r[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===n.datepicker._curInst&&n.datepicker._datepickerShowing&&n.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(n){return n.input&&n.input.is(":visible")&&!n.input.is(":disabled")&&!n.input.is(":focus")},_checkOffset:function(t,i,r){var u=t.dpDiv.outerWidth(),f=t.dpDiv.outerHeight(),h=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,e=document.documentElement.clientWidth+(r?0:n(document).scrollLeft()),s=document.documentElement.clientHeight+(r?0:n(document).scrollTop());return i.left-=this._get(t,"isRTL")?u-h:0,i.left-=r&&i.left===t.input.offset().left?n(document).scrollLeft():0,i.top-=r&&i.top===t.input.offset().top+o?n(document).scrollTop():0,i.left-=Math.min(i.left,i.left+u>e&&e>u?Math.abs(i.left+u-e):0),i.top-=Math.min(i.top,i.top+f>s&&s>f?Math.abs(f+o):0),i},_findPos:function(t){for(var i,r=this._getInst(t),u=this._get(r,"isRTL");t&&(t.type==="hidden"||t.nodeType!==1||n.expr.filters.hidden(t));)t=t[u?"previousSibling":"nextSibling"];return i=n(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var u,e,f,o,r=this._curInst;r&&(!t||r===n.data(t,i))&&this._datepickerShowing&&(u=this._get(r,"showAnim"),e=this._get(r,"duration"),f=function(){n.datepicker._tidyDialog(r)},n.effects&&(n.effects.effect[u]||n.effects[u])?r.dpDiv.hide(u,n.datepicker._get(r,"showOptions"),e,f):r.dpDiv[u==="slideDown"?"slideUp":u==="fadeIn"?"fadeOut":"hide"](u?e:null,f),u||f(),this._datepickerShowing=!1,o=this._get(r,"onClose"),o&&o.apply(r.input?r.input[0]:null,[r.input?r.input.val():"",r]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),n.blockUI&&(n.unblockUI(),n("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(n){n.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(n.datepicker._curInst){var i=n(t.target),r=n.datepicker._getInst(i[0]);(i[0].id===n.datepicker._mainDivId||i.parents("#"+n.datepicker._mainDivId).length!==0||i.hasClass(n.datepicker.markerClassName)||i.closest("."+n.datepicker._triggerClass).length||!n.datepicker._datepickerShowing||n.datepicker._inDialog&&n.blockUI)&&(!i.hasClass(n.datepicker.markerClassName)||n.datepicker._curInst===r)||n.datepicker._hideDatepicker()}},_adjustDate:function(t,i,r){var f=n(t),u=this._getInst(f[0]);this._isDisabledDatepicker(f[0])||(this._adjustInstDate(u,i+(r==="M"?this._get(u,"showCurrentAtPos"):0),r),this._updateDatepicker(u))},_gotoToday:function(t){var r,u=n(t),i=this._getInst(u[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(r=new Date,i.selectedDay=r.getDate(),i.drawMonth=i.selectedMonth=r.getMonth(),i.drawYear=i.selectedYear=r.getFullYear()),this._notifyChange(i),this._adjustDate(u)},_selectMonthYear:function(t,i,r){var f=n(t),u=this._getInst(f[0]);u["selected"+(r==="M"?"Month":"Year")]=u["draw"+(r==="M"?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(u),this._adjustDate(f)},_selectDay:function(t,i,r,u){var f,e=n(t);n(u).hasClass(this._unselectableClass)||this._isDisabledDatepicker(e[0])||(f=this._getInst(e[0]),f.selectedDay=f.currentDay=n("a",u).html(),f.selectedMonth=f.currentMonth=i,f.selectedYear=f.currentYear=r,this._selectDate(t,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(t){var i=n(t);this._selectDate(i,"")},_selectDate:function(t,i){var u,f=n(t),r=this._getInst(f[0]);i=i!=null?i:this._formatDate(r),r.input&&r.input.val(i),this._updateAlternate(r),u=this._get(r,"onSelect"),u?u.apply(r.input?r.input[0]:null,[i,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],typeof r.input[0]!="object"&&r.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,r,u,f=this._get(t,"altField");f&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),r=this._getDate(t),u=this.formatDate(i,r,this._getFormatConfig(t)),n(f).each(function(){n(this).val(u)}))},noWeekends:function(n){var t=n.getDay();return[t>0&&t<6,""]},iso8601Week:function(n){var i,t=new Date(n.getTime());return t.setDate(t.getDate()+4-(t.getDay()||7)),i=t.getTime(),t.setMonth(0),t.setDate(1),Math.floor(Math.round((i-t)/864e5)/7)+1},parseDate:function(t,i,r){if(t==null||i==null)throw"Invalid arguments";if(i=typeof i=="object"?i.toString():i+"",i==="")return null;for(var a,v,f=0,y=(r?r.shortYearCutoff:null)||this._defaults.shortYearCutoff,d=typeof y!="string"?y:(new Date).getFullYear()%100+parseInt(y,10),g=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,nt=(r?r.dayNames:null)||this._defaults.dayNames,tt=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,it=(r?r.monthNames:null)||this._defaults.monthNames,e=-1,o=-1,h=-1,p=-1,w=!1,u,l=function(n){var i=s+1<t.length&&t.charAt(s+1)===n;return i&&s++,i},c=function(n){var r=l(n),u=n==="@"?14:n==="!"?20:n==="y"&&r?4:n==="o"?3:2,e=new RegExp("^\\d{1,"+u+"}"),t=i.substring(f).match(e);if(!t)throw"Missing number at position "+f;return f+=t[0].length,parseInt(t[0],10)},k=function(t,r,u){var e=-1,o=n.map(l(t)?u:r,function(n,t){return[[t,n]]}).sort(function(n,t){return-(n[1].length-t[1].length)});if(n.each(o,function(n,t){var r=t[1];if(i.substr(f,r.length).toLowerCase()===r.toLowerCase())return e=t[0],f+=r.length,!1}),e!==-1)return e+1;throw"Unknown name at position "+f;},b=function(){if(i.charAt(f)!==t.charAt(s))throw"Unexpected literal at position "+f;f++},s=0;s<t.length;s++)if(w)t.charAt(s)!=="'"||l("'")?b():w=!1;else switch(t.charAt(s)){case"d":h=c("d");break;case"D":k("D",g,nt);break;case"o":p=c("o");break;case"m":o=c("m");break;case"M":o=k("M",tt,it);break;case"y":e=c("y");break;case"@":u=new Date(c("@")),e=u.getFullYear(),o=u.getMonth()+1,h=u.getDate();break;case"!":u=new Date((c("!")-this._ticksTo1970)/1e4),e=u.getFullYear(),o=u.getMonth()+1,h=u.getDate();break;case"'":l("'")?b():w=!0;break;default:b()}if(f<i.length&&(v=i.substr(f),!/^\s+/.test(v)))throw"Extra/unparsed characters found in date: "+v;if(e===-1?e=(new Date).getFullYear():e<100&&(e+=(new Date).getFullYear()-(new Date).getFullYear()%100+(e<=d?0:-100)),p>-1){o=1,h=p;do{if(a=this._getDaysInMonth(e,o-1),h<=a)break;o++,h-=a}while(1)}if(u=this._daylightSavingAdjust(new Date(e,o-1,h)),u.getFullYear()!==e||u.getMonth()+1!==o||u.getDate()!==h)throw"Invalid date";return u},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*864e9,formatDate:function(n,t,i){if(!t)return"";var u,h=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,c=(i?i.dayNames:null)||this._defaults.dayNames,l=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,f=function(t){var i=u+1<n.length&&n.charAt(u+1)===t;return i&&u++,i},e=function(n,t,i){var r=""+t;if(f(n))while(r.length<i)r="0"+r;return r},s=function(n,t,i,r){return f(n)?r[t]:i[t]},r="",o=!1;if(t)for(u=0;u<n.length;u++)if(o)n.charAt(u)!=="'"||f("'")?r+=n.charAt(u):o=!1;else switch(n.charAt(u)){case"d":r+=e("d",t.getDate(),2);break;case"D":r+=s("D",t.getDay(),h,c);break;case"o":r+=e("o",Math.round((+new Date(t.getFullYear(),t.getMonth(),t.getDate())-+new Date(t.getFullYear(),0,0))/864e5),3);break;case"m":r+=e("m",t.getMonth()+1,2);break;case"M":r+=s("M",t.getMonth(),l,a);break;case"y":r+=f("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":r+=t.getTime();break;case"!":r+=t.getTime()*1e4+this._ticksTo1970;break;case"'":f("'")?r+="'":o=!0;break;default:r+=n.charAt(u)}return r},_possibleChars:function(n){for(var i="",r=!1,u=function(i){var r=t+1<n.length&&n.charAt(t+1)===i;return r&&t++,r},t=0;t<n.length;t++)if(r)n.charAt(t)!=="'"||u("'")?i+=n.charAt(t):r=!1;else switch(n.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":u("'")?i+="'":r=!0;break;default:i+=n.charAt(t)}return i},_get:function(n,i){return n.settings[i]!==t?n.settings[i]:this._defaults[i]},_setDateFromField:function(n,t){if(n.input.val()!==n.lastVal){var f=this._get(n,"dateFormat"),r=n.lastVal=n.input?n.input.val():null,u=this._getDefaultDate(n),i=u,e=this._getFormatConfig(n);try{i=this.parseDate(f,r,e)||u}catch(o){r=t?"":r}n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear(),n.currentDay=r?i.getDate():0,n.currentMonth=r?i.getMonth():0,n.currentYear=r?i.getFullYear():0,this._adjustInstDate(n)}},_getDefaultDate:function(n){return this._restrictMinMax(n,this._determineDate(n,this._get(n,"defaultDate"),new Date))},_determineDate:function(t,i,r){var f=function(n){var t=new Date;return t.setDate(t.getDate()+n),t},e=function(i){try{return n.datepicker.parseDate(n.datepicker._get(t,"dateFormat"),i,n.datepicker._getFormatConfig(t))}catch(h){}for(var o=(i.toLowerCase().match(/^c/)?n.datepicker._getDate(t):null)||new Date,f=o.getFullYear(),e=o.getMonth(),r=o.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=s.exec(i);u;){switch(u[2]||"d"){case"d":case"D":r+=parseInt(u[1],10);break;case"w":case"W":r+=parseInt(u[1],10)*7;break;case"m":case"M":e+=parseInt(u[1],10),r=Math.min(r,n.datepicker._getDaysInMonth(f,e));break;case"y":case"Y":f+=parseInt(u[1],10),r=Math.min(r,n.datepicker._getDaysInMonth(f,e))}u=s.exec(i)}return new Date(f,e,r)},u=i==null||i===""?r:typeof i=="string"?e(i):typeof i=="number"?isNaN(i)?r:f(i):new Date(i.getTime());return u=u&&u.toString()==="Invalid Date"?r:u,u&&(u.setHours(0),u.setMinutes(0),u.setSeconds(0),u.setMilliseconds(0)),this._daylightSavingAdjust(u)},_daylightSavingAdjust:function(n){return n?(n.setHours(n.getHours()>12?n.getHours()+2:0),n):null},_setDate:function(n,t,i){var u=!t,f=n.selectedMonth,e=n.selectedYear,r=this._restrictMinMax(n,this._determineDate(n,t,new Date));n.selectedDay=n.currentDay=r.getDate(),n.drawMonth=n.selectedMonth=n.currentMonth=r.getMonth(),n.drawYear=n.selectedYear=n.currentYear=r.getFullYear(),f===n.selectedMonth&&e===n.selectedYear||i||this._notifyChange(n),this._adjustInstDate(n),n.input&&n.input.val(u?"":this._formatDate(n))},_getDate:function(n){return!n.currentYear||n.input&&n.input.val()===""?null:this._daylightSavingAdjust(new Date(n.currentYear,n.currentMonth,n.currentDay))},_attachHandlers:function(t){var r=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){n.datepicker._adjustDate(i,-r,"M")},next:function(){n.datepicker._adjustDate(i,+r,"M")},hide:function(){n.datepicker._hideDatepicker()},today:function(){n.datepicker._gotoToday(i)},selectDay:function(){return n.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return n.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return n.datepicker._selectMonthYear(i,this,"Y"),!1}};n(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(n){var b,s,rt,h,ut,k,ft,et,ri,c,ot,ui,fi,ei,oi,st,g,si,ht,nt,f,y,ct,p,lt,l,u,at,vt,yt,pt,tt,wt,i,bt,kt,d,a,it,dt=new Date,gt=this._daylightSavingAdjust(new Date(dt.getFullYear(),dt.getMonth(),dt.getDate())),e=this._get(n,"isRTL"),li=this._get(n,"showButtonPanel"),hi=this._get(n,"hideIfNoPrevNext"),ni=this._get(n,"navigationAsDateFormat"),o=this._getNumberOfMonths(n),ai=this._get(n,"showCurrentAtPos"),ci=this._get(n,"stepMonths"),ti=o[0]!==1||o[1]!==1,ii=this._daylightSavingAdjust(n.currentDay?new Date(n.currentYear,n.currentMonth,n.currentDay):new Date(9999,9,9)),w=this._getMinMaxDate(n,"min"),v=this._getMinMaxDate(n,"max"),t=n.drawMonth-ai,r=n.drawYear;if(t<0&&(t+=12,r--),v)for(b=this._daylightSavingAdjust(new Date(v.getFullYear(),v.getMonth()-o[0]*o[1]+1,v.getDate())),b=w&&b<w?w:b;this._daylightSavingAdjust(new Date(r,t,1))>b;)t--,t<0&&(t=11,r--);for(n.drawMonth=t,n.drawYear=r,s=this._get(n,"prevText"),s=ni?this.formatDate(s,this._daylightSavingAdjust(new Date(r,t-ci,1)),this._getFormatConfig(n)):s,rt=this._canAdjustMonth(n,-1,r,t)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(e?"e":"w")+"'>"+s+"<\/span><\/a>":hi?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(e?"e":"w")+"'>"+s+"<\/span><\/a>",h=this._get(n,"nextText"),h=ni?this.formatDate(h,this._daylightSavingAdjust(new Date(r,t+ci,1)),this._getFormatConfig(n)):h,ut=this._canAdjustMonth(n,1,r,t)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+h+"'><span class='ui-icon ui-icon-circle-triangle-"+(e?"w":"e")+"'>"+h+"<\/span><\/a>":hi?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+h+"'><span class='ui-icon ui-icon-circle-triangle-"+(e?"w":"e")+"'>"+h+"<\/span><\/a>",k=this._get(n,"currentText"),ft=this._get(n,"gotoCurrent")&&n.currentDay?ii:gt,k=ni?this.formatDate(k,ft,this._getFormatConfig(n)):k,et=n.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(n,"closeText")+"<\/button>",ri=li?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(e?et:"")+(this._isInRange(n,ft)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+k+"<\/button>":"")+(e?"":et)+"<\/div>":"",c=parseInt(this._get(n,"firstDay"),10),c=isNaN(c)?0:c,ot=this._get(n,"showWeek"),ui=this._get(n,"dayNames"),fi=this._get(n,"dayNamesMin"),ei=this._get(n,"monthNames"),oi=this._get(n,"monthNamesShort"),st=this._get(n,"beforeShowDay"),g=this._get(n,"showOtherMonths"),si=this._get(n,"selectOtherMonths"),ht=this._getDefaultDate(n),nt="",f,y=0;y<o[0];y++){for(ct="",this.maxRows=4,p=0;p<o[1];p++){if(lt=this._daylightSavingAdjust(new Date(r,t,n.selectedDay)),l=" ui-corner-all",u="",ti){if(u+="<div class='ui-datepicker-group",o[1]>1)switch(p){case 0:u+=" ui-datepicker-group-first",l=" ui-corner-"+(e?"right":"left");break;case o[1]-1:u+=" ui-datepicker-group-last",l=" ui-corner-"+(e?"left":"right");break;default:u+=" ui-datepicker-group-middle",l=""}u+="'>"}for(u+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+l+"'>"+(/all|left/.test(l)&&y===0?e?ut:rt:"")+(/all|right/.test(l)&&y===0?e?rt:ut:"")+this._generateMonthYearHeader(n,t,r,w,v,y>0||p>0,ei,oi)+"<\/div><table class='ui-datepicker-calendar'><thead><tr>",at=ot?"<th class='ui-datepicker-week-col'>"+this._get(n,"weekHeader")+"<\/th>":"",f=0;f<7;f++)vt=(f+c)%7,at+="<th"+((f+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+ui[vt]+"'>"+fi[vt]+"<\/span><\/th>";for(u+=at+"<\/tr><\/thead><tbody>",yt=this._getDaysInMonth(r,t),r===n.selectedYear&&t===n.selectedMonth&&(n.selectedDay=Math.min(n.selectedDay,yt)),pt=(this._getFirstDayOfMonth(r,t)-c+7)%7,tt=Math.ceil((pt+yt)/7),wt=ti?this.maxRows>tt?this.maxRows:tt:tt,this.maxRows=wt,i=this._daylightSavingAdjust(new Date(r,t,1-pt)),bt=0;bt<wt;bt++){for(u+="<tr>",kt=ot?"<td class='ui-datepicker-week-col'>"+this._get(n,"calculateWeek")(i)+"<\/td>":"",f=0;f<7;f++)d=st?st.apply(n.input?n.input[0]:null,[i]):[!0,""],a=i.getMonth()!==t,it=a&&!si||!d[0]||w&&i<w||v&&i>v,kt+="<td class='"+((f+c+6)%7>=5?" ui-datepicker-week-end":"")+(a?" ui-datepicker-other-month":"")+(i.getTime()===lt.getTime()&&t===n.selectedMonth&&n._keyEvent||ht.getTime()===i.getTime()&&ht.getTime()===lt.getTime()?" "+this._dayOverClass:"")+(it?" "+this._unselectableClass+" ui-state-disabled":"")+(a&&!g?"":" "+d[1]+(i.getTime()===ii.getTime()?" "+this._currentClass:"")+(i.getTime()===gt.getTime()?" ui-datepicker-today":""))+"'"+((!a||g)&&d[2]?" title='"+d[2].replace(/'/g,"&#39;")+"'":"")+(it?"":" data-handler='selectDay' data-event='click' data-month='"+i.getMonth()+"' data-year='"+i.getFullYear()+"'")+">"+(a&&!g?"&#xa0;":it?"<span class='ui-state-default'>"+i.getDate()+"<\/span>":"<a class='ui-state-default"+(i.getTime()===gt.getTime()?" ui-state-highlight":"")+(i.getTime()===ii.getTime()?" ui-state-active":"")+(a?" ui-priority-secondary":"")+"' href='#'>"+i.getDate()+"<\/a>")+"<\/td>",i.setDate(i.getDate()+1),i=this._daylightSavingAdjust(i);u+=kt+"<\/tr>"}t++,t>11&&(t=0,r++),u+="<\/tbody><\/table>"+(ti?"<\/div>"+(o[0]>0&&p===o[1]-1?"<div class='ui-datepicker-row-break'><\/div>":""):""),ct+=u}nt+=ct}return nt+=ri,n._keyEvent=!1,nt},_generateMonthYearHeader:function(n,t,i,r,u,f,e,o){var k,d,h,v,y,p,s,a,w=this._get(n,"changeMonth"),b=this._get(n,"changeYear"),g=this._get(n,"showMonthAfterYear"),c="<div class='ui-datepicker-title'>",l="";if(f||!w)l+="<span class='ui-datepicker-month'>"+e[t]+"<\/span>";else{for(k=r&&r.getFullYear()===i,d=u&&u.getFullYear()===i,l+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",h=0;h<12;h++)(!k||h>=r.getMonth())&&(!d||h<=u.getMonth())&&(l+="<option value='"+h+"'"+(h===t?" selected='selected'":"")+">"+o[h]+"<\/option>");l+="<\/select>"}if(g||(c+=l+(f||!(w&&b)?"&#xa0;":"")),!n.yearshtml)if(n.yearshtml="",f||!b)c+="<span class='ui-datepicker-year'>"+i+"<\/span>";else{for(v=this._get(n,"yearRange").split(":"),y=(new Date).getFullYear(),p=function(n){var t=n.match(/c[+\-].*/)?i+parseInt(n.substring(1),10):n.match(/[+\-].*/)?y+parseInt(n,10):parseInt(n,10);return isNaN(t)?y:t},s=p(v[0]),a=Math.max(s,p(v[1]||"")),s=r?Math.max(s,r.getFullYear()):s,a=u?Math.min(a,u.getFullYear()):a,n.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";s<=a;s++)n.yearshtml+="<option value='"+s+"'"+(s===i?" selected='selected'":"")+">"+s+"<\/option>";n.yearshtml+="<\/select>",c+=n.yearshtml,n.yearshtml=null}return c+=this._get(n,"yearSuffix"),g&&(c+=(f||!(w&&b)?"&#xa0;":"")+l),c+="<\/div>"},_adjustInstDate:function(n,t,i){var u=n.drawYear+(i==="Y"?t:0),f=n.drawMonth+(i==="M"?t:0),e=Math.min(n.selectedDay,this._getDaysInMonth(u,f))+(i==="D"?t:0),r=this._restrictMinMax(n,this._daylightSavingAdjust(new Date(u,f,e)));n.selectedDay=r.getDate(),n.drawMonth=n.selectedMonth=r.getMonth(),n.drawYear=n.selectedYear=r.getFullYear(),(i==="M"||i==="Y")&&this._notifyChange(n)},_restrictMinMax:function(n,t){var i=this._getMinMaxDate(n,"min"),r=this._getMinMaxDate(n,"max"),u=i&&t<i?i:t;return r&&u>r?r:u},_notifyChange:function(n){var t=this._get(n,"onChangeMonthYear");t&&t.apply(n.input?n.input[0]:null,[n.selectedYear,n.selectedMonth+1,n])},_getNumberOfMonths:function(n){var t=this._get(n,"numberOfMonths");return t==null?[1,1]:typeof t=="number"?[1,t]:t},_getMinMaxDate:function(n,t){return this._determineDate(n,this._get(n,t+"Date"),null)},_getDaysInMonth:function(n,t){return 32-this._daylightSavingAdjust(new Date(n,t,32)).getDate()},_getFirstDayOfMonth:function(n,t){return new Date(n,t,1).getDay()},_canAdjustMonth:function(n,t,i,r){var f=this._getNumberOfMonths(n),u=this._daylightSavingAdjust(new Date(i,r+(t<0?t:f[0]*f[1]),1));return t<0&&u.setDate(this._getDaysInMonth(u.getFullYear(),u.getMonth())),this._isInRange(n,u)},_isInRange:function(n,t){var i,f,e=this._getMinMaxDate(n,"min"),o=this._getMinMaxDate(n,"max"),r=null,u=null,s=this._get(n,"yearRange");return s&&(i=s.split(":"),f=(new Date).getFullYear(),r=parseInt(i[0],10),u=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(r+=f),i[1].match(/[+\-].*/)&&(u+=f)),(!e||t.getTime()>=e.getTime())&&(!o||t.getTime()<=o.getTime())&&(!r||t.getFullYear()>=r)&&(!u||t.getFullYear()<=u)},_getFormatConfig:function(n){var t=this._get(n,"shortYearCutoff");return t=typeof t!="string"?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(n,"dayNamesShort"),dayNames:this._get(n,"dayNames"),monthNamesShort:this._get(n,"monthNamesShort"),monthNames:this._get(n,"monthNames")}},_formatDate:function(n,t,i,r){t||(n.currentDay=n.selectedDay,n.currentMonth=n.selectedMonth,n.currentYear=n.selectedYear);var u=t?typeof t=="object"?t:this._daylightSavingAdjust(new Date(r,i,t)):this._daylightSavingAdjust(new Date(n.currentYear,n.currentMonth,n.currentDay));return this.formatDate(this._get(n,"dateFormat"),u,this._getFormatConfig(n))}}),n.fn.datepicker=function(t){if(!this.length)return this;n.datepicker.initialized||(n(document).mousedown(n.datepicker._checkExternalClick),n.datepicker.initialized=!0),n("#"+n.datepicker._mainDivId).length===0&&n("body").append(n.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return typeof t=="string"&&(t==="isDisabled"||t==="getDate"||t==="widget")?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this[0]].concat(i)):t==="option"&&arguments.length===2&&typeof arguments[1]=="string"?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this[0]].concat(i)):this.each(function(){typeof t=="string"?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this].concat(i)):n.datepicker._attachDatepicker(this,t)})},n.datepicker=new f,n.datepicker.initialized=!1,n.datepicker.uuid=+new Date,n.datepicker.version="1.10.3"}(jQuery),function(n){var i={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},r={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};n.widget("ui.dialog",{version:"1.10.3",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=n(this).css(t).offset().top;i<0&&n(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&n.fn.draggable&&this._makeDraggable(),this.options.resizable&&n.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?n(t):this.document.find(t||"body").eq(0)},_destroy:function(){var n,t=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),n=t.parent.children().eq(t.index),n.length&&n[0]!==this.element[0]?n.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:n.noop,enable:n.noop,close:function(t){var i=this;this._isOpen&&this._trigger("beforeClose",t)!==!1&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||n(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(n,t){var i=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return i&&!t&&this._trigger("focus",n),i},open:function(){var t=this;if(this._isOpen){this._moveToTop()&&this._focusTabbable();return}this._isOpen=!0,this.opener=n(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._trigger("open")},_focusTabbable:function(){var n=this.element.find("[autofocus]");n.length||(n=this.element.find(":tabbable")),n.length||(n=this.uiDialogButtonPane.find(":tabbable")),n.length||(n=this.uiDialogTitlebarClose.filter(":tabbable")),n.length||(n=this.uiDialog),n.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||n.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=n("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===n.ui.keyCode.ESCAPE){t.preventDefault(),this.close(t);return}if(t.keyCode===n.ui.keyCode.TAB){var i=this.uiDialog.find(":tabbable"),r=i.filter(":first"),u=i.filter(":last");t.target!==u[0]&&t.target!==this.uiDialog[0]||t.shiftKey?(t.target===r[0]||t.target===this.uiDialog[0])&&t.shiftKey&&(u.focus(1),t.preventDefault()):(r.focus(1),t.preventDefault())}},mousedown:function(n){this._moveToTop(n)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=n("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){n(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=n("<button><\/button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(n){n.preventDefault(),this.close(n)}}),t=n("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(n){this.options.title||n.html("&#160;"),n.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=n("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=n("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var i=this,t=this.options.buttons;if(this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),n.isEmptyObject(t)||n.isArray(t)&&!t.length){this.uiDialog.removeClass("ui-dialog-buttons");return}n.each(t,function(t,r){var u,f;r=n.isFunction(r)?{click:r,text:t}:r,r=n.extend({type:"button"},r),u=r.click,r.click=function(){u.apply(i.element[0],arguments)},f={icons:r.icons,text:r.showText},delete r.icons,delete r.showText,n("<button><\/button>",r).button(f).appendTo(i.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)},_makeDraggable:function(){function i(n){return{position:n.position,offset:n.offset}}var t=this,r=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(r,u){n(this).addClass("ui-dialog-dragging"),t._blockFrames(),t._trigger("dragStart",r,i(u))},drag:function(n,r){t._trigger("drag",n,i(r))},stop:function(u,f){r.position=[f.position.left-t.document.scrollLeft(),f.position.top-t.document.scrollTop()],n(this).removeClass("ui-dialog-dragging"),t._unblockFrames(),t._trigger("dragStop",u,i(f))}})},_makeResizable:function(){function r(n){return{originalPosition:n.originalPosition,originalSize:n.originalSize,position:n.position,size:n.size}}var i=this,t=this.options,u=t.resizable,f=this.uiDialog.css("position"),e=typeof u=="string"?u:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:t.maxWidth,maxHeight:t.maxHeight,minWidth:t.minWidth,minHeight:this._minHeight(),handles:e,start:function(t,u){n(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",t,r(u))},resize:function(n,t){i._trigger("resize",n,r(t))},stop:function(u,f){t.height=n(this).height(),t.width=n(this).width(),n(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",u,r(f))}}).css("position",f)},_minHeight:function(){var n=this.options;return n.height==="auto"?n.minHeight:Math.min(n.minHeight,n.height)},_position:function(){var n=this.uiDialog.is(":visible");n||this.uiDialog.show(),this.uiDialog.position(this.options.position),n||this.uiDialog.hide()},_setOptions:function(t){var e=this,u=!1,f={};n.each(t,function(n,t){e._setOption(n,t),n in i&&(u=!0),n in r&&(f[n]=t)}),u&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",f)},_setOption:function(n,t){var u,r,i=this.uiDialog;(n==="dialogClass"&&i.removeClass(this.options.dialogClass).addClass(t),n!=="disabled")&&(this._super(n,t),n==="appendTo"&&this.uiDialog.appendTo(this._appendTo()),n==="buttons"&&this._createButtons(),n==="closeText"&&this.uiDialogTitlebarClose.button({label:""+t}),n==="draggable"&&(u=i.is(":data(ui-draggable)"),u&&!t&&i.draggable("destroy"),!u&&t&&this._makeDraggable()),n==="position"&&this._position(),n==="resizable"&&(r=i.is(":data(ui-resizable)"),r&&!t&&i.resizable("destroy"),r&&typeof t=="string"&&i.resizable("option","handles",t),r||t===!1||this._makeResizable()),n==="title"&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,i,r,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),t=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),i=Math.max(0,n.minHeight-t),r=typeof n.maxHeight=="number"?Math.max(0,n.maxHeight-t):"none",n.height==="auto"?this.element.css({minHeight:i,maxHeight:r,height:"auto"}):this.element.height(Math.max(0,n.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=n(this);return n("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return n(t.target).closest(".ui-dialog").length?!0:!!n(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=this,i=this.widgetFullName;n.ui.dialog.overlayInstances||this._delay(function(){n.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(r){t._allowInteraction(r)||(r.preventDefault(),n(".ui-dialog:visible:last .ui-dialog-content").data(i)._focusTabbable())})}),this.overlay=n("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),n.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(n.ui.dialog.overlayInstances--,n.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),n.ui.dialog.overlayInstances=0,n.uiBackCompat!==!1&&n.widget("ui.dialog",n.ui.dialog,{_position:function(){var t=this.options.position,i=[],r=[0,0],u;t?((typeof t=="string"||typeof t=="object"&&"0"in t)&&(i=t.split?t.split(" "):[t[0],t[1]],i.length===1&&(i[1]=i[0]),n.each(["left","top"],function(n,t){+i[n]===i[n]&&(r[n]=i[n],i[n]=t)}),t={my:i[0]+(r[0]<0?r[0]:"+"+r[0])+" "+i[1]+(r[1]<0?r[1]:"+"+r[1]),at:i.join(" ")}),t=n.extend({},n.ui.dialog.prototype.options.position,t)):t=n.ui.dialog.prototype.options.position,u=this.uiDialog.is(":visible"),u||this.uiDialog.show(),this.uiDialog.position(t),u||this.uiDialog.hide()}})}(jQuery),function(n){var i=/up|down|vertical/,r=/up|left|vertical|horizontal/;n.effects.effect.blind=function(t,u){var f=n(this),c=["position","top","bottom","left","right","height","width"],p=n.effects.setMode(f,t.mode||"hide"),w=t.direction||"up",o=i.test(w),l=o?"height":"width",a=o?"top":"left",b=r.test(w),v={},y=p==="show",e,s,h;f.parent().is(".ui-effects-wrapper")?n.effects.save(f.parent(),c):n.effects.save(f,c),f.show(),e=n.effects.createWrapper(f).css({overflow:"hidden"}),s=e[l](),h=parseFloat(e.css(a))||0,v[l]=y?s:0,b||(f.css(o?"bottom":"right",0).css(o?"top":"left","auto").css({position:"absolute"}),v[a]=y?h:s+h),y&&(e.css(l,0),b||e.css(a,h+s)),e.animate(v,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){p==="hide"&&f.hide(),n.effects.restore(f,c),n.effects.removeWrapper(f),u()}})}}(jQuery),function(n){n.effects.effect.bounce=function(t,i){var r=n(this),v=["position","top","bottom","left","right","height","width"],k=n.effects.setMode(r,t.mode||"effect"),f=k==="hide",y=k==="show",h=t.direction||"up",u=t.distance,p=t.times||5,d=p*2+(y||f?1:0),c=t.duration/d,l=t.easing,e=h==="up"||h==="down"?"top":"left",w=h==="up"||h==="left",b,o,s,a=r.queue(),g=a.length;for((y||f)&&v.push("opacity"),n.effects.save(r,v),r.show(),n.effects.createWrapper(r),u||(u=r[e==="top"?"outerHeight":"outerWidth"]()/3),y&&(s={opacity:1},s[e]=0,r.css("opacity",0).css(e,w?-u*2:u*2).animate(s,c,l)),f&&(u=u/Math.pow(2,p-1)),s={},s[e]=0,b=0;b<p;b++)o={},o[e]=(w?"-=":"+=")+u,r.animate(o,c,l).animate(s,c,l),u=f?u*2:u/2;f&&(o={opacity:0},o[e]=(w?"-=":"+=")+u,r.animate(o,c,l)),r.queue(function(){f&&r.hide(),n.effects.restore(r,v),n.effects.removeWrapper(r),i()}),g>1&&a.splice.apply(a,[1,0].concat(a.splice(g,d+1))),r.dequeue()}}(jQuery),function(n){n.effects.effect.clip=function(t,i){var r=n(this),h=["position","top","bottom","left","right","height","width"],v=n.effects.setMode(r,t.mode||"hide"),f=v==="show",y=t.direction||"vertical",c=y==="vertical",o=c?"height":"width",l=c?"top":"left",s={},a,u,e;n.effects.save(r,h),r.show(),a=n.effects.createWrapper(r).css({overflow:"hidden"}),u=r[0].tagName==="IMG"?a:r,e=u[o](),f&&(u.css(o,0),u.css(l,e/2)),s[o]=f?e:0,s[l]=f?0:e/2,u.animate(s,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){f||r.hide(),n.effects.restore(r,h),n.effects.removeWrapper(r),i()}})}}(jQuery),function(n){n.effects.effect.drop=function(t,i){var r=n(this),h=["position","top","bottom","left","right","opacity","height","width"],c=n.effects.setMode(r,t.mode||"hide"),e=c==="show",u=t.direction||"left",o=u==="up"||u==="down"?"top":"left",s=u==="up"||u==="left"?"pos":"neg",l={opacity:e?1:0},f;n.effects.save(r,h),r.show(),n.effects.createWrapper(r),f=t.distance||r[o==="top"?"outerHeight":"outerWidth"](!0)/2,e&&r.css("opacity",0).css(o,s==="pos"?-f:f),l[o]=(e?s==="pos"?"+=":"-=":s==="pos"?"-=":"+=")+f,r.animate(l,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){c==="hide"&&r.hide(),n.effects.restore(r,h),n.effects.removeWrapper(r),i()}})}}(jQuery),function(n){n.effects.effect.explode=function(t,i){function k(){l.push(this),l.length===o*c&&d()}function d(){r.css({visibility:"visible"}),n(l).remove(),u||r.hide(),i()}for(var o=t.pieces?Math.round(Math.sqrt(t.pieces)):3,c=o,r=n(this),b=n.effects.setMode(r,t.mode||"hide"),u=b==="show",w=r.show().css("visibility","hidden").offset(),s=Math.ceil(r.outerWidth()/c),h=Math.ceil(r.outerHeight()/o),l=[],f,a,v,y,p,e=0;e<o;e++)for(v=w.top+e*h,p=e-(o-1)/2,f=0;f<c;f++)a=w.left+f*s,y=f-(c-1)/2,r.clone().appendTo("body").wrap("<div><\/div>").css({position:"absolute",visibility:"visible",left:-f*s,top:-e*h}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:s,height:h,left:a+(u?y*s:0),top:v+(u?p*h:0),opacity:u?0:1}).animate({left:a+(u?0:y*s),top:v+(u?0:p*h),opacity:u?1:0},t.duration||500,t.easing,k)}}(jQuery),function(n){n.effects.effect.fade=function(t,i){var r=n(this),u=n.effects.setMode(r,t.mode||"toggle");r.animate({opacity:u},{queue:!1,duration:t.duration,easing:t.easing,complete:i})}}(jQuery),function(n){n.effects.effect.fold=function(t,i){var r=n(this),s=["position","top","bottom","left","right","height","width"],h=n.effects.setMode(r,t.mode||"hide"),e=h==="show",c=h==="hide",f=t.size||15,l=/([0-9]+)%/.exec(f),a=!!t.horizFirst,v=e!==a,y=v?["width","height"]:["height","width"],p=t.duration/2,u,o,w={},b={};n.effects.save(r,s),r.show(),u=n.effects.createWrapper(r).css({overflow:"hidden"}),o=v?[u.width(),u.height()]:[u.height(),u.width()],l&&(f=parseInt(l[1],10)/100*o[c?0:1]),e&&u.css(a?{height:0,width:f}:{height:f,width:0}),w[y[0]]=e?o[0]:f,b[y[1]]=e?o[1]:0,u.animate(w,p,t.easing).animate(b,p,t.easing,function(){c&&r.hide(),n.effects.restore(r,s),n.effects.removeWrapper(r),i()})}}(jQuery),function(n){n.effects.effect.highlight=function(t,i){var r=n(this),u=["backgroundImage","backgroundColor","opacity"],f=n.effects.setMode(r,t.mode||"show"),e={backgroundColor:r.css("backgroundColor")};f==="hide"&&(e.opacity=0),n.effects.save(r,u),r.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(e,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){f==="hide"&&r.hide(),n.effects.restore(r,u),i()}})}}(jQuery),function(n){n.effects.effect.pulsate=function(t,i){var r=n(this),e=n.effects.setMode(r,t.mode||"show"),h=e==="show",a=e==="hide",v=h||e==="hide",o=(t.times||5)*2+(v?1:0),c=t.duration/o,u=0,f=r.queue(),l=f.length,s;for((h||!r.is(":visible"))&&(r.css("opacity",0).show(),u=1),s=1;s<o;s++)r.animate({opacity:u},c,t.easing),u=1-u;r.animate({opacity:u},c,t.easing),r.queue(function(){a&&r.hide(),i()}),l>1&&f.splice.apply(f,[1,0].concat(f.splice(l,o+1))),r.dequeue()}}(jQuery),function(n){n.effects.effect.puff=function(t,i){var r=n(this),e=n.effects.setMode(r,t.mode||"hide"),o=e==="hide",s=parseInt(t.percent,10)||150,f=s/100,u={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()};n.extend(t,{effect:"scale",queue:!1,fade:!0,mode:e,complete:i,percent:o?s:100,from:o?u:{height:u.height*f,width:u.width*f,outerHeight:u.outerHeight*f,outerWidth:u.outerWidth*f}}),r.effect(t)},n.effects.effect.scale=function(t,i){var u=n(this),r=n.extend(!0,{},t),f=n.effects.setMode(u,t.mode||"effect"),s=parseInt(t.percent,10)||(parseInt(t.percent,10)===0?0:f==="hide"?0:100),h=t.direction||"both",c=t.origin,e={height:u.height(),width:u.width(),outerHeight:u.outerHeight(),outerWidth:u.outerWidth()},o={y:h!=="horizontal"?s/100:1,x:h!=="vertical"?s/100:1};r.effect="size",r.queue=!1,r.complete=i,f!=="effect"&&(r.origin=c||["middle","center"],r.restore=!0),r.from=t.from||(f==="show"?{height:0,width:0,outerHeight:0,outerWidth:0}:e),r.to={height:e.height*o.y,width:e.width*o.x,outerHeight:e.outerHeight*o.y,outerWidth:e.outerWidth*o.x},r.fade&&(f==="show"&&(r.from.opacity=0,r.to.opacity=1),f==="hide"&&(r.from.opacity=1,r.to.opacity=0)),u.effect(r)},n.effects.effect.size=function(t,i){var f,l,u,r=n(this),w=["position","top","bottom","left","right","width","height","overflow","opacity"],k=["position","top","bottom","left","right","overflow","opacity"],a=["width","height","overflow"],v=["fontSize"],e=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],o=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],h=n.effects.setMode(r,t.mode||"effect"),y=t.restore||h!=="effect",c=t.scale||"both",b=t.origin||["middle","center"],d=r.css("position"),s=y?w:k,p={height:0,width:0,outerHeight:0,outerWidth:0};h==="show"&&r.show(),f={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()},t.mode==="toggle"&&h==="show"?(r.from=t.to||p,r.to=t.from||f):(r.from=t.from||(h==="show"?p:f),r.to=t.to||(h==="hide"?p:f)),u={from:{y:r.from.height/f.height,x:r.from.width/f.width},to:{y:r.to.height/f.height,x:r.to.width/f.width}},(c==="box"||c==="both")&&(u.from.y!==u.to.y&&(s=s.concat(e),r.from=n.effects.setTransition(r,e,u.from.y,r.from),r.to=n.effects.setTransition(r,e,u.to.y,r.to)),u.from.x!==u.to.x&&(s=s.concat(o),r.from=n.effects.setTransition(r,o,u.from.x,r.from),r.to=n.effects.setTransition(r,o,u.to.x,r.to))),(c==="content"||c==="both")&&u.from.y!==u.to.y&&(s=s.concat(v).concat(a),r.from=n.effects.setTransition(r,v,u.from.y,r.from),r.to=n.effects.setTransition(r,v,u.to.y,r.to)),n.effects.save(r,s),r.show(),n.effects.createWrapper(r),r.css("overflow","hidden").css(r.from),b&&(l=n.effects.getBaseline(b,f),r.from.top=(f.outerHeight-r.outerHeight())*l.y,r.from.left=(f.outerWidth-r.outerWidth())*l.x,r.to.top=(f.outerHeight-r.to.outerHeight)*l.y,r.to.left=(f.outerWidth-r.to.outerWidth)*l.x),r.css(r.from),(c==="content"||c==="both")&&(e=e.concat(["marginTop","marginBottom"]).concat(v),o=o.concat(["marginLeft","marginRight"]),a=w.concat(e).concat(o),r.find("*[width]").each(function(){var i=n(this),r={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};y&&n.effects.save(i,a),i.from={height:r.height*u.from.y,width:r.width*u.from.x,outerHeight:r.outerHeight*u.from.y,outerWidth:r.outerWidth*u.from.x},i.to={height:r.height*u.to.y,width:r.width*u.to.x,outerHeight:r.height*u.to.y,outerWidth:r.width*u.to.x},u.from.y!==u.to.y&&(i.from=n.effects.setTransition(i,e,u.from.y,i.from),i.to=n.effects.setTransition(i,e,u.to.y,i.to)),u.from.x!==u.to.x&&(i.from=n.effects.setTransition(i,o,u.from.x,i.from),i.to=n.effects.setTransition(i,o,u.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){y&&n.effects.restore(i,a)})})),r.animate(r.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){r.to.opacity===0&&r.css("opacity",r.from.opacity),h==="hide"&&r.hide(),n.effects.restore(r,s),y||(d==="static"?r.css({position:"relative",top:r.to.top,left:r.to.left}):n.each(["top","left"],function(n,t){r.css(t,function(t,i){var f=parseInt(i,10),u=n?r.to.left:r.to.top;return i==="auto"?u+"px":f+u+"px"})})),n.effects.removeWrapper(r),i()}})}}(jQuery),function(n){n.effects.effect.shake=function(t,i){var r=n(this),v=["position","top","bottom","left","right","height","width"],k=n.effects.setMode(r,t.mode||"effect"),f=t.direction||"left",o=t.distance||20,y=t.times||3,p=y*2+1,u=Math.round(t.duration/p),s=f==="up"||f==="down"?"top":"left",h=f==="up"||f==="left",c={},l={},w={},a,e=r.queue(),b=e.length;for(n.effects.save(r,v),r.show(),n.effects.createWrapper(r),c[s]=(h?"-=":"+=")+o,l[s]=(h?"+=":"-=")+o*2,w[s]=(h?"-=":"+=")+o*2,r.animate(c,u,t.easing),a=1;a<y;a++)r.animate(l,u,t.easing).animate(w,u,t.easing);r.animate(l,u,t.easing).animate(c,u/2,t.easing).queue(function(){k==="hide"&&r.hide(),n.effects.restore(r,v),n.effects.removeWrapper(r),i()}),b>1&&e.splice.apply(e,[1,0].concat(e.splice(b,p+1))),r.dequeue()}}(jQuery),function(n){n.effects.effect.slide=function(t,i){var r=n(this),s=["position","top","bottom","left","right","width","height"],h=n.effects.setMode(r,t.mode||"show"),c=h==="show",f=t.direction||"left",e=f==="up"||f==="down"?"top":"left",o=f==="up"||f==="left",u,l={};n.effects.save(r,s),r.show(),u=t.distance||r[e==="top"?"outerHeight":"outerWidth"](!0),n.effects.createWrapper(r).css({overflow:"hidden"}),c&&r.css(e,o?isNaN(u)?"-"+u:-u:u),l[e]=(c?o?"+=":"-=":o?"-=":"+=")+u,r.animate(l,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){h==="hide"&&r.hide(),n.effects.restore(r,s),n.effects.removeWrapper(r),i()}})}}(jQuery),function(n){n.effects.effect.transfer=function(t,i){var u=n(this),r=n(t.to),f=r.css("position")==="fixed",e=n("body"),o=f?e.scrollTop():0,s=f?e.scrollLeft():0,h=r.offset(),l={top:h.top-o,left:h.left-s,height:r.innerHeight(),width:r.innerWidth()},c=u.offset(),a=n("<div class='ui-effects-transfer'><\/div>").appendTo(document.body).addClass(t.className).css({top:c.top-o,left:c.left-s,height:u.innerHeight(),width:u.innerWidth(),position:f?"fixed":"absolute"}).animate(l,t.duration,t.easing,function(){a.remove(),i()})}}(jQuery),function(n){n.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,n.proxy(function(n){this.options.disabled&&n.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(n){n.preventDefault()},"click .ui-state-disabled > a":function(n){n.preventDefault()},"click .ui-menu-item:has(a)":function(t){var i=n(t.target).closest(".ui-menu-item");!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(t),i.has(".ui-menu").length?this.expand(t):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&this.active.parents(".ui-menu").length===1&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var i=n(t.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(n,t){var i=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(n,i)},blur:function(t){this._delay(function(){n.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){n(t.target).closest(".ui-menu").length||this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=n(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function s(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var i,f,r,e,u,o=!0;switch(t.keyCode){case n.ui.keyCode.PAGE_UP:this.previousPage(t);break;case n.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case n.ui.keyCode.HOME:this._move("first","first",t);break;case n.ui.keyCode.END:this._move("last","last",t);break;case n.ui.keyCode.UP:this.previous(t);break;case n.ui.keyCode.DOWN:this.next(t);break;case n.ui.keyCode.LEFT:this.collapse(t);break;case n.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case n.ui.keyCode.ENTER:case n.ui.keyCode.SPACE:this._activate(t);break;case n.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,f=this.previousFilter||"",r=String.fromCharCode(t.keyCode),e=!1,clearTimeout(this.filterTimer),r===f?e=!0:r=f+r,u=new RegExp("^"+s(r),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return u.test(n(this).children("a").text())}),i=e&&i.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):i,i.length||(r=String.fromCharCode(t.keyCode),u=new RegExp("^"+s(r),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return u.test(n(this).children("a").text())})),i.length?(this.focus(t,i),i.length>1?(this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}o&&t.preventDefault()},_activate:function(n){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(n):this.select(n))},refresh:function(){var t,r=this.options.icons.submenu,i=this.element.find(this.options.menus);i.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=n(this),i=t.prev("a"),u=n("<span>").addClass("ui-menu-icon ui-icon "+r).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(u),t.attr("aria-labelledby",i.attr("id"))}),t=i.add(this.element),t.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each(function(){var t=n(this);/[^\-\u2014\u2013\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")}),t.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!n.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(n,t){n==="icons"&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),this._super(n,t)},focus:function(n,t){var i,r;this.blur(n,n&&n.type==="focus"),this._scrollIntoView(t),this.active=t.first(),r=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",r.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),n&&n.type==="keydown"?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&/^mouse/.test(n.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",n,{item:t})},_scrollIntoView:function(t){var e,o,i,r,u,f;this._hasScroll()&&(e=parseFloat(n.css(this.activeMenu[0],"borderTopWidth"))||0,o=parseFloat(n.css(this.activeMenu[0],"paddingTop"))||0,i=t.offset().top-this.activeMenu.offset().top-e-o,r=this.activeMenu.scrollTop(),u=this.activeMenu.height(),f=t.height(),i<0?this.activeMenu.scrollTop(r+i):i+f>u&&this.activeMenu.scrollTop(r+i-u+f))},blur:function(n,t){(t||clearTimeout(this.timer),this.active)&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",n,{item:this.active}))},_startOpening:function(n){(clearTimeout(this.timer),n.attr("aria-hidden")==="true")&&(this.timer=this._delay(function(){this._close(),this._open(n)},this.delay))},_open:function(t){var i=n.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var r=i?this.element:n(t&&t.target).closest(this.element.find(".ui-menu"));r.length||(r=this.element),this._close(r),this.blur(t),this.activeMenu=r},this.delay)},_close:function(n){n||(n=this.active?this.active.parent():this.element),n.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(n){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(n,t))},expand:function(n){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(n,t)}))},next:function(n){this._move("next","first",n)},previous:function(n){this._move("prev","last",n)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(n,t,i){var r;this.active&&(r=n==="first"||n==="last"?this.active[n==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[n+"All"](".ui-menu-item").eq(0)),r&&r.length&&this.active||(r=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(i,r)},nextPage:function(t){var i,r,u;if(!this.active){this.next(t);return}this.isLastItem()||(this._hasScroll()?(r=this.active.offset().top,u=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=n(this),i.offset().top-r-u<0}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))},previousPage:function(t){var i,r,u;if(!this.active){this.next(t);return}this.isFirstItem()||(this._hasScroll()?(r=this.active.offset().top,u=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=n(this),i.offset().top-r+u>0}),this.focus(t,i)):this.focus(t,this.activeMenu.children(".ui-menu-item").first()))},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||n(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)}})}(jQuery),function(n,t){function a(n,t,i){return[parseFloat(n[0])*(l.test(n[0])?t/100:1),parseFloat(n[1])*(l.test(n[1])?i/100:1)]}function u(t,i){return parseInt(n.css(t,i),10)||0}function y(t){var i=t[0];return i.nodeType===9?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:n.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}n.ui=n.ui||{};var f,r=Math.max,i=Math.abs,e=Math.round,o=/left|center|right/,s=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,l=/%$/,v=n.fn.position;n.position={scrollbarWidth:function(){if(f!==t)return f;var u,r,i=n("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'><\/div><\/div>"),e=i.children()[0];return n("body").append(i),u=e.offsetWidth,i.css("overflow","scroll"),r=e.offsetWidth,u===r&&(r=i[0].clientWidth),i.remove(),f=u-r},getScrollInfo:function(t){var i=t.isWindow?"":t.element.css("overflow-x"),r=t.isWindow?"":t.element.css("overflow-y"),u=i==="scroll"||i==="auto"&&t.width<t.element[0].scrollWidth,f=r==="scroll"||r==="auto"&&t.height<t.element[0].scrollHeight;return{width:f?n.position.scrollbarWidth():0,height:u?n.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=n(t||window),r=n.isWindow(i[0]);return{element:i,isWindow:r,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:r?i.width():i.outerWidth(),height:r?i.height():i.outerHeight()}}},n.fn.position=function(t){if(!t||!t.of)return v.apply(this,arguments);t=n.extend({},t);var b,f,l,w,p,d,g=n(t.of),tt=n.position.getWithinInfo(t.within),it=n.position.getScrollInfo(tt),k=(t.collision||"flip").split(" "),nt={};return d=y(g),g[0].preventDefault&&(t.at="left top"),f=d.width,l=d.height,w=d.offset,p=n.extend({},w),n.each(["my","at"],function(){var n=(t[this]||"").split(" "),i,r;n.length===1&&(n=o.test(n[0])?n.concat(["center"]):s.test(n[0])?["center"].concat(n):["center","center"]),n[0]=o.test(n[0])?n[0]:"center",n[1]=s.test(n[1])?n[1]:"center",i=h.exec(n[0]),r=h.exec(n[1]),nt[this]=[i?i[0]:0,r?r[0]:0],t[this]=[c.exec(n[0])[0],c.exec(n[1])[0]]}),k.length===1&&(k[1]=k[0]),t.at[0]==="right"?p.left+=f:t.at[0]==="center"&&(p.left+=f/2),t.at[1]==="bottom"?p.top+=l:t.at[1]==="center"&&(p.top+=l/2),b=a(nt.at,f,l),p.left+=b[0],p.top+=b[1],this.each(function(){var y,d,s=n(this),h=s.outerWidth(),c=s.outerHeight(),rt=u(this,"marginLeft"),ut=u(this,"marginTop"),ft=h+rt+u(this,"marginRight")+it.width,et=c+ut+u(this,"marginBottom")+it.height,o=n.extend({},p),v=a(nt.my,s.outerWidth(),s.outerHeight());t.my[0]==="right"?o.left-=h:t.my[0]==="center"&&(o.left-=h/2),t.my[1]==="bottom"?o.top-=c:t.my[1]==="center"&&(o.top-=c/2),o.left+=v[0],o.top+=v[1],n.support.offsetFractions||(o.left=e(o.left),o.top=e(o.top)),y={marginLeft:rt,marginTop:ut},n.each(["left","top"],function(i,r){n.ui.position[k[i]]&&n.ui.position[k[i]][r](o,{targetWidth:f,targetHeight:l,elemWidth:h,elemHeight:c,collisionPosition:y,collisionWidth:ft,collisionHeight:et,offset:[b[0]+v[0],b[1]+v[1]],my:t.my,at:t.at,within:tt,elem:s})}),t.using&&(d=function(n){var e=w.left-o.left,v=e+f-h,a=w.top-o.top,y=a+l-c,u={target:{element:g,left:w.left,top:w.top,width:f,height:l},element:{element:s,left:o.left,top:o.top,width:h,height:c},horizontal:v<0?"left":e>0?"right":"center",vertical:y<0?"top":a>0?"bottom":"middle"};f<h&&i(e+v)<f&&(u.horizontal="center"),l<c&&i(a+y)<l&&(u.vertical="middle"),u.important=r(i(e),i(v))>r(i(a),i(y))?"horizontal":"vertical",t.using.call(this,n,u)}),s.offset(n.extend(o,{using:d}))})},n.ui.position={fit:{left:function(n,t){var e=t.within,u=e.isWindow?e.scrollLeft:e.offset.left,o=e.width,s=n.left-t.collisionPosition.marginLeft,i=u-s,f=s+t.collisionWidth-o-u,h;t.collisionWidth>o?i>0&&f<=0?(h=n.left+i+t.collisionWidth-o-u,n.left+=i-h):n.left=f>0&&i<=0?u:i>f?u+o-t.collisionWidth:u:i>0?n.left+=i:f>0?n.left-=f:n.left=r(n.left-s,n.left)},top:function(n,t){var o=t.within,u=o.isWindow?o.scrollTop:o.offset.top,e=t.within.height,s=n.top-t.collisionPosition.marginTop,i=u-s,f=s+t.collisionHeight-e-u,h;t.collisionHeight>e?i>0&&f<=0?(h=n.top+i+t.collisionHeight-e-u,n.top+=i-h):n.top=f>0&&i<=0?u:i>f?u+e-t.collisionHeight:u:i>0?n.top+=i:f>0?n.top-=f:n.top=r(n.top-s,n.top)}},flip:{left:function(n,t){var r=t.within,y=r.offset.left+r.scrollLeft,c=r.width,o=r.isWindow?r.scrollLeft:r.offset.left,l=n.left-t.collisionPosition.marginLeft,a=l-o,v=l+t.collisionWidth-c-o,u=t.my[0]==="left"?-t.elemWidth:t.my[0]==="right"?t.elemWidth:0,f=t.at[0]==="left"?t.targetWidth:t.at[0]==="right"?-t.targetWidth:0,e=-2*t.offset[0],s,h;a<0?(s=n.left+u+f+e+t.collisionWidth-c-y,(s<0||s<i(a))&&(n.left+=u+f+e)):v>0&&(h=n.left-t.collisionPosition.marginLeft+u+f+e-o,(h>0||i(h)<v)&&(n.left+=u+f+e))},top:function(n,t){var r=t.within,y=r.offset.top+r.scrollTop,a=r.height,o=r.isWindow?r.scrollTop:r.offset.top,v=n.top-t.collisionPosition.marginTop,s=v-o,h=v+t.collisionHeight-a-o,p=t.my[1]==="top",u=p?-t.elemHeight:t.my[1]==="bottom"?t.elemHeight:0,f=t.at[1]==="top"?t.targetHeight:t.at[1]==="bottom"?-t.targetHeight:0,e=-2*t.offset[1],c,l;s<0?(l=n.top+u+f+e+t.collisionHeight-a-y,n.top+u+f+e>s&&(l<0||l<i(s))&&(n.top+=u+f+e)):h>0&&(c=n.top-t.collisionPosition.marginTop+u+f+e-o,n.top+u+f+e>h&&(c>0||i(c)<h)&&(n.top+=u+f+e))}},flipfit:{left:function(){n.ui.position.flip.left.apply(this,arguments),n.ui.position.fit.left.apply(this,arguments)},top:function(){n.ui.position.flip.top.apply(this,arguments),n.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,r,u,f,e=document.getElementsByTagName("body")[0],o=document.createElement("div");t=document.createElement(e?"div":"body"),r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},e&&n.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in r)t.style[f]=r[f];t.appendChild(o),i=e||document.documentElement,i.insertBefore(t,i.firstChild),o.style.cssText="position: absolute; left: 10.7432222px;",u=n(o).offset().left,n.support.offsetFractions=u>10&&u<11,t.innerHTML="",i.removeChild(t)}()}(jQuery),function(n,t){n.widget("ui.progressbar",{version:"1.10.3",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=n("<div class='ui-progressbar-value ui-widget-header ui-corner-left'><\/div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(n){if(n===t)return this.options.value;this.options.value=this._constrainedValue(n),this._refreshValue()},_constrainedValue:function(n){return n===t&&(n=this.options.value),this.indeterminate=n===!1,typeof n!="number"&&(n=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,n))},_setOptions:function(n){var t=n.value;delete n.value,this._super(n),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(n,t){n==="max"&&(t=Math.max(this.min,t)),this._super(n,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=n("<div class='ui-progressbar-overlay'><\/div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}})}(jQuery),function(n){var i=5;n.widget("ui.slider",n.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var r,i,u=this.options,t=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),e="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'><\/a>",f=[];for(i=u.values&&u.values.length||1,t.length>i&&(t.slice(i).remove(),t=t.slice(0,i)),r=t.length;r<i;r++)f.push(e);this.handles=t.add(n(f.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){n(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(t.range===!0&&(t.values?t.values.length&&t.values.length!==2?t.values=[t.values[0],t.values[0]]:n.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=n("<div><\/div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+(t.range==="min"||t.range==="max"?" ui-slider-range-"+t.range:""))):this.range=n([])},_setupEvents:function(){var n=this.handles.add(this.range).filter("a");this._off(n),this._on(n,this._handleEvents),this._hoverable(n),this._focusable(n)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var s,f,r,i,u,h,e,c,o=this,l=this.options;return l.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),s={x:t.pageX,y:t.pageY},f=this._normValueFromMouse(s),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var e=Math.abs(f-o.values(t));(r>e||r===e&&(t===o._lastChangedValue||o.values(t)===l.min))&&(r=e,i=n(this),u=t)}),h=this._start(t,u),h===!1)?!1:(this._mouseSliding=!0,this._handleIndex=u,i.addClass("ui-state-active").focus(),e=i.offset(),c=!n(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-e.left-i.width()/2,top:t.pageY-e.top-i.height()/2-(parseInt(i.css("borderTopWidth"),10)||0)-(parseInt(i.css("borderBottomWidth"),10)||0)+(parseInt(i.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,u,f),this._animateOff=!0,!0)},_mouseStart:function(){return!0},_mouseDrag:function(n){var t={x:n.pageX,y:n.pageY},i=this._normValueFromMouse(t);return this._slide(n,this._handleIndex,i),!1},_mouseStop:function(n){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(n,this._handleIndex),this._change(n,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(n){var i,r,t,u,f;return this.orientation==="horizontal"?(i=this.elementSize.width,r=n.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(i=this.elementSize.height,r=n.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),t=r/i,t>1&&(t=1),t<0&&(t=0),this.orientation==="vertical"&&(t=1-t),u=this._valueMax()-this._valueMin(),f=this._valueMin()+t*u,this._trimAlignValue(f)},_start:function(n,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",n,i)},_slide:function(n,t,i){var r,f,u;this.options.values&&this.options.values.length?(r=this.values(t?0:1),this.options.values.length===2&&this.options.range===!0&&(t===0&&i>r||t===1&&i<r)&&(i=r),i!==this.values(t)&&(f=this.values(),f[t]=i,u=this._trigger("slide",n,{handle:this.handles[t],value:i,values:f}),r=this.values(t?0:1),u!==!1&&this.values(t,i,!0))):i!==this.value()&&(u=this._trigger("slide",n,{handle:this.handles[t],value:i}),u!==!1&&this.value(i))},_stop:function(n,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",n,i)},_change:function(n,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",n,i)}},value:function(n){if(arguments.length){this.options.value=this._trimAlignValue(n),this._refreshValue(),this._change(null,0);return}return this._value()},values:function(t,i){var u,f,r;if(arguments.length>1){this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),this._change(null,t);return}if(arguments.length)if(n.isArray(arguments[0])){for(u=this.options.values,f=arguments[0],r=0;r<u.length;r+=1)u[r]=this._trimAlignValue(f[r]),this._change(null,r);this._refreshValue()}else return this.options.values&&this.options.values.length?this._values(t):this.value();else return this._values()},_setOption:function(t,i){var r,u=0;t==="range"&&this.options.range===!0&&(i==="min"?(this.options.value=this._values(0),this.options.values=null):i==="max"&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),n.isArray(this.options.values)&&(u=this.options.values.length),n.Widget.prototype._setOption.apply(this,arguments);switch(t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),r=0;r<u;r+=1)this._change(null,r);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var n=this.options.value;return n=this._trimAlignValue(n)},_values:function(n){var r,t,i;if(arguments.length)return r=this.options.values[n],r=this._trimAlignValue(r);if(this.options.values&&this.options.values.length){for(t=this.options.values.slice(),i=0;i<t.length;i+=1)t[i]=this._trimAlignValue(t[i]);return t}return[]},_trimAlignValue:function(n){if(n<=this._valueMin())return this._valueMin();if(n>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(n-this._valueMin())%t,r=n-i;return Math.abs(i)*2>=t&&(r+=i>0?t:-t),parseFloat(r.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var s,t,c,f,h,e=this.options.range,i=this.options,r=this,u=this._animateOff?!1:i.animate,o={};this.options.values&&this.options.values.length?this.handles.each(function(f){t=(r.values(f)-r._valueMin())/(r._valueMax()-r._valueMin())*100,o[r.orientation==="horizontal"?"left":"bottom"]=t+"%",n(this).stop(1,1)[u?"animate":"css"](o,i.animate),r.options.range===!0&&(r.orientation==="horizontal"?(f===0&&r.range.stop(1,1)[u?"animate":"css"]({left:t+"%"},i.animate),f===1&&r.range[u?"animate":"css"]({width:t-s+"%"},{queue:!1,duration:i.animate})):(f===0&&r.range.stop(1,1)[u?"animate":"css"]({bottom:t+"%"},i.animate),f===1&&r.range[u?"animate":"css"]({height:t-s+"%"},{queue:!1,duration:i.animate}))),s=t}):(c=this.value(),f=this._valueMin(),h=this._valueMax(),t=h!==f?(c-f)/(h-f)*100:0,o[this.orientation==="horizontal"?"left":"bottom"]=t+"%",this.handle.stop(1,1)[u?"animate":"css"](o,i.animate),e==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[u?"animate":"css"]({width:t+"%"},i.animate),e==="max"&&this.orientation==="horizontal"&&this.range[u?"animate":"css"]({width:100-t+"%"},{queue:!1,duration:i.animate}),e==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[u?"animate":"css"]({height:t+"%"},i.animate),e==="max"&&this.orientation==="vertical"&&this.range[u?"animate":"css"]({height:100-t+"%"},{queue:!1,duration:i.animate}))},_handleEvents:{keydown:function(t){var o,u,r,f,e=n(t.target).data("ui-slider-handle-index");switch(t.keyCode){case n.ui.keyCode.HOME:case n.ui.keyCode.END:case n.ui.keyCode.PAGE_UP:case n.ui.keyCode.PAGE_DOWN:case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,n(t.target).addClass("ui-state-active"),o=this._start(t,e),o===!1))return}f=this.options.step,u=this.options.values&&this.options.values.length?r=this.values(e):r=this.value();switch(t.keyCode){case n.ui.keyCode.HOME:r=this._valueMin();break;case n.ui.keyCode.END:r=this._valueMax();break;case n.ui.keyCode.PAGE_UP:r=this._trimAlignValue(u+(this._valueMax()-this._valueMin())/i);break;case n.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(u-(this._valueMax()-this._valueMin())/i);break;case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:if(u===this._valueMax())return;r=this._trimAlignValue(u+f);break;case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(u===this._valueMin())return;r=this._trimAlignValue(u-f)}this._slide(t,e,r)},click:function(n){n.preventDefault()},keyup:function(t){var i=n(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),n(t.target).removeClass("ui-state-active"))}}})}(jQuery),function(n){function t(n){return function(){var t=this.element.val();n.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}n.widget("ui.spinner",{version:"1.10.3",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return n.each(["min","max","step"],function(n,r){var u=i.attr(r);u!==undefined&&u.length&&(t[r]=u)}),t},_events:{keydown:function(n){this._start(n)&&this._keydown(n)&&n.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(n){if(this.cancelBlur){delete this.cancelBlur;return}this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",n)},mousewheel:function(n,t){if(t){if(!this.spinning&&!this._start(n))return!1;this._spin((t>0?1:-1)*this.options.step,n),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(n)},100),n.preventDefault()}},"mousedown .ui-spinner-button":function(t){function r(){var n=this.element[0]===this.document[0].activeElement;n||(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i}))}var i;(i=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),r.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,r.call(this)}),this._start(t)!==!1)&&this._repeat(null,n(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(n(t.currentTarget).hasClass("ui-state-active")){if(this._start(t)===!1)return!1;this._repeat(null,n(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)}},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var n=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=n.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(n.height()*.5)&&n.height()>0&&n.height(n.height()),this.options.disabled&&this.disable()},_keydown:function(t){var r=this.options,i=n.ui.keyCode;switch(t.keyCode){case i.UP:return this._repeat(null,1,t),!0;case i.DOWN:return this._repeat(null,-1,t),!0;case i.PAGE_UP:return this._repeat(null,r.page,t),!0;case i.PAGE_DOWN:return this._repeat(null,-r.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'><\/span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;<\/span><\/a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;<\/span><\/a>"},_start:function(n){return!this.spinning&&this._trigger("start",n)===!1?!1:(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(n,t,i){n=n||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},n),this._spin(t*this.options.step,i)},_spin:function(n,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+n*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?n.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var n=this._precisionOf(this.options.step);return this.options.min!==null&&(n=Math.max(n,this._precisionOf(this.options.min))),n},_precisionOf:function(n){var t=n.toString(),i=t.indexOf(".");return i===-1?0:t.length-i-1},_adjustValue:function(n){var r,i,t=this.options;return(r=t.min!==null?t.min:0,i=n-r,i=Math.round(i/t.step)*t.step,n=r+i,n=parseFloat(n.toFixed(this._precision())),t.max!==null&&n>t.max)?t.max:t.min!==null&&n<t.min?t.min:n},_stop:function(n){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",n))},_setOption:function(n,t){if(n==="culture"||n==="numberFormat"){var i=this._parse(this.element.val());this.options[n]=t,this.element.val(this._format(i));return}(n==="max"||n==="min"||n==="step")&&typeof t=="string"&&(t=this._parse(t)),n==="icons"&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(n,t),n==="disabled"&&(t?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:t(function(n){this._super(n),this._value(this.element.val())}),_parse:function(n){return typeof n=="string"&&n!==""&&(n=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(n,10,this.options.culture):+n),n===""||isNaN(n)?null:n},_format:function(n){return n===""?"":window.Globalize&&this.options.numberFormat?Globalize.format(n,this.options.numberFormat,this.options.culture):n},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(n,t){var i;n!==""&&(i=this._parse(n),i!==null&&(t||(i=this._adjustValue(i)),n=this._format(i))),this.element.val(n),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:t(function(n){this._stepUp(n)}),_stepUp:function(n){this._start()&&(this._spin((n||1)*this.options.step),this._stop())},stepDown:t(function(n){this._stepDown(n)}),_stepDown:function(n){this._start()&&(this._spin((n||1)*-this.options.step),this._stop())},pageUp:t(function(n){this._stepUp((n||1)*this.options.page)}),pageDown:t(function(n){this._stepDown((n||1)*this.options.page)}),value:function(n){if(!arguments.length)return this._parse(this.element.val());t(this._value).call(this,n)},widget:function(){return this.uiSpinner}})}(jQuery),function(n,t){function f(){return++u}function r(n){return n.hash.length>1&&decodeURIComponent(n.href.replace(i,""))===decodeURIComponent(location.href.replace(i,""))}var u=0,i=/#.*$/;n.widget("ui.tabs",{version:"1.10.3",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var i=this,t=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",t.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(t){n(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){n(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),t.active=this._initialActive(),n.isArray(t.disabled)&&(t.disabled=n.unique(t.disabled.concat(n.map(this.tabs.filter(".ui-state-disabled"),function(n){return i.tabs.index(n)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(t.active):n(),this._refresh(),this.active.length&&this.load(t.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,r=location.hash.substring(1);return t===null&&(r&&this.tabs.each(function(i,u){if(n(u).attr("aria-controls")===r)return t=i,!1}),t===null&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(t===null||t===-1)&&(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),t===-1&&(t=i?!1:0)),!i&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):n()}},_tabKeydown:function(t){var r=n(this.document[0].activeElement).closest("li"),i=this.tabs.index(r),u=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:i++;break;case n.ui.keyCode.UP:case n.ui.keyCode.LEFT:u=!1,i--;break;case n.ui.keyCode.END:i=this.anchors.length-1;break;case n.ui.keyCode.HOME:i=0;break;case n.ui.keyCode.SPACE:t.preventDefault(),clearTimeout(this.activating),this._activate(i);return;case n.ui.keyCode.ENTER:t.preventDefault(),clearTimeout(this.activating),this._activate(i===this.options.active?!1:i);return;default:return}t.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,u),t.ctrlKey||(r.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===n.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===n.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===n.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function u(){return t>r&&(t=0),t<0&&(t=r),t}for(var r=this.tabs.length-1;n.inArray(u(),this.options.disabled)!==-1;)t=i?t+1:t-1;return t},_focusNextTab:function(n,t){return n=this._findNextTab(n,t),this.tabs.eq(n).focus(),n},_setOption:function(n,t){if(n==="active"){this._activate(t);return}if(n==="disabled"){this._setupDisabled(t);return}this._super(n,t),n==="collapsible"&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),n==="event"&&this._setupEvents(t),n==="heightStyle"&&this._setupHeightStyle(t)},_tabId:function(n){return n.attr("aria-controls")||"ui-tabs-"+f()},_sanitizeSelector:function(n){return n?n.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=n.map(i.filter(".ui-state-disabled"),function(n){return i.index(n)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!n.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=n()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=n()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return n("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=n(),this.anchors.each(function(i,u){var e,f,s,h=n(u).uniqueId().attr("id"),o=n(u).closest("li"),c=o.attr("aria-controls");r(u)?(e=u.hash,f=t.element.find(t._sanitizeSelector(e))):(s=t._tabId(o),e="#"+s,f=t.element.find(e),f.length||(f=t._createPanel(s),f.insertAfter(t.panels[i-1]||t.tablist)),f.attr("aria-live","polite")),f.length&&(t.panels=t.panels.add(f)),c&&o.data("ui-tabs-aria-controls",c),o.attr({"aria-controls":e.substring(1),"aria-labelledby":h}),f.attr("aria-labelledby",h)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(t){return n("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){n.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i=0,r;r=this.tabs[i];i++)t===!0||n.inArray(i,t)!==-1?n(r).addClass("ui-state-disabled").attr("aria-disabled","true"):n(r).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={click:function(n){n.preventDefault()}};t&&n.each(t.split(" "),function(n,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,r=this.element.parent();t==="fill"?(i=r.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=n(this),r=t.css("position");r!=="absolute"&&r!=="fixed"&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=n(this).outerHeight(!0)}),this.panels.each(function(){n(this).height(Math.max(0,i-n(this).innerHeight()+n(this).height()))}).css("overflow","auto")):t==="auto"&&(i=0,this.panels.each(function(){i=Math.max(i,n(this).height("").height())}).height(i))},_eventHandler:function(t){var u=this.options,r=this.active,c=n(t.currentTarget),i=c.closest("li"),f=i[0]===r[0],e=f&&u.collapsible,o=e?n():this._getPanelForTab(i),s=r.length?this._getPanelForTab(r):n(),h={oldTab:r,oldPanel:s,newTab:e?n():i,newPanel:o};(t.preventDefault(),i.hasClass("ui-state-disabled")||i.hasClass("ui-tabs-loading")||this.running||f&&!u.collapsible||this._trigger("beforeActivate",t,h)===!1)||(u.active=e?!1:this.tabs.index(i),this.active=f?n():i,this.xhr&&this.xhr.abort(),s.length||o.length||n.error("jQuery UI Tabs: Mismatching fragment identifier."),o.length&&this.load(this.tabs.index(i),t),this._toggle(t,h))},_toggle:function(t,i){function e(){u.running=!1,u._trigger("activate",t,i)}function o(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),r.length&&u.options.show?u._show(r,u.options.show,e):(r.show(),e())}var u=this,r=i.newPanel,f=i.oldPanel;this.running=!0,f.length&&this.options.hide?this._hide(f,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),o()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),f.hide(),o()),f.attr({"aria-expanded":"false","aria-hidden":"true"}),i.oldTab.attr("aria-selected","false"),r.length&&f.length?i.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter(function(){return n(this).attr("tabIndex")===0}).attr("tabIndex",-1),r.attr({"aria-expanded":"true","aria-hidden":"false"}),i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(t){var r,i=this._findActive(t);i[0]!==this.active[0]&&(i.length||(i=this.active),r=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:r,currentTarget:r,preventDefault:n.noop}))},_findActive:function(t){return t===!1?n():this.tabs.eq(t)},_getIndex:function(n){return typeof n=="string"&&(n=this.anchors.index(this.anchors.filter("[href$='"+n+"']"))),n},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){n.data(this,"ui-tabs-destroy")?n(this).remove():n(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=n(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),this.options.heightStyle!=="content"&&this.panels.css("height","")},enable:function(i){var r=this.options.disabled;r!==!1&&(i===t?r=!1:(i=this._getIndex(i),r=n.isArray(r)?n.map(r,function(n){return n!==i?n:null}):n.map(this.tabs,function(n,t){return t!==i?t:null})),this._setupDisabled(r))},disable:function(i){var r=this.options.disabled;if(r!==!0){if(i===t)r=!0;else{if(i=this._getIndex(i),n.inArray(i,r)!==-1)return;r=n.isArray(r)?n.merge([i],r).sort():[i]}this._setupDisabled(r)}},load:function(t,i){t=this._getIndex(t);var f=this,u=this.tabs.eq(t),o=u.find(".ui-tabs-anchor"),e=this._getPanelForTab(u),s={tab:u,panel:e};r(o[0])||(this.xhr=n.ajax(this._ajaxSettings(o,i,s)),this.xhr&&this.xhr.statusText!=="canceled"&&(u.addClass("ui-tabs-loading"),e.attr("aria-busy","true"),this.xhr.success(function(n){setTimeout(function(){e.html(n),f._trigger("load",i,s)},1)}).complete(function(n,t){setTimeout(function(){t==="abort"&&f.panels.stop(!1,!0),u.removeClass("ui-tabs-loading"),e.removeAttr("aria-busy"),n===f.xhr&&delete f.xhr},1)})))},_ajaxSettings:function(t,i,r){var u=this;return{url:t.attr("href"),beforeSend:function(t,f){return u._trigger("beforeLoad",i,n.extend({jqXHR:t,ajaxSettings:f},r))}}},_getPanelForTab:function(t){var i=n(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})}(jQuery),function(n){function i(t,i){var r=(t.attr("aria-describedby")||"").split(/\s+/);r.push(i),t.data("ui-tooltip-id",i).attr("aria-describedby",n.trim(r.join(" ")))}function r(t){var u=t.data("ui-tooltip-id"),i=(t.attr("aria-describedby")||"").split(/\s+/),r=n.inArray(u,i);r!==-1&&i.splice(r,1),t.removeData("ui-tooltip-id"),i=n.trim(i.join(" ")),i?t.attr("aria-describedby",i):t.removeAttr("aria-describedby")}var t=0;n.widget("ui.tooltip",{version:"1.10.3",options:{content:function(){var t=n(this).attr("title")||"";return n("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(t,i){var r=this;if(t==="disabled"){this[i?"_disable":"_enable"](),this.options[t]=i;return}this._super(t,i),t==="content"&&n.each(this.tooltips,function(n,t){r._updateContent(t)})},_disable:function(){var t=this;n.each(this.tooltips,function(i,r){var u=n.Event("blur");u.target=u.currentTarget=r[0],t.close(u,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=n(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=n(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var r=this,i=n(t?t.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),t&&t.type==="mouseover"&&i.parents().each(function(){var t=n(this),i;t.data("ui-tooltip-open")&&(i=n.Event("blur"),i.target=i.currentTarget=this,r.close(i,!0)),t.attr("title")&&(t.uniqueId(),r.parents[this.id]={element:this,title:t.attr("title")},t.attr("title",""))}),this._updateContent(i,t))},_updateContent:function(n,t){var i,r=this.options.content,u=this,f=t?t.type:null;if(typeof r=="string")return this._open(t,n,r);i=r.call(n[0],function(i){n.data("ui-tooltip-open")&&u._delay(function(){t&&(t.type=f),this._open(t,n,i)})}),i&&this._open(t,n,i)},_open:function(t,r,u){function s(n){(o.of=n,f.is(":hidden"))||f.position(o)}var f,e,h,o=n.extend({},this.options.position);if(u){if(f=this._find(r),f.length){f.find(".ui-tooltip-content").html(u);return}r.is("[title]")&&(t&&t.type==="mouseover"?r.attr("title",""):r.removeAttr("title")),f=this._tooltip(r),i(r,f.attr("id")),f.find(".ui-tooltip-content").html(u),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:s}),s(t)):f.position(n.extend({of:r},this.options.position)),f.hide(),this._show(f,this.options.show),this.options.show&&this.options.show.delay&&(h=this.delayedShow=setInterval(function(){f.is(":visible")&&(s(o.of),clearInterval(h))},n.fx.interval)),this._trigger("open",t,{tooltip:f}),e={keyup:function(t){if(t.keyCode===n.ui.keyCode.ESCAPE){var i=n.Event(t);i.currentTarget=r[0],this.close(i,!0)}},remove:function(){this._removeTooltip(f)}},t&&t.type!=="mouseover"||(e.mouseleave="close"),t&&t.type!=="focusin"||(e.focusout="close"),this._on(!0,r,e)}},close:function(t){var f=this,i=n(t?t.currentTarget:this.element),u=this._find(i);this.closing||(clearInterval(this.delayedShow),i.data("ui-tooltip-title")&&i.attr("title",i.data("ui-tooltip-title")),r(i),u.stop(!0),this._hide(u,this.options.hide,function(){f._removeTooltip(n(this))}),i.removeData("ui-tooltip-open"),this._off(i,"mouseleave focusout keyup"),i[0]!==this.element[0]&&this._off(i,"remove"),this._off(this.document,"mousemove"),t&&t.type==="mouseleave"&&n.each(this.parents,function(t,i){n(i.element).attr("title",i.title),delete f.parents[t]}),this.closing=!0,this._trigger("close",t,{tooltip:u}),this.closing=!1)},_tooltip:function(i){var u="ui-tooltip-"+t++,r=n("<div>").attr({id:u,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return n("<div>").addClass("ui-tooltip-content").appendTo(r),r.appendTo(this.document[0].body),this.tooltips[u]=i,r},_find:function(t){var i=t.data("ui-tooltip-id");return i?n("#"+i):n()},_removeTooltip:function(n){n.remove(),delete this.tooltips[n.attr("id")]},_destroy:function(){var t=this;n.each(this.tooltips,function(i,r){var u=n.Event("blur");u.target=u.currentTarget=r[0],t.close(u,!0),n("#"+i).remove(),r.data("ui-tooltip-title")&&(r.attr("title",r.data("ui-tooltip-title")),r.removeData("ui-tooltip-title"))})}})}(jQuery),function(){var t,n;for(window.console||(window.console={}),t=["log","info","warn","error","debug","trace","dir","group","groupCollapsed","groupEnd","time","timeEnd","profile","profileEnd","dirxml","assert","count","markTimeline","timeStamp","clear"],n=0;n<t.length;n++)window.console[t[n]]||(window.console[t[n]]=function(){})}(),function(){var n=this.MINI={};n.version="0.0.0"}.call(this),!function(n,t){"use strict";var r,i,u,f,e;(n.uaMatch=function(n){n=n.toLowerCase();var t=/(opr)[\/]([\w.]+)/.exec(n)||/(chrome)[ \/]([\w.]+)/.exec(n)||/(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(n)||/(webkit)[ \/]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[],i=/(ipad)/.exec(n)||/(iphone)/.exec(n)||/(android)/.exec(n)||/(windows phone)/.exec(n)||/(win)/.exec(n)||/(mac)/.exec(n)||/(linux)/.exec(n)||[];return{browser:t[3]||t[1]||"",version:t[2]||"0",platform:i[0]||""}},r=n.uaMatch(t.navigator.userAgent),i={},r.browser&&(i[r.browser]=!0,i.version=r.version,i.versionNumber=parseInt(r.version)),r.platform&&(i[r.platform]=!0),(i.chrome||i.opr||i.safari)&&(i.webkit=!0),i.rv)&&(u="msie",r.browser=u,i[u]=!0),i.opr&&(f="opera",r.browser=f,i[f]=!0),i.safari&&i.android&&(e="android",r.browser=e,i[e]=!0),i.name=r.browser,i.platform=r.platform,n.browser=i}(jQuery,window),function(n){function i(){var n=location.href;return hashtag=n.indexOf("#prettyPhoto")!==-1?decodeURI(n.substring(n.indexOf("#prettyPhoto")+1,n.length)):!1}function r(){typeof theRel!="undefined"&&(location.hash=theRel+"/"+rel_index+"/")}function u(){location.href.indexOf("#prettyPhoto")!==-1&&(location.hash="prettyPhoto")}function t(n,t){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var r="[\\?&]"+n+"=([^&#]*)",u=new RegExp(r),i=u.exec(t);return i==null?"":i[1]}n.prettyPhoto={version:"3.1.5"},n.fn.prettyPhoto=function(f){function b(){n(".pp_loaderIcon").hide(),projectedTop=scroll_pos.scrollTop+(h/2-e.containerHeight/2),projectedTop<0&&(projectedTop=0),$ppt.fadeTo(settings.animation_speed,1),$pp_pic_holder.find(".pp_content").animate({height:e.contentHeight,width:e.contentWidth},settings.animation_speed),$pp_pic_holder.animate({top:projectedTop,left:s/2-e.containerWidth/2<0?0:s/2-e.containerWidth/2,width:e.containerWidth},settings.animation_speed,function(){$pp_pic_holder.find(".pp_hoverContainer,#fullResImage").height(e.height).width(e.width),$pp_pic_holder.find(".pp_fade").fadeIn(settings.animation_speed),isSet&&k(pp_images[set_position])=="image"?$pp_pic_holder.find(".pp_hoverContainer").show():$pp_pic_holder.find(".pp_hoverContainer").hide(),settings.allow_expand&&(e.resized?n("a.pp_expand,a.pp_contract").show():n("a.pp_expand").hide()),!settings.autoplay_slideshow||a||p||n.prettyPhoto.startSlideshow(),settings.changepicturecallback(),p=!0}),et(),f.ajaxcallback()}function nt(t){$pp_pic_holder.find("#pp_full_res object,#pp_full_res embed").css("visibility","hidden"),$pp_pic_holder.find(".pp_fade").fadeOut(settings.animation_speed,function(){n(".pp_loaderIcon").show(),t()})}function ut(t){t>1?n(".pp_nav").show():n(".pp_nav").hide()}function o(n,t){if(resized=!1,tt(n,t),imageWidth=n,imageHeight=t,(l>s||c>h)&&doresize&&settings.allow_resize&&!v){for(resized=!0,fitting=!1;!fitting;)l>s?(imageWidth=s-200,imageHeight=t/n*imageWidth):c>h?(imageHeight=h-200,imageWidth=n/t*imageHeight):fitting=!0,c=imageHeight,l=imageWidth;(l>s||c>h)&&o(l,c),tt(imageWidth,imageHeight)}return{width:Math.floor(imageWidth),height:Math.floor(imageHeight),containerHeight:Math.floor(c),containerWidth:Math.floor(l)+settings.horizontal_padding*2,contentHeight:Math.floor(w),contentWidth:Math.floor(g),resized:resized}}function tt(t,i){t=parseFloat(t),i=parseFloat(i),$pp_details=$pp_pic_holder.find(".pp_details"),$pp_details.width(t),detailsHeight=parseFloat($pp_details.css("marginTop"))+parseFloat($pp_details.css("marginBottom")),$pp_details=$pp_details.clone().addClass(settings.theme).width(t).appendTo(n("body")).css({position:"absolute",top:-1e4}),detailsHeight+=$pp_details.height(),detailsHeight=detailsHeight<=34?0:detailsHeight,$pp_details.remove(),$pp_title=$pp_pic_holder.find(".ppt"),$pp_title.width(t),titleHeight=parseFloat($pp_title.css("marginTop"))+parseFloat($pp_title.css("marginBottom")),$pp_title=$pp_title.clone().appendTo(n("body")).css({position:"absolute",top:-1e4}),titleHeight+=$pp_title.height(),$pp_title.remove(),w=i+detailsHeight,g=t,c=w+titleHeight+$pp_pic_holder.find(".pp_top").height()+$pp_pic_holder.find(".pp_bottom").height(),l=t}function k(n){return n.match(/youtube\.com\/watch/i)||n.match(/youtu\.be/i)?"youtube":n.match(/vimeo\.com/i)?"vimeo":n.match(/\b.mov\b/i)?"quicktime":n.match(/\b.swf\b/i)?"flash":n.match(/\biframe=true\b/i)?"iframe":n.match(/\bajax=true\b/i)?"ajax":n.match(/\bcustom=true\b/i)?"custom":n.substr(0,1)=="#"?"inline":"image"}function d(){if(doresize&&typeof $pp_pic_holder!="undefined"){if(scroll_pos=it(),contentHeight=$pp_pic_holder.height(),contentwidth=$pp_pic_holder.width(),projectedTop=h/2+scroll_pos.scrollTop-contentHeight/2,projectedTop<0&&(projectedTop=0),contentHeight>h)return;$pp_pic_holder.css({top:projectedTop,left:s/2+scroll_pos.scrollLeft-contentwidth/2})}}function it(){return self.pageYOffset?{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset}:document.documentElement&&document.documentElement.scrollTop?{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft}:document.body?{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft}:void 0}function ft(){h=n(window).height(),s=n(window).width(),typeof $pp_overlay!="undefined"&&$pp_overlay.height(n(document).height()).width(s)}function et(){isSet&&settings.overlay_gallery&&k(pp_images[set_position])=="image"?(itemWidth=57,navWidth=settings.theme=="facebook"||settings.theme=="pp_default"?50:30,itemsPerPage=Math.floor((e.containerWidth-100-navWidth)/itemWidth),itemsPerPage=itemsPerPage<pp_images.length?itemsPerPage:pp_images.length,totalPage=Math.ceil(pp_images.length/itemsPerPage)-1,totalPage==0?(navWidth=0,$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").hide()):$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").show(),galleryWidth=itemsPerPage*itemWidth,fullGalleryWidth=pp_images.length*itemWidth,$pp_gallery.css("margin-left",-(galleryWidth/2+navWidth/2)).find("div:first").width(galleryWidth+5).find("ul").width(fullGalleryWidth).find("li.selected").removeClass("selected"),goToPage=Math.floor(set_position/itemsPerPage)<totalPage?Math.floor(set_position/itemsPerPage):totalPage,n.prettyPhoto.changeGalleryPage(goToPage),$pp_gallery_li.filter(":eq("+set_position+")").addClass("selected")):$pp_pic_holder.find(".pp_content").unbind("mouseenter mouseleave")}function rt(){if(settings.social_tools&&(facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href))),settings.markup=settings.markup.replace("{pp_social}",""),n("body").append(settings.markup),$pp_pic_holder=n(".pp_pic_holder"),$ppt=n(".ppt"),$pp_overlay=n("div.pp_overlay"),isSet&&settings.overlay_gallery){currentGalleryPage=0,toInject="";for(var i=0;i<pp_images.length;i++)pp_images[i].match(/\b(jpg|jpeg|png|gif)\b/gi)?(classname="",img_src=pp_images[i]):(classname="default",img_src=""),toInject+="<li class='"+classname+"'><a href='#'><img src='"+img_src+"' width='50' alt='' /><\/a><\/li>";toInject=settings.gallery_markup.replace(/{gallery}/g,toInject),$pp_pic_holder.find("#pp_full_res").after(toInject),$pp_gallery=n(".pp_pic_holder .pp_gallery"),$pp_gallery_li=$pp_gallery.find("li"),$pp_gallery.find(".pp_arrow_next").click(function(){return n.prettyPhoto.changeGalleryPage("next"),n.prettyPhoto.stopSlideshow(),!1}),$pp_gallery.find(".pp_arrow_previous").click(function(){return n.prettyPhoto.changeGalleryPage("previous"),n.prettyPhoto.stopSlideshow(),!1}),$pp_pic_holder.find(".pp_content").hover(function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeIn()},function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeOut()}),itemWidth=57,$pp_gallery_li.each(function(t){n(this).find("a").click(function(){return n.prettyPhoto.changePage(t),n.prettyPhoto.stopSlideshow(),!1})})}settings.slideshow&&($pp_pic_holder.find(".pp_nav").prepend('<a href="#" class="pp_play">Play<\/a>'),$pp_pic_holder.find(".pp_nav .pp_play").click(function(){return n.prettyPhoto.startSlideshow(),!1})),$pp_pic_holder.attr("class","pp_pic_holder "+settings.theme),$pp_overlay.css({opacity:0,height:n(document).height(),width:n(window).width()}).bind("click",function(){settings.modal||n.prettyPhoto.close()}),n("a.pp_close").bind("click",function(){return n.prettyPhoto.close(),!1}),settings.allow_expand&&n("a.pp_expand").bind("click",function(){return n(this).hasClass("pp_expand")?(n(this).removeClass("pp_expand").addClass("pp_contract"),doresize=!1):(n(this).removeClass("pp_contract").addClass("pp_expand"),doresize=!0),nt(function(){n.prettyPhoto.open()}),!1}),$pp_pic_holder.find(".pp_previous, .pp_nav .pp_arrow_previous").bind("click",function(){return n.prettyPhoto.changePage("previous"),n.prettyPhoto.stopSlideshow(),!1}),$pp_pic_holder.find(".pp_next, .pp_nav .pp_arrow_next").bind("click",function(){return n.prettyPhoto.changePage("next"),n.prettyPhoto.stopSlideshow(),!1}),d()}f=jQuery.extend({hook:"rel",animation_speed:"fast",ajaxcallback:function(){},slideshow:5e3,autoplay_slideshow:!1,opacity:.8,show_title:!0,allow_resize:!0,allow_expand:!0,default_width:500,default_height:344,counter_separator_label:"/",theme:"pp_default",horizontal_padding:20,hideflash:!1,wmode:"opaque",autoplay:!0,modal:!1,deeplinking:!0,overlay_gallery:!0,overlay_gallery_max:30,keyboard_shortcuts:!0,changepicturecallback:function(){},callback:function(){},ie6_fallback:!0,markup:'<div class="pp_pic_holder"> \t\t\t\t\t\t<div class="ppt">&nbsp;<\/div> \t\t\t\t\t\t<div class="pp_top"> \t\t\t\t\t\t\t<div class="pp_left"><\/div> \t\t\t\t\t\t\t<div class="pp_middle"><\/div> \t\t\t\t\t\t\t<div class="pp_right"><\/div> \t\t\t\t\t\t<\/div> \t\t\t\t\t\t<div class="pp_content_container"> \t\t\t\t\t\t\t<div class="pp_left"> \t\t\t\t\t\t\t<div class="pp_right"> \t\t\t\t\t\t\t\t<div class="pp_content"> \t\t\t\t\t\t\t\t\t<div class="pp_loaderIcon"><\/div> \t\t\t\t\t\t\t\t\t<div class="pp_fade"> \t\t\t\t\t\t\t\t\t\t<a href="#" class="pp_expand" title="Expand the image">Expand<\/a> \t\t\t\t\t\t\t\t\t\t<div class="pp_hoverContainer"> \t\t\t\t\t\t\t\t\t\t\t<a class="pp_next" href="#">next<\/a> \t\t\t\t\t\t\t\t\t\t\t<a class="pp_previous" href="#">previous<\/a> \t\t\t\t\t\t\t\t\t\t<\/div> \t\t\t\t\t\t\t\t\t\t<div id="pp_full_res"><\/div> \t\t\t\t\t\t\t\t\t\t<div class="pp_details"> \t\t\t\t\t\t\t\t\t\t\t<div class="pp_nav"> \t\t\t\t\t\t\t\t\t\t\t\t<a href="#" class="pp_arrow_previous">Previous<\/a> \t\t\t\t\t\t\t\t\t\t\t\t<p class="currentTextHolder">0/0<\/p> \t\t\t\t\t\t\t\t\t\t\t\t<a href="#" class="pp_arrow_next">Next<\/a> \t\t\t\t\t\t\t\t\t\t\t<\/div> \t\t\t\t\t\t\t\t\t\t\t<p class="pp_description"><\/p> \t\t\t\t\t\t\t\t\t\t\t<div class="pp_social">{pp_social}<\/div> \t\t\t\t\t\t\t\t\t\t\t<a class="pp_close" href="#">Close<\/a> \t\t\t\t\t\t\t\t\t\t<\/div> \t\t\t\t\t\t\t\t\t<\/div> \t\t\t\t\t\t\t\t<\/div> \t\t\t\t\t\t\t<\/div> \t\t\t\t\t\t\t<\/div> \t\t\t\t\t\t<\/div> \t\t\t\t\t\t<div class="pp_bottom"> \t\t\t\t\t\t\t<div class="pp_left"><\/div> \t\t\t\t\t\t\t<div class="pp_middle"><\/div> \t\t\t\t\t\t\t<div class="pp_right"><\/div> \t\t\t\t\t\t<\/div> \t\t\t\t\t<\/div> \t\t\t\t\t<div class="pp_overlay"><\/div>',gallery_markup:'<div class="pp_gallery"> \t\t\t\t\t\t\t\t<a href="#" class="pp_arrow_previous">Previous<\/a> \t\t\t\t\t\t\t\t<div> \t\t\t\t\t\t\t\t\t<ul> \t\t\t\t\t\t\t\t\t\t{gallery} \t\t\t\t\t\t\t\t\t<\/ul> \t\t\t\t\t\t\t\t<\/div> \t\t\t\t\t\t\t\t<a href="#" class="pp_arrow_next">Next<\/a> \t\t\t\t\t\t\t<\/div>',image_markup:'<img id="fullResImage" src="{path}" />',flash_markup:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="{width}" height="{height}"><param name="wmode" value="{wmode}" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{path}" /><embed src="{path}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="{width}" height="{height}" wmode="{wmode}"><\/embed><\/object>',quicktime_markup:'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab" height="{height}" width="{width}"><param name="src" value="{path}"><param name="autoplay" value="{autoplay}"><param name="type" value="video/quicktime"><embed src="{path}" height="{height}" width="{width}" autoplay="{autoplay}" type="video/quicktime" pluginspage="http://www.apple.com/quicktime/download/"><\/embed><\/object>',iframe_markup:'<iframe src ="{path}" width="{width}" height="{height}" frameborder="no"><\/iframe>',inline_markup:'<div class="pp_inline">{content}<\/div>',custom_markup:"",social_tools:'<div class="twitter"><a href="http://twitter.com/share" class="twitter-share-button" data-count="none">Tweet<\/a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"><\/script><\/div><div class="facebook"><iframe src="//www.facebook.com/plugins/like.php?locale=en_US&href={location_href}&amp;layout=button_count&amp;show_faces=true&amp;width=500&amp;action=like&amp;font&amp;colorscheme=light&amp;height=23" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:500px; height:23px;" allowTransparency="true"><\/iframe><\/div>'},f);var y=this,v=!1,e,p,w,g,c,l,h=n(window).height(),s=n(window).width(),a;return doresize=!0,scroll_pos=it(),n(window).unbind("resize.prettyphoto").bind("resize.prettyphoto",function(){d(),ft()}),f.keyboard_shortcuts&&n(document).unbind("keydown.prettyphoto").bind("keydown.prettyphoto",function(t){if(typeof $pp_pic_holder!="undefined"&&$pp_pic_holder.is(":visible"))switch(t.keyCode){case 37:n.prettyPhoto.changePage("previous"),t.preventDefault();break;case 39:n.prettyPhoto.changePage("next"),t.preventDefault();break;case 27:settings.modal||n.prettyPhoto.close(),t.preventDefault()}}),n.prettyPhoto.initialize=function(){return settings=f,settings.theme=="pp_default"&&(settings.horizontal_padding=16),theRel=n(this).attr(settings.hook),galleryRegExp=/\[(?:.*)\]/,isSet=galleryRegExp.exec(theRel)?!0:!1,pp_images=isSet?jQuery.map(y,function(t){if(n(t).attr(settings.hook).indexOf(theRel)!=-1)return n(t).attr("href")}):n.makeArray(n(this).attr("href")),pp_titles=isSet?jQuery.map(y,function(t){if(n(t).attr(settings.hook).indexOf(theRel)!=-1)return n(t).find("img").attr("alt")?n(t).find("img").attr("alt"):""}):n.makeArray(n(this).find("img").attr("alt")),pp_descriptions=isSet?jQuery.map(y,function(t){if(n(t).attr(settings.hook).indexOf(theRel)!=-1)return n(t).attr("title")?n(t).attr("title"):""}):n.makeArray(n(this).attr("title")),pp_images.length>settings.overlay_gallery_max&&(settings.overlay_gallery=!1),set_position=jQuery.inArray(n(this).attr("href"),pp_images),rel_index=isSet?set_position:n("a["+settings.hook+"^='"+theRel+"']").index(n(this)),rt(this),settings.allow_resize&&n(window).bind("scroll.prettyphoto",function(){d()}),n.prettyPhoto.open(),!1},n.prettyPhoto.open=function(i){return typeof settings=="undefined"&&(settings=f,pp_images=n.makeArray(arguments[0]),pp_titles=arguments[1]?n.makeArray(arguments[1]):n.makeArray(""),pp_descriptions=arguments[2]?n.makeArray(arguments[2]):n.makeArray(""),isSet=pp_images.length>1?!0:!1,set_position=arguments[3]?arguments[3]:0,rt(i.target)),settings.hideflash&&n("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","hidden"),ut(n(pp_images).size()),n(".pp_loaderIcon").show(),settings.deeplinking&&r(),settings.social_tools&&(facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href)),$pp_pic_holder.find(".pp_social").html(facebook_like_link)),$ppt.is(":hidden")&&$ppt.css("opacity",0).show(),$pp_overlay.show().fadeTo(settings.animation_speed,settings.opacity),$pp_pic_holder.find(".currentTextHolder").text(set_position+1+settings.counter_separator_label+n(pp_images).size()),typeof pp_descriptions[set_position]!="undefined"&&pp_descriptions[set_position]!=""?$pp_pic_holder.find(".pp_description").show().html(unescape(pp_descriptions[set_position])):$pp_pic_holder.find(".pp_description").hide(),movie_width=parseFloat(t("width",pp_images[set_position]))?t("width",pp_images[set_position]):settings.default_width.toString(),movie_height=parseFloat(t("height",pp_images[set_position]))?t("height",pp_images[set_position]):settings.default_height.toString(),v=!1,movie_height.indexOf("%")!=-1&&(movie_height=parseFloat(n(window).height()*parseFloat(movie_height)/100-150),v=!0),movie_width.indexOf("%")!=-1&&(movie_width=parseFloat(n(window).width()*parseFloat(movie_width)/100-150),v=!0),$pp_pic_holder.fadeIn(function(){settings.show_title&&pp_titles[set_position]!=""&&typeof pp_titles[set_position]!="undefined"?$ppt.html(unescape(pp_titles[set_position])):$ppt.html("&nbsp;"),imgPreloader="",skipInjection=!1;switch(k(pp_images[set_position])){case"image":imgPreloader=new Image,nextImage=new Image,isSet&&set_position<n(pp_images).size()-1&&(nextImage.src=pp_images[set_position+1]),prevImage=new Image,isSet&&pp_images[set_position-1]&&(prevImage.src=pp_images[set_position-1]),$pp_pic_holder.find("#pp_full_res")[0].innerHTML=settings.image_markup.replace(/{path}/g,pp_images[set_position]),imgPreloader.onload=function(){e=o(imgPreloader.width,imgPreloader.height),b()},imgPreloader.onerror=function(){alert("Image cannot be loaded. Make sure the path is correct and image exist."),n.prettyPhoto.close()},imgPreloader.src=pp_images[set_position];break;case"youtube":e=o(movie_width,movie_height),movie_id=t("v",pp_images[set_position]),movie_id==""&&(movie_id=pp_images[set_position].split("youtu.be/"),movie_id=movie_id[1],movie_id.indexOf("?")>0&&(movie_id=movie_id.substr(0,movie_id.indexOf("?"))),movie_id.indexOf("&")>0&&(movie_id=movie_id.substr(0,movie_id.indexOf("&")))),movie="http://www.youtube.com/embed/"+movie_id,movie+=t("rel",pp_images[set_position])?"?rel="+t("rel",pp_images[set_position]):"?rel=1",settings.autoplay&&(movie+="&autoplay=1"),toInject=settings.iframe_markup.replace(/{width}/g,e.width).replace(/{height}/g,e.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,movie);break;case"vimeo":e=o(movie_width,movie_height),movie_id=pp_images[set_position];var i=/http(s?):\/\/(www\.)?vimeo.com\/(\d+)/,r=movie_id.match(i);movie="http://player.vimeo.com/video/"+r[3]+"?title=0&amp;byline=0&amp;portrait=0",settings.autoplay&&(movie+="&autoplay=1;"),vimeo_width=e.width+"/embed/?moog_width="+e.width,toInject=settings.iframe_markup.replace(/{width}/g,vimeo_width).replace(/{height}/g,e.height).replace(/{path}/g,movie);break;case"quicktime":e=o(movie_width,movie_height),e.height+=15,e.contentHeight+=15,e.containerHeight+=15,toInject=settings.quicktime_markup.replace(/{width}/g,e.width).replace(/{height}/g,e.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,pp_images[set_position]).replace(/{autoplay}/g,settings.autoplay);break;case"flash":e=o(movie_width,movie_height),flash_vars=pp_images[set_position],flash_vars=flash_vars.substring(pp_images[set_position].indexOf("flashvars")+10,pp_images[set_position].length),filename=pp_images[set_position],filename=filename.substring(0,filename.indexOf("?")),toInject=settings.flash_markup.replace(/{width}/g,e.width).replace(/{height}/g,e.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,filename+"?"+flash_vars);break;case"iframe":e=o(movie_width,movie_height),frame_url=pp_images[set_position],frame_url=frame_url.substr(0,frame_url.indexOf("iframe")-1),toInject=settings.iframe_markup.replace(/{width}/g,e.width).replace(/{height}/g,e.height).replace(/{path}/g,frame_url);break;case"ajax":doresize=!1,e=o(movie_width,movie_height),doresize=!0,skipInjection=!0,n.get(pp_images[set_position],function(n){toInject=settings.inline_markup.replace(/{content}/g,n),$pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject,b()});break;case"custom":e=o(movie_width,movie_height),toInject=settings.custom_markup;break;case"inline":myClone=n(pp_images[set_position]).clone().append('<br clear="all" />').css({width:settings.default_width}).wrapInner('<div id="pp_full_res"><div class="pp_inline"><\/div><\/div>').appendTo(n("body")).show(),doresize=!1,e=o(n(myClone).width(),n(myClone).height()),doresize=!0,n(myClone).remove(),toInject=settings.inline_markup.replace(/{content}/g,n(pp_images[set_position]).html())}imgPreloader||skipInjection||($pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject,b())}),!1},n.prettyPhoto.changePage=function(t){currentGalleryPage=0,t=="previous"?(set_position--,set_position<0&&(set_position=n(pp_images).size()-1)):t=="next"?(set_position++,set_position>n(pp_images).size()-1&&(set_position=0)):set_position=t,rel_index=set_position,doresize||(doresize=!0),settings.allow_expand&&n(".pp_contract").removeClass("pp_contract").addClass("pp_expand"),nt(function(){n.prettyPhoto.open()})},n.prettyPhoto.changeGalleryPage=function(n){n=="next"?(currentGalleryPage++,currentGalleryPage>totalPage&&(currentGalleryPage=0)):n=="previous"?(currentGalleryPage--,currentGalleryPage<0&&(currentGalleryPage=totalPage)):currentGalleryPage=n,slide_speed=n=="next"||n=="previous"?settings.animation_speed:0,slide_to=currentGalleryPage*itemsPerPage*itemWidth,$pp_gallery.find("ul").animate({left:-slide_to},slide_speed)},n.prettyPhoto.startSlideshow=function(){typeof a=="undefined"?($pp_pic_holder.find(".pp_play").unbind("click").removeClass("pp_play").addClass("pp_pause").click(function(){return n.prettyPhoto.stopSlideshow(),!1}),a=setInterval(n.prettyPhoto.startSlideshow,settings.slideshow)):n.prettyPhoto.changePage("next")},n.prettyPhoto.stopSlideshow=function(){$pp_pic_holder.find(".pp_pause").unbind("click").removeClass("pp_pause").addClass("pp_play").click(function(){return n.prettyPhoto.startSlideshow(),!1}),clearInterval(a),a=undefined},n.prettyPhoto.close=function(){$pp_overlay.is(":animated")||(n.prettyPhoto.stopSlideshow(),$pp_pic_holder.stop().find("object,embed").css("visibility","hidden"),n("div.pp_pic_holder,div.ppt,.pp_fade").fadeOut(settings.animation_speed,function(){n(this).remove()}),$pp_overlay.fadeOut(settings.animation_speed,function(){settings.hideflash&&n("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","visible"),n(this).remove(),n(window).unbind("scroll.prettyphoto"),u(),settings.callback(),doresize=!0,p=!1,delete settings}))},!pp_alreadyInitialized&&i()&&(pp_alreadyInitialized=!0,hashIndex=i(),hashRel=hashIndex,hashIndex=hashIndex.substring(hashIndex.indexOf("/")+1,hashIndex.length-1),hashRel=hashRel.substring(0,hashRel.indexOf("/")),setTimeout(function(){n("a["+f.hook+"^='"+hashRel+"']:eq("+hashIndex+")").trigger("click")},50)),this.unbind("click.prettyphoto").bind("click.prettyphoto",n.prettyPhoto.initialize)}}(jQuery),pp_alreadyInitialized=!1,+function(n){var t=function(t,i){this.options=i,this.$element=n(t)},r;t.prototype.toggle=function(){this.$element.hasClass("open")?u(this.$elemeng):f(this.$element)},r=n.fn.MainNavigation,n.fn.mainnavigation=function(i){return this.each(function(){var r=n(this),u=r.data("bs.MainNavigation"),f=n.extend({},r.data(),typeof i=="object"&&i);u||r.data("bs.MainNavigation",u=new t(this,f)),typeof i=="string"&&u[i]()})},n.fn.mainnavigation.Constructor=t,n.fn.mainnavigation.noConflict=function(){return n.fn.mainnavigation=r,this};var i=function(t){n(document).find(".open").each(function(){t||(n(this).hide(),n(this).removeClass("open")),"#"+n(this).attr("id")!==t&&(n(this).hide(),n(this).removeClass("open"))})},u=function(n){n.removeClass("open"),n.hide()},f=function(n){n.addClass("open"),n.show()},e=window.hideTimer;n(document).on("mouseover.bs.MainNavigation.data-api","[data-mainnavigation=toggle]",function(){var r=n(this).attr("data-target");i(),n(r).mainnavigation("toggle")});n(document).on("mouseout.bs.MainNavigation.data-api","[data-mainnavigation=toggle]",function(){var r=n(this).attr("data-target");window.hideTimer=setTimeout(i,2e4);n(r).on("mouseenter",function(){clearTimeout(window.hideTimer);n(r).on("mouseleave",function(){i()})})})}(window.jQuery),function(n){n.ns||(n.ns={}),n.ns.cprogress=function(t,i){var r=this;r.$el=n(t),r.el=t,r.$el.data("ns.cprogress",r),r.options=n.extend({},n.ns.cprogress.defaultOptions,i),r.methods={init:function(){r.img1=new Image,r.img1.src=r.options.img1,r.img2=new Image,r.img2.src=r.options.img2,r.width=r.img1.width,r.height=r.img1.height,r.$progress=n("<div />").addClass("jCProgress"),mt=parseInt(r.$progress.css("marginTop").replace("ems","")),ml=parseInt(r.$progress.css("marginLeft").replace("ems","")),r.$progress.css("marginLeft",(r.$el.width()-r.width)/2+ml).css("marginTop",(r.$el.height()-r.height)/2+mt).css("opacity","0.0"),r.$percent=n("<div />").addClass("percent"),r.$ctx=n("<canvas />"),r.$ctx.attr("width",r.width),r.$ctx.attr("height",r.height),r.$el.prepend(r.$progress),r.$progress.append(r.$percent),r.$progress.append(r.$ctx),r.$progress.animate({opacity:1},500,function(){}),r.ctx=r.$ctx[0].getContext("2d"),r.ctx.fillStyle="rgba(0,0,0,0.0)",r.options.percent=r.options.percent%100,r.i=r.options.percent*Math.PI*2/100,r.j=0,r.stop=0,r.options.onInit(),r.methods.draw()},reloadImages:function(){r.img1=new Image,r.img1.src=r.options.img1,r.img2=new Image,r.img2.src=r.options.img2,r.width=r.img1.width,r.height=r.img1.height,r.$progress.css("marginLeft",(r.$el.width()-r.width)/2+ml).css("marginTop",(r.$el.height()-r.height)/2+mt),r.$ctx.attr("width",r.width),r.$ctx.attr("height",r.height),r.ctx=r.$ctx[0].getContext("2d"),r.ctx.fillStyle="rgba(0,0,0,0.0)"},coreDraw:function(){r.ctx.clearRect(0,0,r.width,r.height),r.ctx.save(),r.ctx.drawImage(r.img1,0,0),r.ctx.beginPath(),r.ctx.lineWidth=5,r.ctx.arc(r.width/2,r.height/2,r.height/2,r.i-Math.PI/2,r.j-Math.PI/2,!0),r.ctx.lineTo(r.width/2,r.height/2),r.ctx.closePath(),r.ctx.fill(),r.ctx.clip(),r.ctx.drawImage(r.img2,0,0),r.ctx.restore()},draw:function(){if(r&&((r.width==0||r.height==0)&&r.methods.reloadImages(),r.options.showPercent==!1?r.$percent.hide():r.$percent.show(),r.stop!=1&&r.options.percent-1<=r.options.limit)){if(r.options.loop==!0&&(r.options.limit=121),r.options.percent>=100&&r.options.percent<=r.options.limit&&(r.i=0,r.options.limit=r.options.limit-100),r.methods.coreDraw(),r.i=r.i+r.options.PIStep,r.options.percent=r.i*100/(Math.PI*2),r.options.percent<=r.options.limit){setTimeout(r.methods.draw,r.options.speed),r.$percent.html(r.options.percent.toFixed(0));r.options.onProgress(r.options.percent.toFixed(0))}else{r.$percent.html(r.options.limit),r.methods.coreDraw();r.options.onProgress(r.options.limit);r.options.onComplete(r.options.limit)}r.options.percent++}},destroy:function(){r.$progress.animate({opacity:0},500,function(){r.$progress.remove(),r.stop=1,r=null})}},r.public_methods={start:function(){r.stop=0,r.methods.draw()},stop:function(){r.stop=1},reset:function(){r.options.percent=0,r.i=0,r.methods.draw()},destroy:function(){r.methods.destroy()},options:function(t){return r.options=n.extend({},r.options,t),(t.img1||t.img2||t.img3)&&(r.methods.reloadImages(),r.methods.coreDraw()),r.methods.draw(),r.options}},r.methods.init()},n.ns.cprogress.defaultOptions={percent:0,img1:"v1.png",img2:"v2.png",speed:50,limit:48,loop:!1,showPercent:!0,PIStep:.05,onInit:function(){},onProgress:function(){},onComplete:function(){}},n.fn.cprogress=function(t){var i=new n.ns.cprogress(this,t);return i.public_methods}}(jQuery),function(n){var t="loadImages";n.loadImages={hasImageProperties:["backgroundImage","listStyleImage","borderImage","borderCornerImage"]},n.expr[":"].uncached=function(t){if(!n(t).is('img[src!=""]'))return!1;var i=new Image;return i.src=t.src,!i.complete},n.fn.loadImages=function(i,r,u){var f=0,e=0;if(n.isPlainObject(arguments[0])&&(u=arguments[0].waitForAll,r=arguments[0].each,i=arguments[0].finished),i=i||n.noop,r=r||n.noop,u=!!u,!n.isFunction(i)||!n.isFunction(r))throw new TypeError("An invalid callback was supplied.");return this.each(function(){var s=n(this),o=[],h=n.loadImages.hasImageProperties||[],c=/url\(\s*(['"]?)(.*?)\1\s*\)/g;u?s.find("*").andSelf().each(function(){var t=n(this);t.is("img:uncached")&&o.push({src:t.attr("src"),element:t[0]}),n.each(h,function(n,i){var r=t.css(i),u;if(!r)return!0;while(u=c.exec(r))o.push({src:u[2],element:t[0]})})}):s.find("img:uncached").each(function(){o.push({src:this.src,element:this})}),f=o.length,e=0,f===0&&i.call(s[0]),n.each(o,function(u,o){var h=new Image;n(h).bind("load."+t+" error."+t,function(n){return e++,r.call(o.element,e,f,n.type=="load"),e==f?(i.call(s[0]),!1):void 0}),h.src=o.src})})}}(jQuery),function(n,t){var f=t.Animate=t.Animate||function(){var t=function(t,i){var r="#"+t;n("html, body").animate({scrollTop:n(r).offset().top-i},1e3)};return{toContainer:t}}();return{Animate:f}}(jQuery,window._mini=window._mini||{},window,document),function(){var n=MINI.URLWatcher=function(n){n||(n={}),this.initialize.apply(this,arguments)};_.extend(n.prototype,{initialize:function(){this.watchUrls()},watchUrls:function(){var n={keyboard:!1,backdrop:"static"},t,i,r;switch(window.location.hash){case"#BookATestDrive":t=$('a[href="#TestDrive"]:first'),t!==null?(console.log("triggering click"),t.trigger("click")):$("#TestDrive").modal(n);break;case"#BuildAndPrice":i=$("#Configurator"),r=$("#Configurator .modal-body #configFrame"),i.on("show.bs.modal",function(){r.attr("src","http://www.buildmymini.ca")}).modal(n);break;case"#StayInTheLoop":$("#Subscribe").modal(n)}}})}.call(this),function(){var n=MINI.FloatingNav=function(t){t||(t={}),_.defaults(t,n.defaultOpts),this.initialize.apply(this,arguments)},t,i;n.defaultOpts={},_.extend(n.prototype,{initialize:function(t){var i,r;n.options=t,i=this;$(n.options.navEl+" li a").on("click",this.handleNavEvents);$(".back-to-top").on("click",function(){$("html, body").animate({scrollTop:0},1e3)});$("#float-nav-top").on("click",function(){$("html, body").animate({scrollTop:0},1e3)});r=n.options.containers.split(","),i.handleNavScroll(n.options.navEl,r);$(window).on("scroll",function(){var t=n.options.containers.split(",");i.handleNavScroll(n.options.navEl,t)});return this},handleNavScroll:function(n,i){var f=$(window).scrollTop(),r=$(n),u=$("#header");u.css({"z-index":"999999"}),r.css({"z-index":"999998"}),r.show(),$(r).stop().animate({top:60},300),$(".back-to-top").show(),t(n,i)},handleNavEvents:function(n){var t=$(this).attr("href");t.substr(0,1)=="#"&&(n.preventDefault(),_mini.Animate.toContainer($(this).attr("href").slice(1),103))}}),t=function(n,t){for(var u=0,r=0;r<t.length;r++)i(t[r])&&(u++,u==1&&$(n+" ul li a").each(function(){$(this).attr("href")===t[r]?$(this).addClass("selected"):$(this).removeClass("selected")}))},i=function(n){var t=$(window).scrollTop(),r=t+$(window).height(),i=$(n).offset().top;return i<=r&&i>=t}}.call(this),function(){var n=MINI.ContentNav=function(t){t||(t={}),_.defaults(t,n.defaultOpts),this.initialize.apply(this,arguments)};n.defaultOpts={targetOffset:"62",containerEl:"#content-nav"},_.extend(n.prototype,{initialize:function(u){_.extend(n.defaultOpts,u),console.log(u);$(n.defaultOpts.containerEl+" ul li a").on("click",t);$(n.defaultOpts.containerEl+" li a").on("mouseover",function(){var t=$(this).parent().find(".downward-arrow");$(t).stop(!0,!0).animate({top:-10},200)});$(n.defaultOpts.containerEl+" li a").on("mouseleave",function(){var t=$(".downward-arrow");$(t).stop(!0,!0).animate({top:-35},200)});return i(".content-intro")&&r(),this}});var t=function(t){t.preventDefault(),console.log("he"),_mini.Animate.toContainer($(this).attr("href").slice(1),n.defaultOpts.targetOffset)},i=function(n){var t=$(window).scrollTop(),r=t+$(window).height(),i=$(n).offset().top+300;return i<=r&&i>=t},r=function(){var n=0;$(".downward-arrow").each(function(){n++;var t=n*200,i=$(this);setTimeout(function(){$(i).stop(!0,!0).animate({top:0},{duration:420,complete:function(){$(this).stop(!0,!0).animate({top:-35})}})},t)})}}.call(this),function(){var n=MINI.InPageNav=function(t){t||(t={}),_.defaults(t,n.defaultOpts),this.initialize.apply(this,arguments)},t;n.defaultOpts={targetOffset:"102"},_.extend(n.prototype,{initialize:function(i){_.extend(n.defaultOpts,i);$("#inpage-nav a").on("click",t);return this}}),t=function(t){t.preventDefault(),console.log($(this).attr("href")),_mini.Animate.toContainer($(this).attr("href").slice(1),n.defaultOpts.targetOffset)}}.call(this),function(){var n=MINI.ConfigLauncher=function(n){n||(n={}),this.initialize.apply(this,arguments)};_.extend(n.prototype,{initialize:function(){this.handleEvents()},handleEvents:function(){$(".build-trigger").click(function(n){return n.preventDefault(),console.log("opening from here"),window.open(n.currentTarget.href),!1})}})}.call(this),function(){var n=MINI.CCRCLauncher=function(n){n||(n={}),this.initialize.apply(this,arguments)};_.extend(n.prototype,{initialize:function(){this.handleEvents()},handleEvents:function(){$(".ccrc-trigger").click(function(n){var t=$("#CCRCModal"),i=$("#CCRCModal .modal-body #ccrcFrame");console.log(t,i),t.on("show.bs.modal",function(){i.attr("src",n.currentTarget.href)}).modal({backdrop:"static",keyboard:!1}),n.preventDefault()})}})}.call(this),function(){var n=MINI.FollowWindow=function(n){n||(n={}),this.initialize.apply(this,arguments)};_.extend(n.prototype,{initialize:function(){this.handleEvents()},handleEvents:function(){$("#follow-trigger").on("click",function(n){return n.preventDefault(),!1});$("#follow-trigger").on("mouseover",function(){$("#follow-container").show()});$("#main-share").on("mouseleave",function(){$("#follow-container").hide()})}})}.call(this),function(n){function i(i,f){if(this.element=i,this.options=n.extend({},r,f),n(this.element).data("max-height",this.options.maxHeight),delete this.options.maxHeight,this.options.embedCSS&&!u){var o=".readmore-js-toggle, .readmore-js-section { "+this.options.sectionCSS+" } .readmore-js-section { overflow: hidden; }",e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText=o:e.appendChild(document.createTextNode(o)),document.getElementsByTagName("head")[0].appendChild(e),u=!0}this._defaults=r,this._name=t,this.init()}var t="readmore",r={speed:100,maxHeight:200,moreLink:'<a href="#">Read More<\/a>',lessLink:'<a href="#">Close<\/a>',embedCSS:!0,sectionCSS:"display: block; width: 100%;",beforeToggle:function(){},afterToggle:function(){}},u=!1;i.prototype={init:function(){var t=this;n(this.element).each(function(){var i=n(this),r=i.css("max-height").replace(/[^-\d\.]/g,"")>i.data("max-height")?i.css("max-height").replace(/[^-\d\.]/g,""):i.data("max-height");if(i.addClass("readmore-js-section"),"none"!=i.css("max-height")&&i.css("max-height","none"),i.data("boxHeight",i.outerHeight(!0)),i.outerHeight(!0)<r)return!0;i.after(n(t.options.moreLink).on("click",function(n){t.toggleSlider(this,i,n)}).addClass("readmore-js-toggle")),i.data("sliderHeight",r),i.css({height:r})})},toggleSlider:function(t,i,r){r.preventDefault();var u=this,f=newLink="";r=!1,f=n(i).data("sliderHeight"),n(i).height()==f?(f=n(i).data().boxHeight+"px",newLink="lessLink",r=!0):newLink="moreLink",u.options.beforeToggle(t,i,r),n(i).animate({height:f},{duration:u.options.speed}),n(t).replaceWith(n(u.options[newLink]).on("click",function(n){u.toggleSlider(this,i,n)}).addClass("readmore-js-toggle")),u.options.afterToggle(t,i,r)}},n.fn[t]=function(r){var u=arguments;return void 0===r||"object"==typeof r?this.each(function(){n.data(this,"plugin_"+t)||n.data(this,"plugin_"+t,new i(this,r))}):"string"==typeof r&&"_"!==r[0]&&"init"!==r?this.each(function(){var f=n.data(this,"plugin_"+t);f instanceof i&&"function"==typeof f[r]&&f[r].apply(f,Array.prototype.slice.call(u,1))}):void 0}}(jQuery),function(){var p,u,w,b,k,d,g,nt,tt,it,rt,f,n,ut,ft,e,et,t,o,ot,i,s,h,c,r,l,a,st,v,y,ht,ct,lt=[].slice;et='<span class="odometer-value"><\/span>',ut='<span class="odometer-ribbon"><span class="odometer-ribbon-inner">'+et+"<\/span><\/span>",b='<span class="odometer-digit"><span class="odometer-digit-spacer">8<\/span><span class="odometer-digit-inner">'+ut+"<\/span><\/span>",g='<span class="odometer-formatting-mark"><\/span>',w="(,ddd).dd",nt=/^\(?([^)]*)\)?(?:(.)(d+))?$/,tt=30,d=2e3,p=20,it=2,k=.5,rt=1e3/tt,u=1e3/p,ft="transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",r=document.createElement("div").style,e=r.transition!=null||r.webkitTransition!=null||r.mozTransition!=null||r.oTransition!=null,h=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,f=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,o=function(n){var t;return t=document.createElement("div"),t.innerHTML=n,t.children[0]},s=function(n,t){return n.className=n.className.replace(new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi")," ")},t=function(n,t){return s(n,t),n.className+=" "+t},l=function(n,t){var i;if(document.createEvent!=null)return i=document.createEvent("HTMLEvents"),i.initEvent(t,!0,!0),n.dispatchEvent(i)},i=function(){var t,n;return(t=(n=window.performance)!=null?typeof n.now=="function"?n.now():void 0:void 0)!=null?t:+new Date},c=function(n,t){return(t==null&&(t=0),!t)?Math.round(n):(n*=Math.pow(10,t),n+=.5,n=Math.floor(n),n/=Math.pow(10,t))},a=function(n){return n<0?Math.ceil(n):Math.floor(n)},ot=function(n){return n-c(n)},v=!1,(st=function(){var r,n,u,t,i;if(!v&&window.jQuery!=null){for(v=!0,t=["html","text"],i=[],n=0,u=t.length;n<u;n++)r=t[n],i.push(function(n){var t;return t=window.jQuery.fn[n],window.jQuery.fn[n]=function(n){var i;return n==null||((i=this[0])!=null?i.odometer:void 0)==null?t.apply(this,arguments):this[0].odometer.update(n)}}(r));return i}})(),setTimeout(st,0),n=function(){function n(t){var a,r,f,s,h,u,c,e,l,o,i=this;if(this.options=t,this.el=this.options.el,this.el.odometer!=null)return this.el.odometer;this.el.odometer=this,e=n.options;for(r in e)s=e[r],this.options[r]==null&&(this.options[r]=s);(h=this.options).duration==null&&(h.duration=d),this.MAX_VALUES=this.options.duration/rt/it|0,this.resetFormat(),this.value=this.cleanValue((l=this.options.value)!=null?l:""),this.renderInside(),this.render();try{for(o=["innerHTML","innerText","textContent"],u=0,c=o.length;u<c;u++)f=o[u],this.el[f]!=null&&function(n){return Object.defineProperty(i.el,n,{get:function(){var t;return n==="innerHTML"?i.inside.outerHTML:(t=i.inside.innerText)!=null?t:i.inside.textContent},set:function(n){return i.update(n)}})}(f)}catch(v){a=v,this.watchForMutations()}this}return n.prototype.renderInside=function(){return this.inside=document.createElement("div"),this.inside.className="odometer-inside",this.el.innerHTML="",this.el.appendChild(this.inside)},n.prototype.watchForMutations=function(){var t,n=this;if(f!=null)try{return this.observer==null&&(this.observer=new f(function(){var i;return i=n.el.innerText,n.renderInside(),n.render(n.value),n.update(i)})),this.watchMutations=!0,this.startWatchingMutations()}catch(i){t=i}},n.prototype.startWatchingMutations=function(){if(this.watchMutations)return this.observer.observe(this.el,{childList:!0})},n.prototype.stopWatchingMutations=function(){var n;if((n=this.observer)!=null)return n.disconnect()},n.prototype.cleanValue=function(n){var t;return typeof n=="string"&&(n=n.replace((t=this.format.radix)!=null?t:".","<radix>"),n=n.replace(/[.,]/g,""),n=n.replace("<radix>","."),n=parseFloat(n,10)||0),c(n,this.format.precision)},n.prototype.bindTransitionEnd=function(){var u,n,t,f,i,r,e=this;if(!this.transitionEndBound){for(this.transitionEndBound=!0,n=!1,i=ft.split(" "),r=[],t=0,f=i.length;t<f;t++)u=i[t],r.push(this.el.addEventListener(u,function(){return n?!0:(n=!0,setTimeout(function(){return e.render(),n=!1,l(e.el,"odometerdone")},0),!0)},!1));return r}},n.prototype.resetFormat=function(){var n,i,r,u,f,e,o,t;if(n=(o=this.options.format)!=null?o:w,n||(n="d"),r=nt.exec(n),!r)throw new Error("Odometer: Unparsable digit format");return t=r.slice(1,4),e=t[0],f=t[1],i=t[2],u=(i!=null?i.length:void 0)||0,this.format={repeating:e,radix:f,precision:u}},n.prototype.render=function(n){var o,i,s,l,t,r,h,u,f,a,v,c;for(n==null&&(n=this.value),this.stopWatchingMutations(),this.resetFormat(),this.inside.innerHTML="",r=this.options.theme,o=this.el.className.split(" "),t=[],u=0,a=o.length;u<a;u++)if(i=o[u],i.length){if(l=/^odometer-theme-(.+)$/.exec(i)){r=l[1];continue}/^odometer(-|$)/.test(i)||t.push(i)}for(t.push("odometer"),e||t.push("odometer-no-transitions"),r?t.push("odometer-theme-"+r):t.push("odometer-auto-theme"),this.el.className=t.join(" "),this.ribbons={},this.digits=[],h=!this.format.precision||!ot(n)||!1,c=n.toString().split("").reverse(),f=0,v=c.length;f<v;f++)s=c[f],s==="."&&(h=!0),this.addDigit(s,h);return this.startWatchingMutations()},n.prototype.update=function(n){var i,r=this;if(n=this.cleanValue(n),i=n-this.value)return s(this.el,"odometer-animating-up odometer-animating-down odometer-animating"),i>0?t(this.el,"odometer-animating-up"):t(this.el,"odometer-animating-down"),this.stopWatchingMutations(),this.animate(n),this.startWatchingMutations(),setTimeout(function(){return r.el.offsetHeight,t(r.el,"odometer-animating")},0),this.value=n},n.prototype.renderDigit=function(){return o(b)},n.prototype.insertDigit=function(n,t){return t!=null?this.inside.insertBefore(n,t):this.inside.children.length?this.inside.insertBefore(n,this.inside.children[0]):this.inside.appendChild(n)},n.prototype.addSpacer=function(n,i,r){var u;return u=o(g),u.innerHTML=n,r&&t(u,r),this.insertDigit(u,i)},n.prototype.addDigit=function(n,t){var r,i,u,f;if(t==null&&(t=!0),n==="-")return this.addSpacer(n,null,"odometer-negation-mark");if(n===".")return this.addSpacer((f=this.format.radix)!=null?f:".",null,"odometer-radix-mark");if(t)for(u=!1;;){if(!this.format.repeating.length){if(u)throw new Error("Bad odometer format without digits");this.resetFormat(),u=!0}if(r=this.format.repeating[this.format.repeating.length-1],this.format.repeating=this.format.repeating.substring(0,this.format.repeating.length-1),r==="d")break;this.addSpacer(r)}return i=this.renderDigit(),i.querySelector(".odometer-value").innerHTML=n,this.digits.push(i),this.insertDigit(i)},n.prototype.animate=function(n){return e&&this.options.animation!=="count"?this.animateSlide(n):this.animateCount(n)},n.prototype.animateCount=function(n){var r,o,f,s,e,t=this;if(o=+n-this.value)return s=f=i(),r=this.value,(e=function(){var c,a,v;if(i()-s>t.options.duration){t.value=n,t.render(),l(t.el,"odometerdone");return}return c=i()-f,c>u&&(f=i(),v=c/t.options.duration,a=o*v,r+=a,t.render(Math.round(r))),h!=null?h(e):setTimeout(e,u)})()},n.prototype.getDigitCount=function(){var t,r,u,n,i,f;for(n=1<=arguments.length?lt.call(arguments,0):[],t=i=0,f=n.length;i<f;t=++i)u=n[t],n[t]=Math.abs(u);return r=Math.max.apply(Math,n),Math.ceil(Math.log(r+1)/Math.log(10))},n.prototype.getFractionalDigitCount=function(){var t,u,i,f,n,r,e;for(n=1<=arguments.length?lt.call(arguments,0):[],u=/^\-?\d*\.(\d*?)0*$/,t=r=0,e=n.length;r<e;t=++r)f=n[t],n[t]=f.toString(),i=u.exec(n[t]),n[t]=i==null?0:i[1].length;return Math.max.apply(Math,n)},n.prototype.resetDigits=function(){return this.digits=[],this.ribbons=[],this.inside.innerHTML="",this.resetFormat()},n.prototype.animateSlide=function(n){var b,c,ut,f,d,l,u,e,p,r,i,ft,v,w,h,o,s,et,y,ct,g,nt,ot,st,ht,tt,it,rt;if(o=this.value,e=this.getFractionalDigitCount(o,n),e&&(n=n*Math.pow(10,e),o=o*Math.pow(10,e)),ut=n-o){for(this.bindTransitionEnd(),f=this.getDigitCount(o,n),d=[],b=0,i=y=0;0<=f?y<f:y>f;i=0<=f?++y:--y){if(s=a(o/Math.pow(10,f-i-1)),u=a(n/Math.pow(10,f-i-1)),l=u-s,Math.abs(l)>this.MAX_VALUES){for(r=[],ft=l/(this.MAX_VALUES+this.MAX_VALUES*b*k),c=s;l>0&&c<u||l<0&&c>u;)r.push(Math.round(c)),c+=ft;r[r.length-1]!==u&&r.push(u),b++}else r=function(){rt=[];for(var n=s;s<=u?n<=u:n>=u;s<=u?n++:n--)rt.push(n);return rt}.apply(this);for(i=g=0,ot=r.length;g<ot;i=++g)p=r[i],r[i]=Math.abs(p%10);d.push(r)}for(this.resetDigits(),it=d.reverse(),i=nt=0,st=it.length;nt<st;i=++nt)for(r=it[i],this.digits[i]||this.addDigit(" ",i>=e),(et=this.ribbons)[i]==null&&(et[i]=this.digits[i].querySelector(".odometer-ribbon-inner")),this.ribbons[i].innerHTML="",ut<0&&(r=r.reverse()),v=tt=0,ht=r.length;tt<ht;v=++tt)p=r[v],h=document.createElement("div"),h.className="odometer-value",h.innerHTML=p,this.ribbons[i].appendChild(h),v===r.length-1&&t(h,"odometer-last-value"),v===0&&t(h,"odometer-first-value");return s<0&&this.addDigit("-"),w=this.inside.querySelector(".odometer-radix-mark"),w!=null&&w.parent.removeChild(w),e?this.addSpacer(this.format.radix,this.digits[e-1],"odometer-radix-mark"):void 0}},n}(),n.options=(ht=window.odometerOptions)!=null?ht:{},setTimeout(function(){var t,f,i,r,u;if(window.odometerOptions){r=window.odometerOptions,u=[];for(t in r)f=r[t],u.push((i=n.options)[t]!=null?(i=n.options)[t]:i[t]=f);return u}},0),n.init=function(){var t,r,i,f,e,u;if(document.querySelectorAll!=null){for(r=document.querySelectorAll(n.options.selector||".odometer"),u=[],i=0,f=r.length;i<f;i++)t=r[i],u.push(t.odometer=new n({el:t,value:(e=t.innerText)!=null?e:t.textContent}));return u}},((ct=document.documentElement)!=null?ct.doScroll:void 0)!=null&&document.createEventObject!=null?(y=document.onreadystatechange,document.onreadystatechange=function(){return document.readyState==="complete"&&n.options.auto!==!1&&n.init(),y!=null?y.apply(this,arguments):void 0}):document.addEventListener("DOMContentLoaded",function(){if(n.options.auto!==!1)return n.init()},!1),typeof define=="function"&&define.amd?define(["jquery"],function(){return n}):window.Odometer=n}.call(this),MINIHelpers=function(){var n=function(n,t,i){var r=parseFloat(n);return i.toUpperCase()==="QC"&&(r=parseFloat(n)+parseFloat(t)),r},t=function(){var t=$.cookie("__mini").split("&"),n="";return _.each(t,function(t){t.indexOf("uprov")>-1&&(n=t.substring(t.lastIndexOf("=")+1))}),n},i=function(n,t){while(/(\d+)(\d{3})/.test(n.toString()))n=n.toString().replace(/(\d+)(\d{3})/,"$1"+t+"$2");return n};return{priceForDisplay:n,getProvince:t}}(),function(){var i=new MINI.URLWatcher,n={Android:function(){return navigator.userAgent.match(/Android/i)?!0:!1},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)?!0:!1},iOS:function(){return navigator.userAgent.match(/iPhone|iPod/i)?!0:!1},tablet:function(){return navigator.userAgent.match(/iPad/i)?!0:!1},Windows:function(){return navigator.userAgent.match(/IEMobile/i)?!0:!1},any:function(){return n.Android()||n.BlackBerry()||n.iOS()||n.Windows()}},t;if(window.isIE7=function(){return $.browser.msie&&parseInt($.browser.version)<8},t=window.location.search,n.any())window.location.href="http://m.mini.ca/";else if(isIE7())window.location="/sorry";else var r=new MINI.FollowWindow,u=new MINI.ConfigLauncher,f=new MINI.CCRCLauncher;$.browser.msie&&$("input[placeholder]").each(function(){var n=$(this);$(n).val(n.attr("placeholder")),$(n).focus(function(){n.val()==n.attr("placeholder")&&n.val("")}),$(n).blur(function(){(n.val()==""||n.val()==n.attr("placeholder"))&&n.val(n.attr("placeholder"))})})}.call(this),function(){var n=MINI.Homepage=function(n){n||(n={}),_mini.Carousel.init({retailer:n.retailer}),this.initialize.apply(this,arguments)};n.defaultOpts={},_.extend(n.prototype,{initialize:function(){return this}})}.call(this),function(){var n=MINI.ContentPage=function(t){t||(t={}),console.log(t),_.defaults(t,n.defaultOpts),this.initialize.apply(this,arguments)};n.defaultOpts={contentNavContainerEl:"#content-nav"},_.extend(n.prototype,{initialize:function(r){var u,f,e;_.extend(n.defaultOpts,r),n.lang=n.defaultOpts.lang?n.defaultOpts.lang:"en",n.readMoreLink=n.lang==="en"?'<a href="#">Read more<\/a>':'<a href="#">En Savoir Plus<\/a>',n.readLessLink=n.lang==="en"?'<a href="#">Close<\/a>':'<a href="#">Fermer<\/a>',console.log(n.lang),r&&r.containers&&r.containers.length>0&&(u=new MINI.FloatingNav({containers:r.containers,navEl:"#floating-nav"})),f=new MINI.InPageNav,$("#service-warranty-standard-readmore").readmore({maxHeight:104,moreLink:n.readMoreLink,lessLink:n.readLessLink});$(".content-section-menu ul li a").on("click",i);$("#ccrc-down-link").on("click",function(){_mini.Animate.toContainer($(this).attr("href").slice(1),82)});$(".ccrc-down-accessories").on("click",function(){_mini.Animate.toContainer($(this).attr("href").slice(1),104)});return t(),r.isTireConfig&&(e=new MINI.TireConfigurator("","",r.data,r.lang)),this}});var t=function(){$.each($(".content-section"),function(){var t=$(this).first(".content-section-content"),i=$(this).first(".content-section-menu");t.show(),i.children().first().children("ul").children("li").children("a").first().addClass("selected")})},r=function(n){n.preventDefault(),_mini.Animate.toContainer($(this).attr("href").slice(1),62)},i=function(t){var r,u,i;t.preventDefault(),r=$(this).attr("href"),u=$(this).attr("data-sectionparent"),$(u).children(".content-section-content").hide(),$(u).children(".content-section-menu").children("ul").children("li").children("a").removeClass("selected"),$(this).addClass("selected"),$(r).show(),i=$(this).attr("data-max-height"),i=i!=null?i:58,$(r+"-readmore").readmore({maxHeight:58,moreLink:n.readMoreLink,lessLink:n.readLessLink})}}.call(this),ModelPage=function(){var n,i,t="B63",u="2GD",r="en",f=function(f){var e,s,c,l,a,h,v;f.data&&(this.data=f.data),o(),$("#interior-gallery").hide(),$("#colours img, #wheels img").popover({placement:"top"}),$("h3 a").popover({placement:"bottom"}),t=f.data.ModelFamily.ECode=="F56"?f.vehicleData14HA.Colours[0].Code:f.vehicleData.Colours[0].Code,e=0,$("#wheels img").each(function(){if(e++,e==1){var n=$(this).data("item");u=n}}),n=f.data.ModelFamily.ECode,i=f.vehicle,$(".component-left ul").show(),s=0,$("#variant-mask .column img").each(function(){var n=$(this).data("item");typeof n!="undefined"&&(s++,s==2&&(i=$(this).data("item")))}),i=f.vehicle,r=f.lang,_model.Animation.init(n,i,t,u),n=="F56"&&(window.location.hash?($(".modal").modal("hide"),c=window.location.hash.substring(1),l=new MINI.BuildAndPrice(n,c,f,!0,r)):l=new MINI.BuildAndPrice(n,i,f,!1,r)),n=="R58"&&(t="A63"),n=="R57"&&(t="B28"),n=="R59"&&(t="B23"),n=="R55"&&(t="B24"),n=="R60"&&(t="B26"),n=="R61"&&(t="B12"),n=="R56"&&(t="851"),n=="F56"&&(t="B70"),i=="14HA"&&(i="14HB"),a="#model-"+n+"-intro",h=new MINI.Visualizer(a,".jumbo-mask .jumbo-wrapper",".intro",n,i,t,u,!1,r),h.loadFirstImage(),h.setButtonEvent(),_mini.Hightlights.init(n,r),v=new MINI.ModelFeatures({parentContainer:"#vehicleFeatures",language:r})},e=function(n,t){return(n=_.shuffle(n),n[0].Category===t)?n[0]:e(n,t)},o=function(){$("#model-nav li a,#vehicle-nav li a, .big-arrow").on("click",function(n){var t=$(this).attr("href"),i=$(this).text();t=="#vehicleFeatures"?$("#vehicleFeatures").modal({show:!0,backdrop:"static",keyboard:"false"}):(n.preventDefault(),_mini.Animate.toContainer($(this).attr("href").slice(1),102))});$("#model-nav li a").on("mouseover",function(){var t=$(this).parent().find(".downward-arrow");$(t).stop(!0,!0).animate({top:-10},200)});$("#model-nav li a").on("mouseleave",function(){var t=$(".downward-arrow");$(t).stop(!0,!0).animate({top:-35},200)});$("#vehicle-nav .pull-left").on("click",function(n){n.preventDefault(),$("html, body").animate({scrollTop:0},1e3)});$("#gallery-nav li a").on("click",function(n){n.preventDefault(),s(this)})},s=function(n){var t=$(n).attr("id");t==="show-exterior"?($("#show-exterior").addClass("selected"),$("#show-interior").removeClass("selected"),$("#exterior-gallery").show(),$("#interior-gallery").hide()):($("#show-exterior").removeClass("selected"),$("#show-interior").addClass("selected"),$("#exterior-gallery").hide(),$("#interior-gallery").show())},h=function(){return n},c=function(){return i};return{init:f,getModelFamilyID:h,getModelID:c}}(),function(n,t){"use strict";var f=t.Hightlights=t.Hightlights||function(){var e=[],i=[],r="",t="",o="",k="",f=!1,u=[],a="en",s="Read More",v="Close",d=function(i,u){r=i,a=u,t="#model-"+r+"-highlights",u=="fr"&&(s="En savoir plus",v="Proche");var f="?v="+Math.random()*999+"_"+Math.random()*999;n.ajax({url:"/Public/highlight-data/"+a+"/"+r+".xml"+f,async:!1,accepts:{xml:"text/xml",text:"text/xml"},success:function(n){g(n)},error:function(){console.log(" DATA FEED ERROR ")}})},g=function(i){e=i;var f=0,u='<img src="/Public/img/v/'+r+'/highlights/enter.jpg"/>';n(u).load(),n(".item-bg").append(u),k=n(i).find("hover").text(),n(".item-copy-box h4").css({color:"#FFFFFF"}),n(".roll-over-holder").html(""),n(t).find(".component-left").css({opacity:"1"}),n(e).find("highlight name").each(function(){var i='<li><a href="#"><img class="list-cheverons" src="/Public/img/transp-shadow-double-chevron.png"/> '+n(this).text()+"<\/a><\/li>";n(t+" #main-nav ul").append(i),f++});n(".c-title").on("click",function(){var i=n.trim(n(this).text().toLowerCase());n(".highlight-cover-titles").hide(),n("#copy-holder").fadeIn(),n(t+" #main-nav ul li a").removeClass("selected"),n(t+" #main-nav ul li a").each(function(){var t=n.trim(n(this).text().toLowerCase());t==i&&n(this).addClass("selected")}),y(i)});n(t+" #main-nav ul li a").on("click",function(i){i.preventDefault(),n("#copy-holder").fadeIn(),n(t+" #main-nav ul li a").removeClass("selected"),n(this).addClass("selected");var r=n.trim(n(this).text().toLowerCase());n(".highlight-cover-titles").hide(),y(r)});n(t+" h3").css({cursor:"pointer"});n(t+" h3").on("click",function(){n(".highlight-cover-titles").show(),n("#copy-holder").fadeOut(),n(".item-bg").html("");var i='<img src="/Public/img/v/'+r+'/highlights/enter.jpg"/>';n(".item-bg").append(i),n("#hotspots").off(),n("#hotspots").html(""),n(".roll-over-holder").html(""),n(t+" #main-nav ul li a").each(function(){n(t+" #main-nav ul li a").removeClass("selected"),n(t+" #sub-nav ul").html("")})})},y=function(i){var h=0,c=!1;n(t+" #sub-nav ul").html(""),n("#hotspots").css({cursor:"default"}),n("#hotspots").off(),n(".roll-over-holder").html(""),f=!1,u=[],n(e).find("highlight name").each(function(){var e=n.trim(n(this).text().toLowerCase());e==i&&n(this).parent().find("subNav").each(function(){var a,y,k;if(h++,a='<li><a href="#"><img class="list-cheverons" src="/Public/img/transp-shadow-double-chevron.png"/> '+n(this).find("title").text()+"<\/a><\/li>",n(t+" #sub-nav ul").append(a),h==1){var l="?v="+Math.random()*999+"_"+Math.random()*999,d='<img class="bottom-image" src="/Public/img/v/'+r+"/highlights/"+n(this).find("image").text()+".jpg"+l+'"/>',g='<img class="top-image" src="/Public/img/v/'+r+"/highlights/"+n(this).find("topImage").text()+".png"+l+'"/>',nt='<img class="mouse-over-image" src="/Public/img/v/'+r+"/highlights/"+n(this).find("mouseOver").text()+l+'"/>',e=[];n(this).find("rollovers item").each(function(){var t=n(this).find("mouseX").text(),r=n(this).find("mouseY").text(),u=n(this).find("img").text(),f=n(this).find("hotSpotId").text();e.push({id:f,img:u,x:t,y:r,cat:i})}),e.length>0&&(u=e,p(e),f=!0),n(".item-bg").html(d),n(this).find("topImage").text()!=""&&(n(".item-bg").append(g),n(".top-image").stop(!0,!0).fadeIn(1200)),n(this).find("mouseOver").text()!=""&&(n(".item-bg").append(nt),c=!0,w()),n(t+" #sub-nav ul li a").addClass("selected"),y=n(this).find("headline").text(),n(".item-copy-box h4").html(y),k=n(this).find("copy").text(),n(".item-copy-box p").html(k);var tt=n(this).find("copyPosX").text(),it=n(this).find("copyPosY").text(),rt=n(this).find("copyPosW").text();if(n(".item-copy-box").css({left:tt+"px",top:it+"px",width:rt+"px"}),o=n(this).find("color").text(),n(".item-copy-box").css({"border-color":"#"+o}),b(n(this).find("hotSpots")),n(this).find("readMore").text()=="true"){n(".read-more").on("click",function(t){t.preventDefault();var r=n(this).text(),i=n(this).parent().find(".read-more-hidden");r==s?(n(i).fadeIn(100),n(this).text(v)):(n(i).fadeOut(100),n(this).text(s))});n(".item-copy-box").css({"z-index":"999999"})}}})});n(t+" #sub-nav ul li a").on("click",function(i){i.preventDefault();var r=n.trim(n(this).text().toLowerCase());nt(r),n(t+" #sub-nav ul li a").removeClass("selected"),n(this).addClass("selected")})},p=function(t){var o,s,i,u;for(n(".roll-over-holder").html(""),i=0;i<t.length;i++){var f="?v="+Math.random()*999+"_"+Math.random()*999,e='<img class="top-image-roll" id="'+t[i].img+'" src="/Public/img/v/'+r+"/highlights/"+t[i].img+".png"+f+'"/>',h="#"+t[i].img;n(".roll-over-holder").append(e),n(".top-image-roll").hide(),n(".top-image-roll").css({display:"none"}),n(".top-image-roll").hide()}if(t[0].cat=="airbags"||t[0].cat=="passive safety"){u='<span class="deploy-btn"><a href="#"><img class="small-arrow" src="/Public/img/transp-shadow-double-chevron.png"/> Deploy full airbag system<\/a><\/span>',n(".roll-over-holder").append(u);n(".deploy-btn a").on("click",function(i){var r,u;for(i.preventDefault(),r=0;r<t.length;r++)u="#"+t[r].img,n(u).css({display:"block"});setTimeout(function(){for(var r,i=0;i<t.length;i++)r="#"+t[i].img,n(r).css({display:"none"})},4100)})}},w=function(){n("#hotspots").off(),n("#hotspots").css({cursor:"pointer"});n("#hotspots").on("mouseover",function(){n(".item-bg").find(".mouse-over-image").fadeIn()});n("#hotspots").on("mouseleave",function(){n(".item-bg").find(".mouse-over-image").fadeOut()})},nt=function(t){var i=[],s=!1;n("#hotspots").css({cursor:"default"}),n(".roll-over-holder").html(""),f=!1,u=[],n(e).find("highlight subNav").each(function(){var l=n(this).find("title").text().toLowerCase(),h,c;if(t==l){var e="?v="+Math.random()*999+"_"+Math.random()*999,a='<img class="bottom-image" src="/Public/img/v/'+r+"/highlights/"+n(this).find("image").text()+".jpg"+e+'"/>',v='<img class="top-image" src="/Public/img/v/'+r+"/highlights/"+n(this).find("topImage").text()+".png"+e+'"/>',y='<img class="mouse-over-image" src="/Public/img/v/'+r+"/highlights/"+n(this).find("mouseOver").text()+e+'"/>';n(this).find("rollovers item").each(function(){var r=n(this).find("mouseX").text(),u=n(this).find("mouseY").text(),f=n(this).find("img").text(),e=n(this).find("hotSpotId").text();i.push({id:e,img:f,x:r,y:u,cat:t})}),i.length>0&&(f=!0,u=i,p(i)),n(".item-bg").html(a),n(this).find("topImage").text()!=""&&(n(".item-bg").append(v),n(".top-image").stop(!0,!0).fadeIn(1200)),n(this).find("mouseOver").text()!=""&&(n(".item-bg").append(y),s=!0,w()),h=n(this).find("headline").text(),n(".item-copy-box h4").html(h),c=n(this).find("copy").text(),n(".item-copy-box p").html(c),b(n(this).find("hotSpots"));var k=n(this).find("copyPosX").text(),d=n(this).find("copyPosY").text(),g=n(this).find("copyPosW").text();if(n(".item-copy-box").css({left:k+"px",top:d+"px",width:g+"px"}),o=n(this).find("color").text(),n(".item-copy-box").css({"border-color":"#"+o}),n(this).find("readMore").text()=="true"){n(".read-more").on("click",function(t){t.preventDefault();var r=n(this).text(),i=n(this).parent().find(".read-more-hidden");r=="Read More"?(n(i).fadeIn(100),n(this).text("Close")):(n(i).fadeOut(100),n(this).text("Read More"))});n(".item-copy-box").css({"z-index":"999999"})}}})},b=function(u){var c,e,o,s;for(i=[],n(t+" #hotspots").html(""),n(u).find("hotspot").each(function(){var t=n(this).find("id").text(),r=n(this).find("titl").text(),u=n(this).find("cop").text(),f=n(this).find("posx").text(),e=n(this).find("posy").text(),o=n(this).find("side").text(),s=n(this).find("popupImage").text();i.push({id:t,title:r,copy:u,posx:f,posy:e,side:o,popupImage:s})}),e=0;e<i.length;e++)o='<img src="/Public/img/v/'+r+"/highlights/"+i[e].popupImage+'.jpg" />',n(o).load(),c='<div class="spot" id="'+i[e].id+'" style=" left : '+i[e].posx+"px; top:"+i[e].posy+'px; "><div class="spot-pos"> '+i[e].posy+" : "+i[e].posy+' <\/div><a href="#" id="hotter-spotter" data-trigger="hover"  placement="" draggable="true" class="btn" rel="popover"  data-content="" data-original-title=""><img src="/Public/img/hot-spot.png" /><\/a><\/div>',n(t+" #hotspots").append(c),s="<h3>"+i[e].title+"<\/h3>"+i[e].copy,i[e].popupImage!=""&&(s=o+"<br><h3>"+i[e].title+"<\/h3>"+i[e].copy),n(".spot #hotter-spotter").popover({content:s,placement:i[e].side,html:!0});n(".spot").draggable();n(".spot").on("click",function(n){n.preventDefault()});n(".spot").on("mouseover",function(){n(".spot").stop(!0,!1),n(".spot").animate({opacity:1},{duration:10}),n(".spot").css({"z-index":"9"}),n(this).css({"z-index":"10"}),n(this).find(".spot-pos").text(n(this).css("left")+" :: "+n(this).css("top"));var i=n(this).attr("id");f&&tt(i)});n(".spot").on("mouseleave",function(){l(),f&&h()});n(".spot #hotter-spotter").on("mouseleave",function(){f&&h()});n("#hotspots").on("mouseleave",function(){f&&h()});l()},tt=function(t){for(var r,i=0;i<u.length;i++)r="#"+u[i].img,u[i].id==t?n(r).show():n(r).hide()},h=function(){for(var i,t=0;t<u.length;t++)i="#"+u[t].img,n(i).hide()},c=!0,l=function(){var t=.3;c?(t=.3,c=!1):(t=1,c=!0),n(".spot").animate({opacity:t},{duration:1e3,complete:l})};return{init:d}}();return{Hightlights:f}}(jQuery,window._mini=window._mini||{},window,document),function(n,t,i){"use strict";var f=t.Animation=t.Animation||function(){var r,t=[],tt=200,l=!1,a=!1,v=!1,y=!1,b=!1,o,s,p,u,at=!1,vt,it=function(t,i){r=t,p=i,n(".gallery-col").hide(),n(".gallery-col img").css({position:"relative"}),n(".gallery-col img").stop(!0,!0).animate({opacity:0},0),rt();n("#variant-mask .button-container a").on("click",function(t){var i=n(this).text(),r=n(this).attr("href").substr(1);i=="Highlights"&&(t.preventDefault(),_mini.Animate.toContainer(r,-135))});n("#model-nav .nav li").each(function(){var t='<div class="downward-arrow"><img src="/Public/img/arrow-alpha.png" /><\/div>';n(this).append(t)}),b==!1&&ut();n(".back-to-top").on("click",function(){n("html, body").animate({scrollTop:0},1e3)})},rt=function(){var i="#model-"+r+"-intro",tt="#model-nav",f="#model-"+r+"-gallery",h="#model-"+r+"-variants",c="#model-"+r+"-highlights",p="#model-"+r+"-build",w,b;k(),l=!0,d(),a=!0,g(),v=!0,r=="F56"?t=[i,f,h,c,p]:(t=[i,f,h,c,p],w='<div class="right-car"><\/div>',b='<div class="left-car"><\/div>',n(t[4]).find(".component-right").append(w),n(t[4]).find(".component-right").append(b),n(t[3]).find(".component-left").css({opacity:"0"}),u=setTimeout(function(){e(15)},100),u=setTimeout(function(){e(6)},300),nt(),y=!0),s=t[1]+" h3",n(s).stop(!0,!0).animate({opacity:0},0),n(s).css({display:"block",position:"relative",left:-1200}),o=t[1]+" p",n(o).stop(!0,!0).animate({opacity:0},0),n(o).css({display:"block",position:"relative",left:-1200})},ut=function(){b=!0,n(t[0]).animate({opacity:1},1200),n(".wide-body-image-header .intro").fadeIn(),n(".intro h2").stop(!0,!0).animate({opacity:0,left:-200},0),n(".intro h2").css({display:"block"}),n(".intro h1").stop(!0,!0).animate({opacity:0,left:-200},0),n(".intro h1").css({display:"block"}),n(".intro h5").stop(!0,!0).animate({opacity:0,left:-200},0),n(".intro h5").css({display:"block"}),n("#mini-config").stop(!0,!0).animate({opacity:0,left:-200},0),n("#mini-config").css({display:"block"}),setTimeout(function(){n(".intro h2").stop(!0,!0).animate({opacity:1,left:0},500)},300),setTimeout(function(){n(".intro h1").stop(!0,!0).animate({opacity:1,left:0},500)},500),setTimeout(function(){n(".intro h5").stop(!0,!0).animate({opacity:1,left:0},500)},700),setTimeout(function(){n("#mini-config").stop(!0,!0).animate({opacity:1,left:156},500)},900),setTimeout(function(){ft()},1e3),setTimeout(function(){var t=0;n(".intro .btn").each(function(){var i=n(this),r;n(i).show(),t++,r=t*tt,setTimeout(function(){n(i).animate({opacity:1,top:0},500),n(i).css({"z-index":"0"})},r)})},800)},h=function(t){if(typeof t!="undefined"){var r=n(i).scrollTop(),f=r+n(i).height(),u=n(t).offset().top;return u<=f&&u>=r}},ft=function(){var r,f=n(i).scrollTop(),u=n("#vehicle-nav");n("#header").css({"z-index":"999999"}),n("#vehicle-nav").css({"z-index":"999998"}),u.show(),n("#vehicle-nav").stop().animate({top:60},300),n("#btt a").stop().animate({bottom:0},200),n(".back-to-top").show();n(i).on("scroll",function(){var u,f,e;for(clearTimeout(r),r=setTimeout(ct,150),u=0;u<t.length;u++)h(t[u])&&et(t[u]);f=n(i).scrollTop(),(p=="14HA"||p=="14HB")&&(f=n(i).scrollTop()+70),e=parseInt("-"+n(i).scrollTop())+683,n(".wide-body-image-header .jumbo-wrapper").stop(!0,!0).animate({top:f})})},et=function(n){n==t[1]&&l==!1&&(k(),l=!0),n==t[2]&&a==!1&&(a=!0,d()),n==t[3]&&v==!1&&(v=!0,g()),r!="F56"&&n==t[4]&&y==!1&&(y=!0,nt())},k=function(){var r,u,i;n(".gallery-col").css({display:"block",position:"relative"}),setTimeout(function(){n(s).stop(!0,!0).animate({opacity:1,left:0},500)},100),setTimeout(function(){n(o).stop(!0,!0).animate({opacity:1,left:0},500)},300),r='<div class="gallery-arrow-right"><img src="/Public/img/v/gallery-arrow-right.png"/><\/div>',u='<div class="gallery-arrow-left"><img src="/Public/img/v/gallery-arrow-left.png"/><\/div>',n(t[1]).find(".component-right").append(u),n(t[1]).find(".component-right").append(r),n(t[1]).find(".component-right").css({left:"80px",position:"relative"}),i=0,n(".gallery-col img").each(function(){i++;var t=n(this),r=100*i;n(t).stop(!0,!0).delay(r).animate({opacity:1},{easing:"easeInQuart",duration:100})})},d=function(){var o="#model-"+r+"-variants .component-right .column",u="#model-"+r+"-variants .component-left h3",f="#model-"+r+"-variants .component-left p",e="#variant-mask .big-arrow",t,s;n(u).animate({opacity:0},{duration:1}),n(u).stop(!0,!0).delay(100).animate({opacity:1,left:"0px"},{easing:"easeInOutExpo",duration:1500}),n(f).animate({opacity:0},{duration:1}),n(f).stop(!0,!0).delay(300).animate({opacity:1,left:"0px"},{easing:"easeInOutExpo",duration:1500}),n(e).animate({opacity:0},{duration:1}),n(e).stop(!0,!0).delay(300).animate({opacity:1,left:"0px"},{easing:"easeInOutExpo",duration:1500}),t=0,s=parseInt("-"+n(i).scrollTop()+1640),n(o).each(function(){var f,i,r,u;t++,f=100*t,n(this).css({position:"relative"}),t==1&&(i=n(this),setTimeout(function(){w(i)},500)),t==2&&(r=n(this),setTimeout(function(){w(r)},700)),t==3&&(u=n(this),setTimeout(function(){w(u)},900))})},w=function(t){n(t).find(".title").animate({opacity:0},{duration:1}),n(t).find(".title").stop(!0,!0).delay(100).animate({opacity:1,left:"0px"},{easing:"easeOutBack",duration:500}),n(t).find("img").animate({opacity:0},{duration:1}),n(t).find("img").stop(!0,!0).delay(300).animate({opacity:1,left:"0px"},{easing:"easeOutBack",duration:500}),n(t).find(".short-specs").animate({opacity:0},{duration:1}),n(t).find(".short-specs").stop(!0,!0).delay(500).animate({opacity:1,left:"0px"},{easing:"easeOutBack",duration:500}),n(t).find(".button-container").animate({opacity:0},{duration:1}),n(t).find(".button-container").stop(!0,!0).delay(700).animate({opacity:1,left:"0px"},{easing:"easeOutBack",duration:500})},g=function(){n(".highlight-cover").fadeIn();var t=0;n(".c-title").each(function(){var u=n(this),i=parseInt(n(this).css("left"))-1500,r;n(this).css("left",i),t++,r=t*100,ht(u,r,i)})},ot=function(i){var r;n(t[3]).find(".component-left").css({opacity:"1"}),r=n(t[3]).find(".component-left h3"),n(r).css({position:"relative",left:"-900px"}),n(r).animate({opacity:0},{duration:1}),n(r).stop(!0,!0).delay(100).animate({opacity:1,left:"0px"},{easing:"easeOutBack",duration:500});var e=0,u=0,f="#"+i+"-MENU li";n(f).css({left:"-900px"}),n("#highlights-menu li, #"+i+"-MENU li").each(function(){var i=n(this),t;u++,t=u*100,st(i,t)})},st=function(t,i){n(t).stop(!0,!0).delay(i).animate({opacity:1,left:"0px"},{easing:"easeInOutExpo",duration:600})},ht=function(t,i,r){n(t).stop(!0,!0).delay(i).animate({left:r+1500},{easing:"easeOutBack",duration:600})},c=0,yt=0,nt=function(){var r=n(t[4]).find(".component-left h3"),u=n(t[4]).find(".component-left p"),e=n(t[4]).find(".component-left h4"),o=n(t[4]).find(".component-left h5"),s=n(t[4]).find(".component-left a"),i=n(t[4]).find(".ad"),h;n(r).css({position:"relative",left:"-900px"}),n(e).css({position:"relative",left:"-900px"}),n(o).css({position:"relative",left:"-900px"}),n(u).css({position:"relative",left:"-900px"}),n(s).css({position:"relative",left:"-900px"}),n(i).css({position:"relative",left:"-1900px"}),h=n(i).find("h2").addClass("large-h2"),n(".large-h2").css({"font-size":"52px",color:"#ffffff"}),f(r,200),f(e,400),f(o,600),f(u,800),f(s,1e3),f(i,1e3)},f=function(t,i){n(t).animate({opacity:0},{duration:1}),n(t).stop(!0,!0).delay(i).animate({opacity:1,left:"0px"},{easing:"easeOutBack",duration:500})},pt=function(n,t){return Math.floor(Math.random()*(t-n+1))+n},e=function(i){if(c++,c>18){c=1,h(t[4])&&(clearTimeout(u),u=setTimeout(function(){e(i)},3e3));return}var f=c,o="/Public/img/v/"+r+"/build-vehicle-loop/"+f+".png";n('<img src="'+o+'">').load(function(){var r=n(this);setTimeout(function(){n(t[4]).find(".component-right .right-car").html(r)},100),i=15,h(t[4])&&(clearTimeout(u),u=setTimeout(function(){e(i)},100))})},ct=function(){for(var r=0,i=0;i<t.length;i++)h(t[i])&&(r++,r==1&&(i==4&&(clearTimeout(u),e(15)),n("#vehicle-nav .pull-right li a").each(function(){n(this).attr("href")===t[i]?n(this).addClass("selected"):n(this).removeClass("selected")})))},lt=function(){return t[3]};return{init:it,getHighlights:lt,openHighlightsNavigation:ot}}();return{Animation:f}}(jQuery,window._model=window._model||{},window,document),function(){var n=MINI.ModelFeatures=function(t){t||(t={}),_.defaults(t,n.defaultOpts),this.initialize.apply(this,arguments)};n.defaultOpts={},_.extend(n.prototype,{initialize:function(r){n.options=r,n.parentContainer=r?r.parentContainer:undefined,n.containers=[n.parentContainer+" #specs-data",n.parentContainer+" #features-data",n.parentContainer+" #package-data"],n.featuresLegend=n.parentContainer+" #features-legend",n.packageLegend=n.parentContainer+"#package-legend",t(n.parentContainer),i(n.parentContainer),$(n.parentContainer+" .modal-nav ul li a").first().addClass("selected"),$(n.parentContainer+" .legend").hide(),$(n.containers[1]).hide(),$(n.containers[2]).hide(),r.language=="fr"?$(".panel-body td").each(function(){$(this).html()=="N/A"&&$(this).html("A/D")}):$(".panel-body td").each(function(){$(this).html()=="N/A"&&$(this).html("TBA")});$(n.parentContainer+" .modal-nav ul li a").on("click",u)}});var t=function(n){$(n).find(".panel-title a").off();$(n).find(".panel-title a").on("click",function(t){t.stopPropagation(),t.preventDefault();var i=$(this).attr("href");$(n).find(i).hasClass("in")?($(n).find(i).removeClass("in"),$(this).parent().removeClass("minus"),$(this).parent().addClass("plus")):($(n).find(i).addClass("in"),$(this).parent().removeClass("plus"),$(this).parent().addClass("minus"))})},i=function(n){$(n).find(".nav li a").on("click",function(t){t.preventDefault(),$(".modal-nav ul li a").removeClass("selected"),$(this).addClass("selected");var i=$(this).attr("href")+"-data",u=$(this).attr("href")+"-legend";r(n),$(n).find(i).addClass("in"),$(n).find(i).show(),$(n).find(u).show()})},r=function(n){$(n).find("#specs-data").hide(),$(n).find("#features-data").hide(),$(n).find("#package-data").hide(),$(n).find("#specs-legend").hide(),$(n).find("#features-legend").hide(),$(n).find("#package-legend").hide()},u=function(t){t.preventDefault(),f();var i=$(this).attr("href")+"-data";$(n.parentContainer+" "+i).show(),$(this).addClass("selected"),i.indexOf("features")>0?$(n.featuresLegend).show():i.indexOf("package")>0&&$(n.packageLegend).show()},f=function(){_.each($(n.parentContainer+" .modal-nav ul li a"),function(n){$(n).removeClass("selected")}),_.each(n.containers,function(n){$(n).hide()}),$(n.featuresLegend).hide(),$(n.packageLegend).hide()}}.call(this),function(){var n=MINI.ModelPageAlt=function(n){this.options=n,this.initialize(this.options),u()};_.extend(n.prototype,{ignoreThings:!1,initialize:function(n){var o=new MINI.FloatingNav({containers:this.options.containers,navEl:"#vehicle-nav"}),s=new MINI.InPageNav,u,f,e;$(".vehicle-menu ul li a").on("click",i);$(".content-section-menu ul li a").on("click",r);$("#jcw-link").on("click",function(n){n.preventDefault(),_mini.Animate.toContainer($(this).attr("href").slice(1),"100")});for(u=[],$(".vehicle-wrapper").each(function(){var t=$(this).find("img").data("id"),i=$(this).find("img").data("model"),r=$(this).find("img").data("color"),f=$(this).find("img").data("rim"),n=$(this).find("img").data("container"),e="#holder-"+n,o="#vehicle-"+n;u.push({f:t,m:i,c:r,r:f,container:e,parentHolder:o})}),f=0;f<u.length;f++)e=new MINI.Visualizer(u[f].parentHolder,u[f].container,".box",u[f].f,u[f].m,u[f].c,u[f].r,!1,n.lang),e.setButtonEvent();return t(),this}});var t=function(){$("#jcw-overview").children(".content-section-menu").children("ul").children("li").children("a").first().addClass("selected"),$.each($(".vehicle-entry"),function(){var t=$(this).children(".vehicle-left").children(".vehicle-menu");t.children("ul").children("li").children("a").first().addClass("selected")});$(".indicator").on("mouseover",function(){var n=$(this).parent(),t=parseInt($(this).css("left"))-2,i=parseInt($(this).css("top"))-2;$(this).css({top:i,left:t}),$(n).find(".hotspot-inner").show(),$(n).find(".hotspot-img").show(),$(n).css({"border-width":"2px"})});$(".indicator").on("mouseleave",function(){var n=$(this).parent(),t=parseInt($(this).css("left"))+2,i=parseInt($(this).css("top"))+2;$(this).css({top:i,left:t}),$(n).find(".hotspot-inner").hide(),$(n).find(".hotspot-img").hide(),$(n).css({"border-width":"0px"})})},i=function(n){var t=$(this).attr("data-sectionparent"),i;t&&(n.preventDefault(),i=$(this).attr("href"),$(t).children(".vehicle-content").hide(),$(t).children(".vehicle-left").children(".vehicle-menu").children("ul").children("li").children("a").removeClass("selected"),$(this).addClass("selected"),$(i).show())},r=function(n){var t=$(this).attr("data-sectionparent"),i;t&&(n.preventDefault(),i=$(this).attr("href"),$(t).children(".content-section-content").hide(),$(t).children(".content-section-menu").children("ul").children("li").children("a").removeClass("selected"),$(this).addClass("selected"),$(i).show())},u=function(){$(".vehicle-right #mini-config").stop(!0,!0).animate({opacity:0},0),$(".vehicle-right #mini-config").css({display:"block"}),setTimeout(function(){$(".vehicle-right #mini-config").stop(!0,!0).animate({opacity:1},500)},500),$("#colours img, #wheels img").popover({placement:"top"});var n=function(){$("#vehicle-1416K .box").css({"border-color":"#d51314"}),$("#vehicle-1414K .box").css({"border-color":"#dcdace"}),$("#vehicle-1414H .box").css({"border-color":"#231917"})};n()}}.call(this),MapHelpers=function(){var t=function(n){var i=document.createElement("div");return i.setAttribute("class","content"),i.style.cssText="font-size: 14px;",i.innerHTML='<h3 style="margin-top:0">'+n.Name+"<\/h3>"+n.Address+"<br />"+n.City+", "+n.Province+", "+n.Postal+"<br />"+n.RetailPhone,i},i=function(t,i){var r=document.createElement("div");return r.setAttribute("class","buttons"),r.appendChild(n(i.bookTestDriveLbl,{href:"#TestDrive","data-toggle":"modal",id:"mapBookTestDrive","class":"mapBookTestDrive",onclick:'$("#TestDrive").modal({backdrop:"static",keyboard:false});',"data-province-value":t.ProvinceShort,"data-retailer-number-value":t.InternalRetailerID},"/Public/img/ico/buttons/testdrive.png")),r.appendChild(n(i.directionsLbl,{href:"https://maps.google.com/maps?saddr=&daddr="+encodeURIComponent(t.Address)+",+"+encodeURIComponent(t.City)+",+"+encodeURIComponent(t.ProvinceShort)+",+Canada&hl=en&z=14",target:"_blank"},"/Public/img/ico/buttons/directions.png")),r.appendChild(n(i.serviceLbl,{href:"#serviceAppointmentModal","data-toggle":"modal",id:"mapServiceAppointment","class":"mapServiceAppointment",onclick:'$("#serviceAppointmentModal").modal({backdrop:"static",keyboard:false})',"data-province-value":t.ProvinceShort,"data-retailer-number-value":t.InternalRetailerID},"/Public/img/ico/buttons/scheduleservice.png")),r.appendChild(n(i.dealerSiteLbl,{href:t.Website,target:"_blank"},"/Public/img/ico/buttons/website.png")),r},r=function(n){var i=document.createElement("div");return i.setAttribute("class","content"),i.style.cssText="font-size: 14px;",i.innerHTML='<h3 style="margin-top:0">'+n.Name+"<\/h3>"+n.StreetAddress+"<br />"+n.City+", "+n.Province+", "+n.Postal+"<br />"+n.Telephone,i},u=function(t,i){var r=document.createElement("div");return r.setAttribute("class","buttons"),r.appendChild(n(i.directionsLbl,{href:"https://maps.google.com/maps?saddr=&daddr="+encodeURIComponent(t.StreetAddress)+",+"+encodeURIComponent(t.City)+",+"+encodeURIComponent(t.ProvinceShort)+",+Canada&hl=en&z=14",target:"_blank"},"/Public/img/ico/buttons/directions.png")),r},n=function(n,t,i){var r=document.createElement("a"),u,f,e;for(u in t)r.setAttribute(u,t[u]);return r.setAttribute("class","btn btn-primary gradient-grey shadow btn-md btn-block ico-btn"),f=document.createElement("img"),f.setAttribute("src",i),r.appendChild(f),e=document.createTextNode(n),r.appendChild(e),r},f=function(){_.each(infoBoxesArray,function(n){n.close()})},e=function(n){_.each(n,function(n){n.setMap(null)})},o=function(n,t){return function(){google.maps.event.trigger(n,t)}},s=function(n,t,i,r,u){var e=Math.PI*n/180,o=Math.PI*i/180,c=Math.PI*t/180,l=Math.PI*r/180,s=t-r,h=Math.PI*s/180,f=Math.sin(e)*Math.sin(o)+Math.cos(e)*Math.cos(o)*Math.cos(h);return f=Math.acos(f),f=f*180/Math.PI,f=f*60*1.1515,u=="K"&&(f=f*1.609344),u=="N"&&(f=f*.8684),f},h=function(n){for(var i,t=0;t<n.length;t++)if(i=n[t],i.getMap()!=null)return!0;return!1};return{buildInfoButtons:i,buildInfoContent:t,buildCCRCInfoButtons:u,buildCCRCInfoContent:r,closeInfoBoxes:f,closeMarkers:e,generateTriggerCallback:o,calculateDistance:s,infoBoxesOpen:h}}(),FindRetailer=function(){var n=n||{},t={province:"CA",defaultZoom:4,provinceZoom:6,geoLocationZoom:8,averageCenter:!1,clusterOpts:{maxZoom:15,styles:[{url:"/Public/img/find-retailer/cluster.png",width:72,height:78,anchor:[0,0],anchorText:[12,0],textSize:18,textColor:"#ffffff",fontFamily:"MINITypev2HeadlineRegular"}],minimumClusterSize:5},infoBoxOpts:{content:"",pixelOffset:"",infoBoxClearance:"",alignBottom:!1,boxClass:"info-window",disableAutoPan:!1,maxWidth:0,zIndex:null,boxStyle:{width:"545px"},closeBoxMargin:"-20px -79px 2px 2px",closeBoxURL:"/Public/img/find-retailer/info-close.png",isHidden:!1,pane:"floatPane",enableEventPropagation:!1}};this.markersArray=[],this.infoBoxesArray=[],n.resultsCollection=undefined,n.Type=undefined;var h=function(i){$.extend(t,i),t.lang&&t.lang=="FR"&&(t.infoBoxOpts.closeBoxURL="/Public/img/find-retailer/info-close-fr.png"),c();var f=new r;n.resultsCollection.each(function(n){n.get("ProvinceShort")===t.province&&f.add(n)}),n.Type=t.type,u(f)},c=n.initData=function(){n.provinceCoordinates={CA:new google.maps.LatLng(49.895298,-97.138882),ON:new google.maps.LatLng(43.65323,-79.38318),AB:new google.maps.LatLng(51.784641,-114.291347),BC:new google.maps.LatLng(49.257633,-123.027344),MB:new google.maps.LatLng(50.133752,-98.484286),NB:new google.maps.LatLng(46.087817,-64.778231),NL:new google.maps.LatLng(47.560541,-52.712831),NS:new google.maps.LatLng(44.648862,-63.57532),QC:new google.maps.LatLng(45.50867,-73.553992),SK:new google.maps.LatLng(50.454722,-104.606667)},n.resultsCollection=n.resultsCollection=new r,n.resultsCollection.reset(JSON.parse(t.data))},i=function(i,r,u){var c=this,o=t.province=="CA"?t.defaultZoom:t.provinceZoom,e,s,h;r&&(o=r),e=n.provinceCoordinates[t.province],i&&(e=i),s={zoom:o,center:e,mapTypeId:google.maps.MapTypeId.TERRAIN},h=n.map=new google.maps.Map(document.getElementById("map-canvas"),s),f(u),n.currentBounds=!1,google.maps.event.addListener(h,"bounds_changed",function(){l()})},l=function(){var i=this,u,t,h,c,e;if(n.currentBounds=n.map.getBounds(),n.currentBounds&&!MapHelpers.infoBoxesOpen(this.infoBoxesArray)){u=n.provinceCoordinates,t=new r;for(h in u)n.resultsCollection.each(function(i){var r=new google.maps.LatLng(i.get("Lat"),i.get("Lng"));n.map.getBounds().contains(r)&&t.add(i)});c=new o({collection:t}),e=new s({collection:t}),e.render(),MapHelpers.closeInfoBoxes(i.infoBoxesArray),MapHelpers.closeMarkers(i.markersArray),i.infoBoxesArray=[],i.markersArray=[],f(t.toJSON())}},f=function(i){var r=1,u;_.each(i,function(n){var t=new google.maps.LatLng(n.Lat,n.Lng);a(n,t.lat(),t.lng(),0,r),r++}),u=new MarkerClusterer(n.map,this.markersArray,t.clusterOpts)},a=function(i,r,u,f,e){var a=this,o=new google.maps.Marker({position:new google.maps.LatLng(r,u),icon:{url:"/Public/img/find-retailer/marker.png",size:new google.maps.Size(50,52)}}),s,l,h,c;o.setMap(n.map),s=document.createElement("div"),s.setAttribute("class","info-win-container clearfix"),n.Type==="RETAILER"?(s.appendChild(MapHelpers.buildInfoContent(i,e)),s.appendChild(MapHelpers.buildInfoButtons(i,t.strings))):(s.appendChild(MapHelpers.buildCCRCInfoContent(i,e)),s.appendChild(MapHelpers.buildCCRCInfoButtons(i,t.strings))),l={content:s,pixelOffset:new google.maps.Size(0,0),infoBoxClearance:new google.maps.Size(100,100),retailerID:i.InternalRetailerID},$.extend(t.infoBoxOpts,l),h=new InfoBox(t.infoBoxOpts),google.maps.event.addListener(o,"click",function(){MINI.currentRetailer=i.InternalRetailerID,MapHelpers.closeInfoBoxes(n.infoBoxes),h.open(n.map,o)}),c=n.Type==="RETAILER"?i.InternalRetailerID:i.LocationID,google.maps.event.addListener(o,"mouseover",function(){$("#r-"+c).addClass("results-item-over"),prevIconUrl=o.getIcon(),o.setIcon("/Public/img/find-retailer/marker_ov.png")}),google.maps.event.addListener(o,"mouseout",function(){$("#r-"+c).removeClass("results-item-over"),o.setIcon("/Public/img/find-retailer/marker.png")}),f>0&&map.setZoom(f),this.markersArray.push(o),this.infoBoxesArray.push(h)},u=function(n,t,r){var f=new o({collection:n}),u=new s({collection:n});u.render(),MapHelpers.closeInfoBoxes(this.infoBoxesArray),MapHelpers.closeMarkers(this.markersArray),this.infoBoxesArray=[],this.markersArray=[],i(t,r,n.toJSON())},e=function(t,i,u){var f=new r,e=u!=undefined&&u!==null?u:null;return n.resultsCollection.each(function(n){var r=new google.maps.LatLng(n.get("Lat"),n.get("Lng")),u=parseInt(MapHelpers.calculateDistance(t.lat(),t.lng(),r.lat(),r.lng(),"K"));u<=i&&(n.set({DistanceFrom:u},{silent:!0}),e!==null&&e.toString().length>0&&n.get("ServicesOffered").toString().indexOf(e)>-1?f.add(n):f.add(n))}),f},o=Backbone.View.extend({events:{"click #useCurrentLocation":"initGeoLocation","click #submit":"submitSearch","keyup :input":"logKey","keypress :input":"logKey","click #reset":"resetFormFields reloadMap","click #reset":"reloadMap"},el:"#search-bar",logKey:function(n){if(n.keyCode===13)return this.submitSearch(n)},submitSearch:function(t){var f,h,c,a;t.preventDefault();var l=n.Type==="RETAILER"?$("#InternalRetailerID"):$("#LocationID"),s=l.val()!="null"?"RETAILER":"POSTALLOCATION",o=s==="RETAILER"?l.val():$("#PostalLocation").val(),v=$("#ServicesOffered").val()!==undefined&&$("#ServicesOffered").val()!=="ALL"?$("#ServicesOffered").val():null;console.log(s),f=new r,s==="RETAILER"&&(n.Type==="RETAILER"?f.add(n.resultsCollection.findWhere({InternalRetailerID:parseInt(o)})):f.add(n.resultsCollection.findWhere({LocationID:parseInt(o)})),console.log(f.models),h=f.models[0].toJSON(),c=new google.maps.LatLng(h.Lat,h.Lng),u(f,c,12),$("#results a").first().trigger("click")),s==="POSTALLOCATION"&&(a=new google.maps.Geocoder({Region:"CA"}),o=o.replace(" ",""),a.geocode({address:o},function(t,r){var f,o,s;r==google.maps.GeocoderStatus.OK&&(f=new google.maps.LatLng(t[0].geometry.location.lat(),t[0].geometry.location.lng()),i(c,10),o=e(f,100,v),o.sort(),u(o,f,10),s=new google.maps.Marker({position:f,map:n.map}),n.map.panTo(f))})),f.length===0&&MapHelpers.closeMarkers(markersArray)},initGeoLocation:function(r){r.preventDefault(),navigator.geolocation?navigator.geolocation.getCurrentPosition(function(r){var f=new google.maps.LatLng(r.coords.latitude,r.coords.longitude),c;i(f,t.geoLocationZoom);var o=e(f,100,null),s=o.models[0].toJSON(),h=new google.maps.LatLng(s.Lat,s.Lng);u(o,h,10),c=new google.maps.Marker({position:f,map:n.map}),n.map.panTo(f)},function(){i()}):i()},resetFormFields:function(t){t.preventDefault(),$("#PostalLocation").val(""),n.Type==="RETAILER"?$("#InternalRetailerID").val("null"):$("#LocationID").val("null"),$("#ServicesOffered").val("ALL")},reloadMap:function(t){t.preventDefault(),this.resetFormFields(t),n.initData()}}),v=Backbone.Model.extend({idAttribute:function(){return n.Type==="CCRC"?"LocationID":"InternalRetailerID"}}),r=Backbone.Collection.extend({model:v,comparator:function(n){return n.get("DistanceFrom")}}),s=Backbone.View.extend({events:{"click a":"showInfoBox","mouseover .results-item":"over","mouseout .results-item":"out"},el:"#results",initialize:function(){this.$el.empty()},render:function(){var t=this,n=1;return this.collection.each(function(i){var r=_.template($("#result-template").html(),{data:i.toJSON(),counter:n});t.$el.append(r),n++}),this},over:function(n){this.rId=parseInt($(n.currentTarget).attr("data-id"))-1,this.marker=markersArray[this.rId],this.marker.setIcon("/Public/img/find-retailer/marker_ov.png"),$(n.currentTarget).addClass("results-item-over")},out:function(n){$(n.currentTarget).removeClass("results-item-over"),this.marker.setIcon("/Public/img/find-retailer/marker.png")},showInfoBox:function(t){t.preventDefault();var i=$(t.currentTarget).attr("id").replace("r-","")-1,r=$(t.currentTarget).data("id"),u=infoBoxesArray[i],f=markersArray[i];MapHelpers.closeInfoBoxes(n.infoBoxesArray),MINI.currentRetailer=r,u.open(n.map,f)}});return{init:h}}(),function(){function i(t){$.ajax({url:"/en/Form/FilterRetailerByProvince",type:"POST",data:{ProvinceCode:t},datatype:"json",success:function(t){var i='<option value="0">'+n.selectRetailerLabel+"<\/option>";$.each(t,function(){i=i+'<option value="'+this.ID+'">'+this.Name+"<\/option>"}),$("#ddlRetailer").empty().attr("disabled",!1).append(i)}})}var n=MINI.BookTestDrive=function(t){t||(t={}),_.defaults(t,n.defaultOpts),this.initialize.apply(this,arguments)},t;n.defaultOpts={},_.extend(n.prototype,{initialize:function(i){_.defaults(n.defaultOpts,i),n.selectRetailerLabel=i.selectRetailerLabel,$(".alert").hide(),$("#AccountNumber").prop("disabled",!0),$("#VIN").prop("disabled",!0);$("#bookTestDrive").on("hidden.bs.modal",function(){$(".alert").hide()});$("#serviceAppointmentModal").on("hidden.bs.modal",function(){$(".alert").hide()});if(window.location.hash){var r=$(location).attr("href").split("#")[1];r=="Unsubscribe"&&$("#Unsubscribe").modal({show:!0,backdrop:"static"})}return t(),$("#ddlCountry").val("CA"),this}}),t=function(){var t=$("#ddlProvince :selected").val();i(t);$("#TestDrive").on("show.bs.modal",function(n){var r=$(n.relatedTarget).closest("a").data("value"),i,t;r!==null&&$("#ddlVehicle option").each(function(){$(this).attr("value")==r&&$(this).attr("selected",!0)}),i=$(n.relatedtarget).closest("a").data("province-value"),i!=null&&$(this).find("#ddlProvince").val(i),$(this).find("#ddlProvince").val()!="null"&&$(this).find("#ddlProvince").attr("disabled","disabled"),t=$(n.relatedTarget).closest("a").data("retailer-number-value"),t==null&&(t=MINI.currentRetailer),t!=null&&t!=""&&($(this).find("#ddlRetailer").val(t),$(this).find("#ddlRetailer").attr("disabled","disabled")),MINI.currentRetailer=""});$("#serviceAppointment").show(function(){});$("#serviceAppointmentModal").on("show.bs.modal",function(n){var i=$(n.target).closest("a").data("province-value"),t;i!=null&&$(this).find("#ddlProvince").val(i),t=$(n.relatedTarget).closest("a").data("retailer-number-value"),t==null&&(t=MINI.currentRetailer),t!=null&&($(this).find("#ddlRetailer").val(t),$(this).find("#ddlRetailer").attr("disabled","disabled"),$(this).find("#RetailerNumber").val(t))});$("#ddlProvince").change(function(){var t=$("#ddlOpportunityType :selected").val();t=="HeadOfficeMINIAutomobiles"||t=="HeadOfficeMINIFinancialServices"||t=="HeadOfficeMINIGeneral"?$("#ddlRetailer").prop("disabled",!0):$("#ddlRetailer").prop("disabled",!1),$.ajax({url:"/en/Form/FilterRetailerByProvince",type:"POST",data:{ProvinceCode:$(this).val()},datatype:"json",success:function(t){var i='<option value="0">'+n.selectRetailerLabel+"<\/option>";$.each(t,function(){i=i+'<option value="'+this.ID+'">'+this.Name+"<\/option>"}),$("#ddlRetailer").empty().attr("disabled",!1).append(i)}})}),$("#ddlOpportunityType").change(function(){$(this).val()==""&&($("#ddlOpportunityType")[0].selectedIndex=$("#ddlOpportunityType")[0].selectedIndex+1),$(this).val()==""&&($("#ddlOpportunityType")[0].selectedIndex=$("#ddlOpportunityType")[0].selectedIndex+1),$(this).val()=="HeadOfficeMINIAutomobiles"||$(this).val()=="HeadOfficeMINIFinancialServices"||$(this).val()=="HeadOfficeMINIGeneral"?($("#ddlRetailer").prop("disabled",!0),$("#ddlProvince").prop("disabled",!0),$("#ddlCountry").prop("disabled",!1),$("#AccountNumber").prop("disabled",!1),$("#VIN").prop("disabled",!1),$("#ddlCommentSubject").prop("disabled",!1)):($("#ddlRetailer").prop("disabled",!1),$("#ddlCountry").prop("disabled",!0),$("#ddlProvince").prop("disabled",!1),$("#ddlCountry").val("CA"),$("#AccountNumber").prop("disabled",!0),$("#VIN").prop("disabled",!0),$("#ddlCommentSubject").prop("disabled",!0));var t=$("#ddlProvince :selected").val();$.ajax({url:"/en/Form/FilterRetailerByProvince",type:"POST",data:{ProvinceCode:t},datatype:"json",success:function(t){var i='<option value="0">'+n.selectRetailerLabel+"<\/option>";$.each(t,function(){i=i+'<option value="'+this.ID+'">'+this.Name+"<\/option>"}),$("#ddlRetailer").empty().append(i)}})}),$("#formSaveBookTestDrive").submit(function(n){n.preventDefault(),$.ajax({url:this.action,type:this.method,data:$(this).serialize(),success:function(n){if(n.success)$(".btn-primary").hide(),$("#fields").hide(),$("#ResultMsg").html(n.OnScreenMessage),$(".alert").removeClass("alert-danger").addClass("alert-success").show(),$("#DoubleClickFloodLight").html(n.TrackingIFrameURL);else{$("#ResultMsg").html();var t="";$.each(n.Errors,function(){t+="<li>"+this.Value+"<\/li>"}),$("#ResultMsg").html(t),$(".alert").show()}}})}),$("#formGeneralInquiry").submit(function(n){n.preventDefault(),$.ajax({url:this.action,type:this.method,data:$(this).serialize(),success:function(n){if(n.success)$(".btn-primary").hide(),$("#fields").hide(),$("#ResultMsgRetailerContact").html(n.OnScreenMessage),$(".alert").removeClass("alert-danger").addClass("alert-success").show(),$("#DoubleClickFloodLight").html(n.TrackingIFrameURL);else{$("#ResultMsgRetailerContact").html();var t="";$.each(n.Errors,function(){t+="<li>"+this.Value+"<\/li>"}),$("#ResultMsgRetailerContact").html(t),$(".alert").show()}}})}),$("#formServiceAppointment").submit(function(n){n.preventDefault(),$.ajax({url:this.action,type:this.method,data:$(this).serialize(),success:function(n){if(n.success)$("#ServiceAppResultMsg").html(n.OnScreenMessage),$(".btn-service-app").hide(),$(".alert").removeClass("alert-danger").addClass("alert-success").show(),$("#serviceAppointment .field").hide(),$("#DoubleClickFloodLight").html(n.TrackingIFrameURL);else{$("#ServiceAppResultMsg").html();var t="";$.each(n.Errors,function(){t+="<li>"+this.Value+"<\/li>"}),$("#ServiceAppResultMsg").html(t),$(".alert").show()}}})}),$("#formSubscribe").submit(function(n){alert("ss"),n.preventDefault(),$.ajax({url:this.action,type:this.method,data:$(this).serialize(),success:function(n){if(n.success)$("#Subscribe .btn-primary").hide(),$("#Subscribe #fields").hide(),$("#SubscribeResultMsg").html(n.OnScreenMessage),$("#Subscribe .alert").removeClass("alert-danger").addClass("alert-success").show(),alert(n.TrackingIFrameURL),$("#DoubleClickFloodLightSubscribe").html(n.TrackingIFrameURL);else{$("#SubscribeResultMsg").html();var t="";$.each(n.Errors,function(){t+="<li>"+this.Value+"<\/li>"}),$("#SubscribeResultMsg").html(t),$("#Subscribe .alert").show()}}})}),$("#formUnsubscribe").submit(function(n){n.preventDefault(),$.ajax({url:this.action,type:this.method,data:$(this).serialize(),success:function(n){if(n.success)$("#Unsubscribe .btn-primary").hide(),$("#Unsubscribe #fields").hide(),$("#UnsubscribeResultMsg").html(n.OnScreenMessage),$("#Unsubscribe .alert").removeClass("alert-danger").addClass("alert-success").show();else{$("#UnsubscribeResultMsg").html();var t="";$.each(n.Errors,function(){t+="<li>"+this.Value+"<\/li>"}),$("#UnsubscribeResultMsg").html(t),$("#Unsubscribe .alert").show()}}})})},$("#formSaveBuildAndPrice_BookTestDrive").submit(function(n){n.preventDefault(),$.ajax({url:this.action,type:this.method,data:$(this).serialize(),success:function(n){if(n.success)$("#fields").hide(),$("#ResultMsg").html(n.OnScreenMessage),$(".alert").removeClass("alert-danger").addClass("alert-success").show(),$("#fields").hide();else{$("#ResultMsg").html();var t="";$.each(n.Errors,function(){t+="<li>"+this.Value+"<\/li>"}),$("#ResultMsg").html(t),$(".alert").show()}}})});$("#BuildAndPriceTestDrive").on("show.bs.modal",function(n){var r=$(n.relatedTarget).closest("a").data("value"),i,t;r!=null&&$("#ddlVehicle").val(r),i=$(n.relatedtarget).closest("a").data("province-value"),i!=null&&$(this).find("#ddlProvince").val(i),$(this).find("#ddlProvince").val()!="null"&&$(this).find("#ddlProvince").attr("disabled","disabled"),t=$(n.relatedTarget).closest("a").data("retailer-number-value"),t==null&&(t=MINI.currentRetailer),t!=null&&t!=""&&($(this).find("#ddlRetailer").val(t),$(this).find("#ddlRetailer").attr("disabled","disabled"))});$("#formSaveBuildAndPrice_SendToReatiler").submit(function(n){n.preventDefault(),$.ajax({url:this.action,type:this.method,data:$(this).serialize(),success:function(n){if(n.success)$("#BuildAndSendToRetailer #fields").hide(),$("#ResultMsgSendToRetailer").html(n.OnScreenMessage),$(".alert").removeClass("alert-danger").addClass("alert-success").show();else{$("#ResultMsgSendToRetailer").html();var t="";$.each(n.Errors,function(){t+="<li>"+this.Value+"<\/li>"}),$("#ResultMsgSendToRetailer").html(t),$(".alert").show()}}})});$("#BuildAndSendToRetailer").on("show.bs.modal",function(n){var r=$(n.relatedTarget).closest("a").data("value"),i,t;r!=null&&$("#Vehicle").val(r),i=$(n.relatedtarget).closest("a").data("province-value"),i!=null&&$(this).find("#ddlProvince").val(i),$(this).find("#ddlProvince").val()!="null"&&$(this).find("#ddlProvince").attr("disabled","disabled"),t=$(n.relatedTarget).closest("a").data("retailer-number-value"),t==null&&(t=MINI.currentRetailer),t!=null&&t!=""&&($(this).find("#ddlRetailer").val(t),$(this).find("#ddlRetailer").attr("disabled","disabled"))})}.call(this),function(){var n=MINI.SpecialOffers=function(t){t||(t={}),_.defaults(t,n.defaultOpts),this.initialize.apply(this,arguments)},t;n.defaultOpts={},_.extend(n.prototype,{initialize:function(i){n.options=i;var r=new MINI.FloatingNav({containers:n.options.containers,navEl:"#specialoffer-nav"}),u=new MINI.InPageNav;return t(),this}}),t=function(){var i,t,r;for($(".palette-colours img, .palette-wheels img").popover({placement:"top"}),$(".vehicle-right #mini-config").stop(!0,!0).animate({opacity:0},0),$(".vehicle-right #mini-config").css({display:"block"}),setTimeout(function(){$(".vehicle-right #mini-config").stop(!0,!0).animate({opacity:1},500)},500),i=[{f:"R56",m:"1311",c:"A63",r:"2GD",container:"#holder-1311",parentHolder:"#specialoffer-1311"},{f:"R58",m:"14CA",c:"850",r:"2GH",container:"#holder-14CA",parentHolder:"#specialoffer-14CA"},{f:"R60",m:"14YC",c:"B60",r:"2GT",container:"#holder-14YC",parentHolder:"#specialoffer-14YC"},{f:"R59",m:"14RA",c:"B22",r:"2GH",container:"#holder-14RA",parentHolder:"#specialoffer-14RA"},{f:"R60",m:"14YA",c:"A48",r:"2GP",container:"#holder-14YA",parentHolder:"#specialoffer-14YA"},{f:"R89",m:"1410K",c:"850",r:"2GB",container:"#holder-1410K",parentHolder:"#specialoffer-1410K"},{f:"R56",m:"1310",c:"850",r:"2GC",container:"#holder-1310",parentHolder:"#specialoffer-1310"},{f:"R89",m:"1414K",c:"850",r:"2GB",container:"#holder-1414K",parentHolder:"#specialoffer-1414K"},{f:"F56",m:"14HA",c:"B83",r:"2F1",container:"#holder-14HA",parentHolder:"#specialoffer-14HA"},{f:"F56",m:"14HB",c:"B70",r:"2B0",container:"#holder-14HB",parentHolder:"#specialoffer-14HB"}],t=0;t<i.length;t++)r=new MINI.Visualizer(i[t].parentHolder,i[t].container,".box",i[t].f,i[t].m,i[t].c,i[t].r,!1,n.options.lang),r.loadFirstImage(),r.setButtonEvent()}}.call(this),function(n,t){"use strict";var f=t.Carousel=t.Carousel||function(){var t=[],f=5e3,r,i=0,s=0,h=0,o=function(){var c=new MINI.ConfigLauncher,s=-1,o,h;n(".mini-carousel").each(function(){s++;var i='<div class="carousel-btn" id="btn-'+s+'"><\/div>';n("#carousel-buttons").append(i),s==0&&n(".carousel-btn").addClass("btn-selected"),t.push(n(this).attr("id"))}),o=n("#"+t[0]).clone(),h=n("#"+t[0]).css("background-image"),o.attr("id",t[0]),o.attr("id",t[0]).css({"background-image":h}),t.push(t[0]+"-1"),n("#mini-carousel-wrapper").append(o);n("#mini-carousel-holder").on("mouseover",function(){clearTimeout(r)});n("#mini-carousel-holder").on("mouseleave",function(){r=setTimeout(function(){u()},f)});n(".carousel-btn").on("click",function(){var t=n(this).attr("id").split("btn-")[1];i=t,u(),n(".carousel-btn").removeClass("btn-selected"),n(this).addClass("btn-selected")});u()},u=function(){var s=-Math.abs(i*1600),o;for(i>t.length-1&&(i=0),i==t.length-1?n("#mini-carousel-wrapper").stop(!0,!0).animate({left:s},{duration:1e3,complete:function(){i=0,e(),n("#"+t[0]).find(".banner-box").animate({left:"1200px",opacity:0},{duration:1}),n("#"+t[0]).find(".copy-box").animate({opacity:0},{duration:1}),n("#"+t[0]).find(".price-point").animate({"margin-left":"800px",opacity:0},{duration:1}),n("#"+t[0]).find("#car-over").animate({"margin-left":"-500px",opacity:0},{duration:1}),n("#"+t[0]).find(".banner-box").animate({left:"0px",opacity:1},{duration:1,complete:function(){n("#mini-carousel-wrapper").css({left:"0px"})}}),n("#"+t[0]).find(".copy-box").animate({opacity:1},{duration:1}),n("#"+t[0]).find(".price-point").animate({"margin-left":"0px",opacity:1},{duration:1}),n("#"+t[0]).find("#car-over").animate({"margin-left":"0px",opacity:1},{duration:1})}}):n("#mini-carousel-wrapper").stop(!0,!0).animate({left:s},{duration:1e3}),e(),o=0;o<t.length;o++)i==o?(n("#"+t[o]).find(".banner-box").stop().animate({left:"0px",opacity:1},{duration:1e3,easing:"easeInOutBack"}),n("#"+t[o]).find(".copy-box").stop().animate({opacity:1},{duration:200}),n("#"+t[o]).find(".price-point").stop().delay(300).animate({"margin-left":"0px",opacity:1},{duration:1e3,easing:"easeInOutBack"}),n("#"+t[o]).find("#car-over").stop().animate({"margin-left":"0px",opacity:1},{duration:1e3,easing:"easeInOutBack"})):(n("#"+t[o]).find(".banner-box").animate({left:"1200px",opacity:0},{duration:2400,easing:"linear"}),n("#"+t[o]).find(".copy-box").animate({opacity:0},{duration:1200}),n("#"+t[o]).find(".price-point").animate({"margin-left":"800px",opacity:0},{duration:1e3,easing:"easeInOutBack"}),n("#"+t[o]).find("#car-over").animate({"margin-left":"-500px",opacity:0},{duration:1e3,easing:"easeInOutBack"}));clearTimeout(r),r=setTimeout(function(){i++,u()},f)},e=function(){var t=-1;n(".carousel-btn").each(function(){t++,t==i?n(this).addClass("btn-selected"):n(this).removeClass("btn-selected")})};return{init:o}}();return{Carousel:f}}(jQuery,window._mini=window._mini||{},window,document),function(){var n=MINI.RetailerContact=function(n){this.options=n,this.initialize.apply(this,n)};_.extend(n.prototype,{initialize:function(){var t={center:new google.maps.LatLng(this.options.lat,this.options.lng),zoom:14},i=new google.maps.Map(document.getElementById("map"),t),r=new google.maps.Marker({position:new google.maps.LatLng(this.options.lat,this.options.lng),icon:{url:"/Public/img/find-retailer/single-retailer.png",size:new google.maps.Size(50,52)}});return r.setMap(i),this}})}.call(this),function(){function t(){return}function f(u){$("#ProvinceCheckboxList input").each(function(){for(var t=u.split(","),n=0,n=t.length;n<length;n++)$(this).attr("checked",!0)}),u==""&&(u=r),$.ajax({url:"/en/Next/GetJsonRetailerByProvince",type:"POST",data:{provinceFilter:u},datatype:"html",success:function(r){$("#ReatailerCheckboxList").html(r);var u=[];$("#ReatailerCheckboxList input").each(function(){$(this).attr("checked",!0)}),$("#ReatailerCheckboxList input:checked").each(function(){u.push(this.id)}),$.cookie("FILTER_RETAILER",u),n>0&&$.cookie("FILTER_RETAILER",n),i(1),$("#ReatailerCheckboxList input").change(function(){var r=[];$("#ReatailerCheckboxList input:checked").each(function(){r.push(this.id)}),$.cookie("FILTER_RETAILER",r),n>0&&$.cookie("FILTER_RETAILER",n),i(1),t()}),t()}})}function i(n){if($.cookie("FILTER_MODEL")==null&&$.cookie("FILTER_VEHICLE")==null){e();return}$.ajax({url:"/en/Next/FilterVehicleListResult",type:"POST",data:{vehicleFilter:$.cookie("FILTER_VEHICLE"),yearFilter:$.cookie("FILTER_YEAR"),priceRangeFilter:$.cookie("FILTER_PRICE"),kmFilter:$.cookie("FILTER_KILOMETER"),colourFilter:$.cookie("FILTER_COLOUR"),retailerFilter:$.cookie("FILTER_RETAILER"),provinceFilter:$.cookie("FILTER_PROVINCE"),transmissionFilter:$.cookie("FILTER_TRANSMISSION"),cp:n},datatype:"html",success:function(n){$("#ListResult").html(n),$("#filter-box-left").show(),$("#filter-box-right").removeClass("filter-box-right-full").addClass("filter-box-right")}})}function e(){$.ajax({url:"/en/Next/ShowSummaryAjax",type:"POST",data:{RetailerID:n},datatype:"html",success:function(n){$("#ListResult").html(n),$("#filter-box-left").hide(),$("#filter-box-left").addClass("zeroWidth"),$("#filter-box-right").addClass("filter-box-right-full")}})}function o(){if(l(),$.cookie("FILTER_MODEL")==null&&$.cookie("FILTER_VEHICLE")==null){e();return}$("#filter-box-right").removeClass("filter-box-right-full").addClass("filter-box-right"),$("#filter-box-left").removeClass("zeroWidth");var n=[];$("#VehicleCheckboxList input:checked").each(function(){n.push(this.id)}),$.cookie("FILTER_VEHICLE",n),$("#FILTER_VEHICLE").text("VEHICLE: "+$.cookie("FILTER_VEHICLE")),i(1),t()}function u(n,t,i){$header=n,$content=t,$content.slideToggle(200,function(){$header.text(function(){var n="";n=$content.is(":visible")?"icon-minus":"icon-plus",$header.html('<i class="'+n+'"><\/i><span>'+i+"<\/span>")})})}function c(){$.removeCookie("FILTER_MODEL"),$.removeCookie("FILTER_VEHICLE"),e(),$("html, body").animate({scrollTop:540},"slow")}function l(){$("#ListResult").html("<h3>"+h+"<\/h3>")}function y(){$("#YearCheckboxList input").each(function(){$("#YearCheckboxList .count-year-"+this.id).html(0)}),$.ajax({url:"/en/Next/GetCountsForFilter",type:"POST",data:{filterName:"YEAR"},datatype:"json",success:function(n){var t=[],i=[];$.each(n,function(){$("#YearCheckboxList .count-year-"+this.FilterAttribute).html(this.Count)})}})}function a(){$("#TransmissionCheckboxList input").each(function(){$(this).attr("checked",!1)}),$("#YearCheckboxList input:checked").each(function(){$(this).attr("checked",!1)}),$("#PriceRangeCheckboxList input:checked").each(function(){$(this).attr("checked",!1)}),$("#KilometerCheckboxList input:checked").each(function(){$(this).attr("checked",!1)}),$("#ColourCheckboxList input:checked").each(function(){$(this).attr("checked",!1)}),$("#ProvinceCheckboxList input").each(function(){this.id==r?$(this).attr("checked",!0):$(this).attr("checked",!1)}),f(r)}var n,r,h,s=MINI.MININext=function(n){n||(n={}),_.defaults(n,s.defaultOpts),this.initialize.apply(this,arguments)},v;s.defaultOpts={},_.extend(s.prototype,{initialize:function(t){$(".next-request-info-form").on("hidden.bs.modal",function(){$(".alert").hide()});t!=null&&t.RetailerID&&(n=t.RetailerID),h=t.LoadingText,t!=null&&t.DefaultProvince&&(r=t.DefaultProvince,$.cookie("FILTER_PROVINCE")==null&&($.cookie("FILTER_PROVINCE",r),$("#ProvinceCheckboxList input").each(function(){this.id==r?$(this).attr("checked",!0):$(this).attr("checked",!1)})),f($.cookie("FILTER_PROVINCE")));var i=$(location).attr("href").split("#")[1];return i=="newsearch"&&c(),i=="next-main"&&$("html, body").animate({scrollTop:540},"slow"),v(),this}}),v=function(){$(function(){$("#checkAllProvince").change(function(){$("#checkAllProvince").is(":checked")?$("#ProvinceCheckboxList input").each(function(){$(this).attr("checked",!0)}):$("#ProvinceCheckboxList input").each(function(){$(this).attr("checked",!1)}),i(1)}),n>0&&($.cookie("FILTER_RETAILER",n),$(".retailer-filter-box").hide(),$(".province-filter-box").hide()),$("#YearCheckboxList").slideToggle(200,function(){}),$("#PriceRangeCheckboxList").slideToggle(200,function(){}),$("#KilometerCheckboxList").slideToggle(200,function(){}),$("#ColourCheckboxList").slideToggle(200,function(){}),$("#ReatailerCheckboxList").slideToggle(200,function(){}),$("#ProvinceCheckboxList").slideToggle(200,function(){}),$("#TransmissionCheckboxList").slideToggle(200,function(){}),$.cookie("FILTER_YEAR")!=null&&$.cookie("FILTER_YEAR")!=""&&$("#YearCheckboxList").slideToggle(200,function(){}),$.cookie("FILTER_PRICE")!=null&&$.cookie("FILTER_PRICE")!=""&&$("#PriceRangeCheckboxList").slideToggle(200,function(){}),$.cookie("FILTER_KILOMETER")!=null&&$.cookie("FILTER_KILOMETER")!=""&&$("#KilometerCheckboxList").slideToggle(200,function(){}),$.cookie("FILTER_COLOUR")!=null&&$.cookie("FILTER_COLOUR")!=""&&$("#ColourCheckboxList").slideToggle(200,function(){});$(this).on("click",".btn-show-all-car",function(){var u=[];$("#ProvinceCheckboxList input").each(function(){this.id.length>0&&u.push(this.id),$(this).attr("checked",!0)}),$.cookie("FILTER_PROVINCE",u),t(),$.ajax({url:"/en/Next/GetJsonRetailerByProvince",type:"POST",data:{provinceFilter:$.cookie("FILTER_PROVINCE")},datatype:"html",success:function(r){$("#ReatailerCheckboxList").html(r);var u=[];$("#ReatailerCheckboxList input").each(function(){$(this).attr("checked",!0)}),$("#ReatailerCheckboxList input:checked").each(function(){u.push(this.id)}),$.cookie("FILTER_RETAILER",u),n>0&&$.cookie("FILTER_RETAILER",n),i(1),t(),$("#ReatailerCheckboxList input").change(function(){var r=[];$("#ReatailerCheckboxList input:checked").each(function(){r.push(this.id)}),$.cookie("FILTER_RETAILER",r),n>0&&$.cookie("FILTER_RETAILER",n),i(1),t()})}}),$("#ProvinceCheckboxList input").each(function(){this.id.length>0&&u.push(this.id),$(this).attr("checked",!0)})});$(this).on("click",".btn-filter-vehicle-year",function(){u($(this),$("#YearCheckboxList"),$(this).find($("span")).html()),y()});$(this).on("click",".btn-filter-price-range",function(){u($(this),$("#PriceRangeCheckboxList"),$(this).find($("span")).html())});$(this).on("click",".btn-filter-kilometer",function(){u($(this),$("#KilometerCheckboxList"),$(this).find($("span")).html())});$(this).on("click",".btn-filter-colour",function(){u($(this),$("#ColourCheckboxList"),$(this).find($("span")).html())});$(this).on("click",".btn-filter-retailer",function(){u($(this),$("#ReatailerCheckboxList"),$(this).find($("span")).html())});$(this).on("click",".btn-filter-province",function(){u($(this),$("#ProvinceCheckboxList"),$(this).find($("span")).html())});$(this).on("click",".btn-filter-transmission",function(){u($(this),$("#TransmissionCheckboxList"),$(this).find($("span")).html())});$(this).on("click","#btn-new-search",function(){$.removeCookie("FILTER_MODEL"),$.removeCookie("FILTER_VEHICLE"),$.removeCookie("FILTER_YEAR"),$.removeCookie("FILTER_PRICE"),$.removeCookie("FILTER_KILOMETER"),$.removeCookie("FILTER_COLOUR"),$.removeCookie("FILTER_RETAILER"),$.removeCookie("FILTER_TRANSMISSION"),$.cookie("FILTER_PROVINCE",r),a(),f(r),e(),t(),$("#YearCheckboxList").slideUp(200,function(){}),$("#PriceRangeCheckboxList").slideUp(200,function(){}),$("#KilometerCheckboxList").slideUp(200,function(){}),$("#ColourCheckboxList").slideUp(200,function(){}),$("#ReatailerCheckboxList").slideUp(200,function(){}),$("#ProvinceCheckboxList").slideUp(200,function(){}),$("#TransmissionCheckboxList").slideUp(200,function(){})});$(this).on("click","#btn-new-search-detail",function(){c()});$(this).on("click","#btn-clear",function(){$.removeCookie("FILTER_YEAR"),$.removeCookie("FILTER_PRICE"),$.removeCookie("FILTER_KILOMETER"),$.removeCookie("FILTER_COLOUR"),$.removeCookie("FILTER_RETAILER"),$.removeCookie("FILTER_TRANSMISSION"),$.cookie("FILTER_PROVINCE",r),n>0&&$.cookie("FILTER_RETAILER",n),a(),$("#VehicleCheckboxList").html(""),i(1),t()});$(this).on("click",".vehicle-summary-click",function(){var n=$(this).attr("data-model-name"),r=$(this).attr("data-vehicle-name");$.cookie("FILTER_MODEL",n),$.cookie("FILTER_VEHICLE",r),$("#ModelCheckboxList input").each(function(){$(this).removeAttr("checked"),this.id==n?$(this).attr("checked",!0):$(this).attr("checked",!1)}),$.ajax({url:"/en/Next/GetJsonModelsByFamily",type:"POST",data:{familyName:$.cookie("FILTER_MODEL")},datatype:"html",success:function(n){$("#VehicleCheckboxList").html(n),$("#VehicleCheckboxList input").each(function(){this.id==r?$(this).attr("checked",!0):$(this).attr("checked",!1)}),o()}}),t(),i(1)});$(this).on("click",".viewall-summary-click",function(){var n=$(this).attr("data-model-name");$("#ModelCheckboxList input").each(function(){this.id==n?$(this).attr("checked",!0):$(this).attr("checked",!1)}),$.cookie("FILTER_MODEL",n),$.ajax({url:"/en/Next/GetJsonModelsByFamily",type:"POST",data:{familyName:$.cookie("FILTER_MODEL")},datatype:"html",success:function(n){$("#VehicleCheckboxList").html(n),o()}}),t()});$(this).on("click",".page-number",function(){var t=$(this).attr("data-paging-value");l(),i(t),$("html, body").animate({scrollTop:780},"slow")});$("#ModelCheckboxList input").change(function(){var n=[];$("#ModelCheckboxList input:checked").each(function(){n.push(this.id)}),$.cookie("FILTER_MODEL",n),$("#FILTER_MODEL").text("MODEL: "+$.cookie("FILTER_MODEL")),t(),$.ajax({url:"/en/Next/GetJsonModelsByFamily",type:"POST",data:{familyName:$.cookie("FILTER_MODEL")},datatype:"html",success:function(n){$("#VehicleCheckboxList").html(n),o()}})});$(this).on("change","#VehicleCheckboxList input",function(){o()});$("#YearCheckboxList input").change(function(){var n=[];$("#YearCheckboxList input:checked").each(function(){n.push(this.id)}),$.cookie("FILTER_YEAR",n),i(1),t()}),$("#PriceRangeCheckboxList input").change(function(){var n=[];$("#PriceRangeCheckboxList input:checked").each(function(){n.push(this.id)}),$.cookie("FILTER_PRICE",n.join(";")),i(1),t()}),$("#KilometerCheckboxList input").change(function(){var n=[];$("#KilometerCheckboxList input:checked").each(function(){n.push(this.id)}),$.cookie("FILTER_KILOMETER",n),i(1),t()}),$("#ColourCheckboxList input").change(function(){var n=[];$("#ColourCheckboxList input:checked").each(function(){n.push(this.id)}),$.cookie("FILTER_COLOUR",n),i(1),t()}),$("#ReatailerCheckboxList input").change(function(){var r=[];$("#ReatailerCheckboxList input:checked").each(function(){r.push(this.id)}),$.cookie("FILTER_RETAILER",r),n>0&&$.cookie("FILTER_RETAILER",n),i(1),t()}),$("#ProvinceCheckboxList input").change(function(){var n=[];$("#ProvinceCheckboxList input:checked").each(function(){n.push(this.id)}),$.cookie("FILTER_PROVINCE",n),f($.cookie("FILTER_PROVINCE"))})}),$("#TransmissionCheckboxList input").change(function(){var n=[];$("#TransmissionCheckboxList input:checked").each(function(){(this.id=="Automatique"||this.id=="Automatic")&&n.push("Automatic"),(this.id=="Manuelle"||this.id=="Manual")&&n.push("Manual")}),$.cookie("FILTER_TRANSMISSION",n),i(1),t()}),$("#formSavePreownedLocator").submit(function(){return $("#VIN").attr("disabled",!1),$.ajax({url:this.action,type:this.method,data:$(this).serialize(),success:function(n){if(n.success)$("#form-RequestForMoreInformation .btn-primary").hide(),$("#fields").hide(),$("#ResultMsg").html(n.OnScreenMessage),$(".alert").removeClass("alert-danger").addClass("alert-success").show(),$("#DoubleClickFloodLight").html(n.TrackingIFrameURL);else{$("#ResultMsg").html();var t="";$.each(n.Errors,function(){t+="<li>"+this.Value+"<\/li>"}),$("#ResultMsg").html(t),$(".alert").show()}}}),!1});$(document).on("click",".btn-request-more-details",function(){var n=$(this).data("id");$(".modal-body #VIN").val(n),$(".alert").hide()})}}.call(this),function(){var n=MINI.MINIFleet=function(t){t||(t={}),_.defaults(t,n.defaultOpts),this.initialize.apply(this,arguments)},t;n.defaultOpts={},_.extend(n.prototype,{initialize:function(i){return _.defaults(n.defaultOpts,i),t(),this}}),t=function(){$("#formSaveFleetForm").submit(function(){return $.ajax({url:this.action,type:this.method,data:$(this).serialize(),success:function(n){if(n.success)$("#ResultMsg").html(""),$(".btn-primary").hide(),$("#fields").hide(),$("#ResultMsg").html(n.OnScreenMessage),$(".alert").removeClass("alert-danger").addClass("alert-success").show(),$("#DoubleClickFloodLight").html(n.TrackingIFrameURL);else{$("#ResultMsg").html();var t="";$.each(n.Errors,function(){t+="<li>"+this.Value+"<\/li>"}),$("#ResultMsg").html(t),$(".alert").show()}}}),!1})}}.call(this),function(){"use strict";var n=MINI.Visualizer=function(){function n(n,t,i,r,u,f,e,o,s){this.parentH=n||"",this.container=t||"",this.box=i||"",this.familyID=r||"",this.modelID=u||"",this.color=f||"",this.rim=e||"",this.loaded=o||"",this.that=this||this,this.currentPosition=18,this.frameWidth=990,this.lastX=0,this.finishTime="",this.startTime="",this.animateInterval="",this.startFrame=0,this.FRAME_RATE=60,this.FRAME=33,this.TIME=1e3,this.spinningToPos=!1,this.language=s||"en"}return n.prototype={setColor:function(n){this.color=n},setRim:function(n){this.rim=n},setLoaded:function(n){this.loaded=n},getContainer:function(){return this.container},getParent:function(){return this.parentH},getColor:function(){return this.color},getRim:function(){return this.rim},getBox:function(){return this.box},getFamily:function(){return this.familyID},getCurrentPosition:function(){return this.currentPosition},loadFirstImage:function(){var n=this,i,t;for(n.killEvents(this.container),this.loaded=!1,i=[{id:"S49",cosy:"B49"},{id:"S62",cosy:"A62"},{id:"S94",cosy:"A94"},{id:"K62",cosy:"A62"},{id:"K94",cosy:"A94"}],t=0;t<i.length;t++)this.color==i[t].id&&(this.color=i[t].cosy);this.modelID!="14RA"&&(this.rim=="2GSB"&&(this.rim="2GS"),this.rim=="2RUS"&&(this.rim="2RU"));var r=this.color+"_"+this.rim+"_0",u="?v="+Math.random()*999+"_"+Math.random()*999,f="/Public/img/v/"+this.familyID+"/"+this.modelID+"/"+r+".png"+u,e='<img class="sprite" src="'+f+'" />';$(e).load(function(){$(n.getContainer()).css({left:"0px"}),$(n.getContainer()).html(""),$(n.getContainer()).append($(this)),n.getFamily()!=="R99"&&n.setBoxColor(n.getColor())})},setButtonEvent:function(){var n=this,t=n.getParent();$(t).find("#colours img").on("click",function(){var t=$(this).attr("src")+"",i=t.split("/Public/img/v/ico/colour/"),r=i[1].split(".png?v=");n.setColor(r[0]),n.loadFirstImage()});$(t).find("#wheels img").on("click",function(){var t=$(this).attr("src")+"",i=t.split("/Public/img/v/ico/wheel/"),r=i[1].split(".png?v=");n.setRim(r[0]),n.loadFirstImage()});$(t).find("#rotate a").on("click",function(t){t.preventDefault(),n.loaded==!1&&($(n.getParent()).prepend('<div class="loader"><div class="loader-mask"><img src="/Public/img/loading-'+n.language+'.gif"/><\/div><\/div>'),$(n.getParent()).loadImages(function(){$(n.getContainer()).css({cursor:"url(/Public/img/pointer.png), auto"})})),n.load360Images()})},setBoxColor:function(n){var u=this,r=[{id:"850",color:"dcdace"},{id:"851",color:"d51314"},{id:"A62",color:"b8b7b2"},{id:"A63",color:"052558"},{id:"A94",color:"000000"},{id:"B22",color:"101c12"},{id:"B23",color:"77200d"},{id:"B24",color:"404040"},{id:"B48",color:"426086"},{id:"B62",color:"36538d"},{id:"B15",color:"dcdace"},{id:"A48",color:"2e2d2b"},{id:"B11",color:"000000"},{id:"B12",color:"aeaeac"},{id:"B26",color:"101c12"},{id:"B14",color:"1c3b71"},{id:"B28",color:"8e9e9e"},{id:"B49",color:"231917"},{id:"B19",color:"574a44"},{id:"B63",color:"881415"},{id:"B60",color:"6a352d"},{id:"B43",color:"353d4a"},{id:"S49",color:"231917"},{id:"S62",color:"b8b7b2"},{id:"S94",color:"000000"},{id:"K62",color:"b8b7b2"},{id:"K94",color:"000000"},{id:"F56",color:"DB841C"},{id:"B83",color:"a51c1e"},{id:"B70",color:"a35912"}],e=["A94","B11","S94","K94"],f,t,i;for(_.indexOf(e,n)>-1&&(n="850"),f=$(u.getParent()).find(u.getBox()),t=0;t<r.length;t++)n==r[t].id&&(i="#"+r[t].color,$(f).animate({borderTopColor:i,borderLeftColor:i,borderRightColor:i,borderBottomColor:i}))},load360Images:function(){for(var i=this,r=[{id:"S49",cosy:"B49"},{id:"S62",cosy:"A62"},{id:"S94",cosy:"A94"},{id:"K62",cosy:"A62"},{id:"K94",cosy:"A94"}],t,s,n=0;n<r.length;n++)this.color==r[n].id&&(this.color=r[n].cosy);if(this.modelID!="14RA"&&(this.rim=="2GSB"&&(this.rim="2GS"),this.rim=="2RUS"&&(this.rim="2RU")),this.loaded==!1){for(t=0,n=0;n<17;n++){t++,t>17&&(t=0);var u=this.color+"_"+this.rim+"_"+t,f="?v="+Math.random()*999+"_"+Math.random()*999,e="/Public/img/v/"+this.familyID+"/"+this.modelID+"/"+u+".png"+f,o='<img class="sprite spinner" src="'+e+'" />';$(this.container).append(o)}s=0,$(this.container).loadImages(function(){},function(n,t){var u=n/t*100,r=Math.round(u),f=r-100;r==100&&($(".loader").remove(),i.loaded=!0,i.carEvents(i.getContainer()))})}else i.animateToFrame(0,1e3)},carEvents:function(){var n=this;$(n.getContainer()).bind("mousedown",function(t){t.preventDefault();var i=t.pageX;n.updateCursor("down"),n.mouseIsDown(i)}),$(n.getContainer()).bind("mouseup",function(t){t.preventDefault(),n.updateCursor("up"),$(n.getContainer()).unbind("mousemove")}),$(n.getContainer()).bind("mouseleave",function(t){t.preventDefault(),$(n.getContainer()).unbind("mousemove")})},killEvents:function(){var n=this;$(n.getContainer()).css({cursor:"auto"}),$(n.getContainer()).unbind("mousedown"),$(n.getContainer()).unbind("mouseup"),$(n.getContainer()).unbind("mousemove"),$(n.getContainer()).unbind("mouseleave")},mouseIsDown:function(n){var t=this;$(t.getContainer()).on("mousemove",function(i){t.draggingCar(n,i.pageX)})},draw:function(){var u=this,t=18,n,i,r;n=this.currentPosition>=t?this.currentPosition-t:this.currentPosition,i=Math.floor(n),r=-(i*this.frameWidth)+"px",$(u.getContainer()).css({left:r})},draw1Frame:function(n,t){var r=18,i,u,f;i=n.currentPosition>=r?n.currentPosition-r:n.currentPosition,u=Math.floor(i),f=-(u*n.frameWidth)+"px",$(t).css({left:f})},draggingCar:function(n,t){var i=this;this.lastX>t&&i.rotateLeft(t),this.lastX<t&&i.rotateRight(),this.lastX=t},rotateLeft:function(){var t=this;this.currentPosition+=.2,this.currentPosition>17&&(this.currentPosition=1),t.draw()},rotateRight:function(){var n=this;this.currentPosition-=.2,this.currentPosition<1&&(this.currentPosition=18),n.draw()},animateAFrame:function(n,t,i,r,u){if(+new Date>i.finishTime){clearInterval(i.animateInterval),r(i,i.container),n>i.currentPosition?i.currentPosition=n-18:(i.currentPosition=18,i.spinningToPos=!1);return}i.currentPosition=Math.round(u(+new Date-i.startTime,i.startFrame,n-i.startFrame,i.TIME)),r(i,i.container)},quadEaseIn:function(n,t,i,r){return(n/=r/2)<1?i/2*n*n+t:-i/2*(--n*(n-2)-1)+t},animateToFrame:function(n,t){var i=this;this.finishTime=+new Date+t,this.startTime=+new Date,this.startFrame=this.currentPosition,this.animateInterval=setInterval(i.animateAFrame,i.FRAME_RATE,n,t,i,i.draw1Frame,i.quadEaseIn),this.spinningToPos=!0},reset:function(){this.currentPosition=0},updateCursor:function(){var t=this;this.upDown=="down"&&$(t.getContainer()).css({cursor:"url(/Public/img/pointer-drag.png), auto"}),this.upDown=="up"&&$(t.getContainer()).css({cursor:"url(/Public/img/pointer.png), auto"})}},n}()}.call(this),function(){var n=MINI.MINIContact=function(n){this.options=n,this.initialize.apply(this,n)};_.extend(n.prototype,{initialize:function(){var t={center:new google.maps.LatLng(this.options.lat,this.options.lng),zoom:14},i=new google.maps.Map(document.getElementById("map"),t),r=new google.maps.Marker({position:new google.maps.LatLng(this.options.lat,this.options.lng),icon:{url:"/Public/img/find-retailer/single-retailer.png",size:new google.maps.Size(50,52)}});return r.setMap(i),this}})}.call(this),function(n,t){"use strict";var f=t.Filter=t.Filter||function(){var t=[],c=[],u=[],f=[],e=[],o=[],l=[],i="All",v=[],s="en",y=[],g=function(r,a,p){var w,b,k,g;for(s=p,v=a,t=r,w=0;w<t.Models.length;w++)t.Models[w].ECode=="F56"&&(y.push(t.Models[w]),t.Models.splice(w,1));for(b=0;b<t.Models.length;b++)t.Models[b].ECode=="R56"&&(t.Models[b].Vehicles.push(y[0].Vehicles[0]),t.Models[b].Vehicles.push(y[0].Vehicles[1]));k=new MINI.ModelFilterDataManager(t),c=k.getPriceRange(),u=k.getAutoAccelRange(),f=k.getOutputRange(),e=k.getConsumptionRange(),o=k.getLuggageRange();var rt=Math.round(c[0]),ut=Math.round(c[1]),ft=new MINI.Slider(rt,ut,!0,[rt,ut],"#vehicle-price-slider",s);ft.buildPriceSlider();var et=Math.round(f[0]),ot=Math.round(f[1]),st=new MINI.Slider(et,ot,!0,[et,ot],"#vehicle-output-slider",s);st.buildOutputSlider();var ht=u[0],ct=u[1],lt=new MINI.Slider(ht,ct,!0,[ht,ct],"#vehicle-acceleration-slider",s);lt.buildAccelSlider();var at=e[0],vt=e[1],yt=new MINI.Slider(at,vt,!0,[at,vt],"#vehicle-fuel-slider",s);yt.buildConsumptionSlider();var pt=o[0],wt=o[1],bt=new MINI.Slider(pt,wt,!0,[pt,wt],"#vehicle-luggage-slider",s);bt.buildGenericSlider();n("#page-view-selectors img").on("click",function(){var t=n(this).data("id");t=="blockView"&&(n("#vehicle-display-wrapper-block-view").show(),n("#vehicle-display-wrapper-list-view").hide(),n("#block-view-btn").attr("src","/Public/img/content/model-filter/box-icon-on.png"),n("#list-view-btn").attr("src","/Public/img/content/model-filter/list-icon.png"),d("All"),h()),t=="listView"&&(n("#vehicle-display-wrapper-block-view").hide(),n("#vehicle-display-wrapper-list-view").show(),n("#block-view-btn").attr("src","/Public/img/content/model-filter/box-icon.png"),n("#list-view-btn").attr("src","/Public/img/content/model-filter/list-icon-on.png"),h())});it(),g=new MINI.ModelFilterCheckBoxManager("",""),l=g.getCheckValues();n(".compare-button").on("click",function(){var n=tt(g.getCompareItems(),JSON.stringify);n.length==0&&(n=g.getCompareItems()),nt(n)});n("#page-view-selectors #reset-btn").on("mouseover",function(){n("#reset-btn-img").attr("src","/Public/img/content/model-filter/reset-on.png")});n("#page-view-selectors #reset-btn").on("mouseout",function(){n("#reset-btn-img").attr("src","/Public/img/content/model-filter/reset.png")});n("#page-view-selectors #reset-btn, #full-range").on("click",function(){i="All",g.resetCheckValues(),n(".family-group").find(".check-mark").hide(),n(".compare-button").fadeOut(),l=g.getCheckValues(),ft.resetSlider(),st.resetSlider(),lt.resetSlider(),yt.resetSlider(),bt.resetSlider(),h()});n("#page-view-selectors img").popover({placement:"top"})},nt=function(i){for(var o=[],u,f,s,h,r=0;r<t.Models.length;r++)for(u=0;u<t.Models[r].Vehicles.length;u++)for(n("#list-"+t.Models[r].ECode+"-"+t.Models[r].Vehicles[u].CACode).hide(),f=0;f<i.length;f++)if(i[f].familyID==t.Models[r].ECode&&i[f].modelID==t.Models[r].Vehicles[u].CACode){var v=Math.round(t.Models[r].Vehicles[u].ManualPrice),y=parseFloat(t.Models[r].Vehicles[u].EngineOutput),p=parseFloat(t.Models[r].Vehicles[u].ManualAcceleration),b=parseFloat(t.Models[r].Vehicles[u].ManualConsumption),k=parseFloat(t.Models[r].Vehicles[u].LuggageSpace),c=t.Models[r].Vehicles[u].IsAll4,l=t.Models[r].Vehicles[u].Is4Door,a=t.Models[r].Vehicles[u].IsTopless,e=t.Models[r].Vehicles[u].AutomaticPrice;e=e==null?!1:!0,o.push({isAuto:e,familyID:t.Models[r].ECode,Name:t.Models[r].Vehicles[u].Name,CACode:t.Models[r].Vehicles[u].CACode,is4Door:l,isTopless:a,isAllFour:c}),n("#list-"+t.Models[r].ECode+"-"+i[f].modelID).show(),s=n("#list-"+t.Models[r].ECode+"-"+t.Models[r].Vehicles[u].CACode).find(".manual-data").find(".check-mark"),h=n("#list-"+t.Models[r].ECode+"-"+t.Models[r].Vehicles[u].CACode).find(".auto-data").find(".check-mark"),n(s).is(":visible")?n("#list-"+t.Models[r].ECode+"-"+t.Models[r].Vehicles[u].CACode).find(".manual-data").animate({opacity:1}):n("#list-"+t.Models[r].ECode+"-"+t.Models[r].Vehicles[u].CACode).find(".manual-data").animate({opacity:.2}),n(h).is(":visible")?n("#list-"+t.Models[r].ECode+"-"+t.Models[r].Vehicles[u].CACode).find(".auto-data").animate({opacity:1}):n("#list-"+t.Models[r].ECode+"-"+t.Models[r].Vehicles[u].CACode).find(".auto-data").animate({opacity:.2})}w(o)},tt=function(n,t){var i={};return n.filter(function(n){var r=t(n);return i[r]===1?0:i[r]=1})},it=function(){var r="",u,i;for(s=="fr"&&(r=p(23950," ")+" $"),s=="en"&&(r="$"+p(23950,",")),n("#full-range .block-price").append(r),u=new MINI.ModelFilterListView(t,v,s),i=0;i<t.Models.length;i++)if(t.Models[i].ECode!="F56")var f=rt(t.Models[i].ECode),e=_.find(t.Models[i].Vehicles[0].AllInclusivePricing,function(n){if(n.ProvinceShort==="QC")return n.FreightAndPDI}),o=new MINI.BlockItem(t,i,t.Models[i].Name,t.Models[i].Vehicles[0].ManualPrice,t.Models[i].ECode,f,e.FreightAndPDI,t.Models[i].Vehicles.length,t.Models[i].Tagline,v,s)},p=function(n,t){while(/(\d+)(\d{3})/.test(n.toString()))n=n.toString().replace(/(\d+)(\d{3})/,"$1"+t+"$2");return n},rt=function(n){for(var r="",i=0;i<t.Models.length;i++)n==t.Models[i].ECode&&(r=t.Models[i].Vehicles[0].CACode);return r},h=function(){var b=[],h=0,nt=t.Models.length,s;if(i=="All")for(h=0;h<nt;h++)for(s=0;s<t.Models[h].Vehicles.length;s++){var p=parseFloat(t.Models[h].Vehicles[s].ManualPrice),l=parseFloat(t.Models[h].Vehicles[s].EngineOutput),a=parseFloat(t.Models[h].Vehicles[s].ManualAcceleration),v=parseFloat(t.Models[h].Vehicles[s].ManualConsumption),y=parseFloat(t.Models[h].Vehicles[s].LuggageSpace),k=t.Models[h].Vehicles[s].IsAll4,d=t.Models[h].Vehicles[s].Is4Door,g=t.Models[h].Vehicles[s].IsTopless,w=t.Models[h].Vehicles[s].AutomaticPrice;w=!1,r("manual")==!1&&(n("#list-"+t.Models[h].ECode+"-"+t.Models[h].Vehicles[s].CACode).find(".auto-data").animate({opacity:1}),n("#list-"+t.Models[h].ECode+"-"+t.Models[h].Vehicles[s].CACode).find(".manual-data").animate({opacity:.2})),r("auto")==!1&&(n("#list-"+t.Models[h].ECode+"-"+t.Models[h].Vehicles[s].CACode).find(".manual-data").animate({opacity:1}),n("#list-"+t.Models[h].ECode+"-"+t.Models[h].Vehicles[s].CACode).find(".auto-data").animate({opacity:.2})),r("auto")==!0&&r("manual")==!0&&(n("#list-"+t.Models[h].ECode+"-"+t.Models[h].Vehicles[s].CACode).find(".auto-data").stop(!0,!0).animate({opacity:1}),n("#list-"+t.Models[h].ECode+"-"+t.Models[h].Vehicles[s].CACode).find(".manual-data").stop(!0,!0).animate({opacity:1})),isNaN(l)&&(l=f[0]),isNaN(a)&&(a=u[0]),isNaN(v)&&(v=e[0]),isNaN(y)&&(y=o[0]),p>=c[0]&&p<=c[1]&&l>=f[0]&&l<=f[1]&&a>=u[0]&&a<=u[1]&&v>=e[0]&&v<=e[1]&&y>=o[0]&&y<=o[1]?(n("#list-"+t.Models[h].ECode+"-"+t.Models[h].Vehicles[s].CACode).show(),b.push({isAuto:w,familyID:t.Models[h].ECode,Name:t.Models[h].Vehicles[s].Name,CACode:t.Models[h].Vehicles[s].CACode,is4Door:d,isTopless:g,isAllFour:k})):n("#list-"+t.Models[h].ECode+"-"+t.Models[h].Vehicles[s].CACode).hide()}else for(s=0;s<t.Models[i].Vehicles.length;s++){var p=Math.round(t.Models[i].Vehicles[s].ManualPrice),l=parseFloat(t.Models[i].Vehicles[s].EngineOutput),a=parseFloat(t.Models[i].Vehicles[s].ManualAcceleration),v=parseFloat(t.Models[i].Vehicles[s].ManualConsumption),y=parseFloat(t.Models[i].Vehicles[s].LuggageSpace),k=t.Models[i].Vehicles[s].IsAll4,d=t.Models[i].Vehicles[s].Is4Door,g=t.Models[i].Vehicles[s].IsTopless,w=t.Models[i].Vehicles[s].AutomaticPrice;w=!1,r("manual")==!1&&(n("#list-"+t.Models[i].ECode+"-"+t.Models[i].Vehicles[s].CACode).find(".auto-data").animate({opacity:1}),n("#list-"+t.Models[i].ECode+"-"+t.Models[i].Vehicles[s].CACode).find(".manual-data").animate({opacity:.2})),r("auto")==!1&&(n("#list-"+t.Models[i].ECode+"-"+t.Models[i].Vehicles[s].CACode).find(".manual-data").animate({opacity:1}),n("#list-"+t.Models[i].ECode+"-"+t.Models[i].Vehicles[s].CACode).find(".auto-data").animate({opacity:.2})),r("auto")==!0&&r("manual")==!0&&(n("#list-"+t.Models[i].ECode+"-"+t.Models[i].Vehicles[s].CACode).find(".auto-data").stop(!0,!0).animate({opacity:1}),n("#list-"+t.Models[i].ECode+"-"+t.Models[i].Vehicles[s].CACode).find(".manual-data").stop(!0,!0).animate({opacity:1})),isNaN(l)&&(l=f[0]),isNaN(a)&&(a=u[0]),isNaN(v)&&(v=e[0]),isNaN(y)&&(y=o[0]),p>=c[0]&&p<=c[1]&&l>=f[0]&&l<=f[1]&&a>=u[0]&&a<=u[1]&&v>=e[0]&&v<=e[1]&&y>=o[0]&&y<=o[1]?(n("#list-"+t.Models[i].ECode+"-"+t.Models[i].Vehicles[s].CACode).show(),b.push({isAuto:w,familyID:t.Models[i].ECode,Name:t.Models[i].Vehicles[s].Name,CACode:t.Models[i].Vehicles[s].CACode,is4Door:d,isTopless:g,isAllFour:k})):n("#list-"+t.Models[i].ECode+"-"+t.Models[i].Vehicles[s].CACode).hide()}ut(b)},r=function(n){var t=!1;return l[0][n]==!0&&(t=!0),t};Number.prototype.range=function(n,t){return this>=n&&this<=t};var ut=function(n){var t;if(r("topless")===!1&&r("hardtop")===!0)for(t=n.length-1;t>=0;t--)n[t].isTopless==!0&&n.splice(t,1);if(r("hardtop")===!1&&r("topless")===!0)for(t=n.length-1;t>=0;t--)n[t].isTopless==!1&&n.splice(t,1);if(r("topless")===!1&&r("hardtop")===!1&&(n=n),r("twoDoor")===!1&&r("fourDoor")===!0)for(t=n.length-1;t>=0;t--)n[t].is4Door==!1&&n.splice(t,1);if(r("fourDoor")===!1&&r("twoDoor")===!0)for(t=n.length-1;t>=0;t--)n[t].is4Door==!0&&n.splice(t,1);if(r("fourDoor")===!1&&r("twoDoor")===!1&&(n=n),r("twoWheel")===!1&&r("fourWheel")===!0)for(t=n.length-1;t>=0;t--)n[t].isAllFour==!1&&n.splice(t,1);if(r("fourWheel")===!1&&r("twoWheel")===!0)for(t=n.length-1;t>=0;t--)n[t].isAllFour==!0&&n.splice(t,1);if(r("fourWheel")===!1&&r("fourWheel")===!1&&(n=n),r("manual")===!1&&r("auto")===!0)for(t=n.length-1;t>=0;t--);if(r("auto")===!1&&r("manual")===!0)for(t=n.length-1;t>=0;t--)n[t].isAuto==!0&&n.splice(t,1);r("auto")===!1&&r("manual")===!1&&(n=n),w(n)},w=function(i){for(var f=[],u,r=0;r<t.Models.length;r++)n("#block-"+t.Models[r].ECode).find(".model-tally").html(" ( "+k(i,t.Models[r].ECode)+" )"),k(i,t.Models[r].ECode)==0?(u="#vehicle-display-wrapper-block-view #block-"+t.Models[r].ECode,f.push({div:u,type:!0,x:0,y:0}),n("#family-"+t.Models[r].ECode).hide()):(u="#vehicle-display-wrapper-block-view #block-"+t.Models[r].ECode,f.push({div:u,type:!1,x:0,y:0}),n("#family-"+t.Models[r].ECode).fadeIn());ft(f)},a=[],b=!0,ft=function(t){var i=[],u,o,f,e,r;for(n("#vehicle-display-wrapper-block-view .block-item").each(function(r){if(r<9){var f=n(this).position().top,e=n(this).position().left,o=t[r].div.split("#vehicle-display-wrapper-block-view #")[1];i.push({id:t[r].div,top:f,left:e,isZero:t[r].type})}}),u=0,o=0,a=[],f=0,e=0,r=0;r<i.length;r++)u++,u>4&&(u=0,f+=201),e=u*240,b?n(i[r].id).css({position:"absolute",top:f+"px",left:e+"px"}):n(i[r].id).css({position:"absolute"}),i[r].isZero?n(i[r].id).fadeOut():(n(i[r].id).delay(600).fadeIn(),a.push({id:i[r].id,top:f,left:e,isZero:i[r].isZero}));b=!1,a.length>0&&setTimeout(function(){et(a,i)},500)},et=function(t,i){for(var e=0,o=0,r=0,f=-1,u=0;u<t.length;u++)r++,r>4&&(r=0,e+=201),o=r*240,n(t[u].id).stop(!0,!0).animate({top:e+"px",left:o+"px"},{easing:"easeOutQuint",duration:500,complete:function(){f++,n(t[f].id).fadeIn(),f==t.length&&ot(i)}})},ot=function(t){for(var i=0;i<t.length;i++)n(t[i].id).css({position:"relative",top:"0px",left:"0px"})},k=function(n,t){for(var r=0,i=0;i<n.length;i++)n[i].familyID==t&&r++;return r},st=function(n){c=n,h()},ht=function(n){f=n,h()},ct=function(n){u=n,h()},lt=function(n){e=n,h()},at=function(n){o=n,h()},vt=function(n){l=n,h()},yt=function(){return t},d=function(n){i=n};return{init:g,setPriceRange:st,setEngineRange:ht,setAccelRange:ct,setConsumptionRange:lt,filterModels:h,setLuggageRange:at,setCheckBoxValues:vt,getVehicleData:yt,setFamilySelected:d}}();return{Filter:f}}(jQuery,window._mini=window._mini||{},window,document),function(){"use strict";var n=MINI.ModelFilterDataManager=function(){function n(n){this.data=n||"",this.PriceRange=[]||[0,0],this.AutoAccel=[]||[0,0],this.OutputRange=[]||[0,0],this.ConsumptionRange=[]||[0,0],this.LuggageRange=[]||[0,0]}return n.prototype={getPriceRange:function(){for(var n=[],i,t=0;t<this.data.Models.length;t++)for(i=0;i<this.data.Models[t].Vehicles.length;i++)n.push(this.data.Models[t].Vehicles[i].ManualPrice),n.sort();return this.PriceRange=[n[0],n[n.length-1]]},getAutoAccelRange:function(){for(var n=[],i,r,t=0;t<this.data.Models.length;t++)for(i=0;i<this.data.Models[t].Vehicles.length;i++)r=parseFloat(this.data.Models[t].Vehicles[i].ManualAcceleration),isNaN(r)||n.push(r);return n.sort(this.sortfunction),this.AutoAccel=[n[0],n[n.length-1]]},getOutputRange:function(){for(var n=[],i,r,t=0;t<this.data.Models.length;t++)for(i=0;i<this.data.Models[t].Vehicles.length;i++)r=parseFloat(this.data.Models[t].Vehicles[i].EngineOutput),isNaN(r)||n.push(r);return n.sort(this.sortfunction),this.OutputRange=[n[0],n[n.length-1]]},getConsumptionRange:function(){for(var n=[],i,r,t=0;t<this.data.Models.length;t++)for(i=0;i<this.data.Models[t].Vehicles.length;i++)r=parseFloat(this.data.Models[t].Vehicles[i].ManualConsumption),isNaN(r)||n.push(r);return n.sort(this.sortfunction),this.ConsumptionRange=[n[0],n[n.length-1]]},getLuggageRange:function(){for(var n=[],i,r,t=0;t<this.data.Models.length;t++)for(i=0;i<this.data.Models[t].Vehicles.length;i++)r=parseInt(this.data.Models[t].Vehicles[i].LuggageSpace),isNaN(r)||n.push(r);return n.sort(this.sortfunction),this.LuggageRange=[n[0],n[n.length-1]]},sortfunction:function(n,t){return n-t}},n}()}.call(this),function(){"use strict";var n=MINI.Slider=function(){function n(n,t,i,r,u,f){this.min=n||"",this.max=t||"",this.isRange=i||!1,this.values=[]||[0,0],this.target=u||"",this.language=f||"en",MINI.odometerOptions={format:"(ddd).dd"}}return n.prototype={buildPriceSlider:function(){var n=this;$(this.target).find(".min-value .odometer").html(this.min.toLocaleString()),$(this.target).find(".max-value .odometer").html(this.max.toLocaleString()),n=this,$(this.target+" .slide-wrapper").slider({min:this.min,max:this.max,step:.1,range:this.isRange,values:[this.min,this.max],slide:function(t,i){$(n.target).find(".ui-slider-range").css({width:i.values[0]-20,left:"-999999999%"}),$(n.target).find(".min-value .odometer").html(parseInt(i.values[0])),$(n.target).find(".max-value .odometer").html(parseInt(i.values[1]))},change:function(n,t){_mini.Filter.setPriceRange([t.values[0],t.values[1]])},start:function(){$(n.target).find(".icon").attr("src","/Public/img/content/model-filter/ico/price-on.png")},stop:function(){$(n.target).find(".icon").attr("src","/Public/img/content/model-filter/ico/price.png")}})},buildOutputSlider:function(){var n=this;$(this.target).find(".min-value .odometer").html(this.min.toLocaleString()),$(this.target).find(".max-value .odometer").html(this.max.toLocaleString()),$(this.target+" .slide-wrapper").slider({min:this.min,max:this.max,step:1,range:this.isRange,values:[this.min,this.max],slide:function(t,i){$(n.target).find(".min-value .odometer").html(parseInt(i.values[0])),$(n.target).find(".max-value .odometer").html(parseInt(i.values[1])),$(n.target).find(".ui-slider-range").css({width:i.values[0]-20,left:"-999999999%"})},change:function(n,t){_mini.Filter.setEngineRange([t.values[0],t.values[1]])},start:function(){$(n.target).find(".icon").attr("src","/Public/img/content/model-filter/ico/engine-on.png")},stop:function(){$(n.target).find(".icon").attr("src","/Public/img/content/model-filter/ico/engine.png")}})},buildAccelSlider:function(){var n=this;$(this.target).find(".min-value .odometer").html(this.min.toLocaleString()),$(this.target).find(".max-value .odometer").html(this.max.toLocaleString()),$(this.target+" .slide-wrapper").slider({min:this.min,max:this.max,step:.1,range:this.isRange,values:[this.min,this.max],slide:function(t,i){$(n.target).find(".ui-slider-range").css({width:i.values[0]-20,left:"-999999999%"}),$(n.target).find(".min-value .odometer").html(parseFloat(i.values[0])),$(n.target).find(".max-value .odometer").html(parseFloat(i.values[1]))},change:function(n,t){_mini.Filter.setAccelRange([t.values[0],t.values[1]])},start:function(){$(n.target).find(".icon").attr("src","/Public/img/content/model-filter/ico/speed-on.png")},stop:function(){$(n.target).find(".icon").attr("src","/Public/img/content/model-filter/ico/speed.png")}})},buildConsumptionSlider:function(){var n=this;$(this.target).find(".min-value .odometer").html(this.min.toLocaleString()),$(this.target).find(".max-value .odometer").html(this.max.toLocaleString()),$(this.target+" .slide-wrapper").slider({min:this.min,max:this.max,step:.1,range:this.isRange,values:[this.min,this.max],slide:function(t,i){$(n.target).find(".ui-slider-range").css({width:i.values[0]-20,left:"-999999999%"}),$(n.target).find(".min-value .odometer").html(parseFloat(i.values[0])),$(n.target).find(".max-value .odometer").html(parseFloat(i.values[1]))},change:function(n,t){_mini.Filter.setConsumptionRange([t.values[0],t.values[1]])},start:function(){$(n.target).find(".icon").attr("src","/Public/img/content/model-filter/ico/gas-on.png")},stop:function(){$(n.target).find(".icon").attr("src","/Public/img/content/model-filter/ico/gas.png")}})},buildGenericSlider:function(){var n=this;$(this.target).find(".min-value .odometer").html(this.min.toLocaleString()),$(this.target).find(".max-value .odometer").html(this.max.toLocaleString()),$(this.target+" .slide-wrapper").slider({min:this.min,max:this.max,step:.1,range:this.isRange,values:[this.min,this.max],slide:function(t,i){$(n.target).find(".ui-slider-range").css({width:i.values[0]-20,left:"-999999999%"}),$(n.target).find(".min-value .odometer").html(parseInt(i.values[0])),$(n.target).find(".max-value .odometer").html(parseInt(i.values[1]))},change:function(n,t){_mini.Filter.setLuggageRange([t.values[0],t.values[1]])},start:function(){$(n.target).find(".icon").attr("src","/Public/img/content/model-filter/ico/luggage-on.png")},stop:function(){$(n.target).find(".icon").attr("src","/Public/img/content/model-filter/ico/luggage.png")}})},resetSlider:function(){$(this.target+" .slide-wrapper").slider("option","values",[this.min,this.max]),$(this.target).find(".min-value .odometer").html(this.min.toLocaleString()),$(this.target).find(".max-value .odometer").html(this.max.toLocaleString())},buildLanguagePrice:function(n){var t=n;return this.language=="fr"&&(t=this.commaSeparateNumber(n," ")),this.language=="en"&&this.commaSeparateNumber(n,","),n},commaSeparateNumber:function(n,t){while(/(\d+)(\d{3})/.test(n.toString()))n=n.toString().replace(/(\d+)(\d{3})/,"$1"+t+"$2");return n}},n}()}.call(this),function(){"use strict";var n=MINI.BlockItem=function(){function n(n,t,i,r,u,f,e,o,s,h,c){this.name=i||"",this.price=r||"",this.freightAndPDI=e||"",this.ecode=u||"",this.cacode=f||"",this.tagline=s||"",this.total=o||0,this.data=[]||[],this.translations=h||[],this.language=c||"en",this.DATA=n||[],this.NUM=t||0,this.spawnBlockItem()}return n.prototype={spawnBlockItem:function(){var o=this,n=this.cacode,i,u,e;(n=="14HA"||n=="14HB"||n=="14VB"||n=="14VC"||n=="14VA")&&(n=this.cacode+"-"+this.language);var f='<img src="/Public/img/content/model-filter/thumbs/'+this.ecode+"_"+n+'.png"/>',r=MINIHelpers.getProvince(),t=_.find(this.DATA.Models[this.NUM].Vehicles[0].AllInclusivePricing,function(n){if(n.ProvinceShort==="QC")return n.FreightAndPDI});r=r.substring(r.lastIndexOf("=")+1),i=Math.round(MINIHelpers.priceForDisplay(this.price,t.AirConditioningTax+t.FreightAndPDI+t.MotorVehicleIndustryCouncilFee+t.RegistrationFeePPSA+t.RetailAdministrationFee+t.TireTax,r)),u="ALL INCLUSIVE PRICE",this.language=="fr"&&(i=this.commaSeparateNumber(i," ")+" $",u="PRIX TOUT INCLUS"),this.language=="en"&&(i="$"+this.commaSeparateNumber(i,",")),e='<div id="block-'+this.ecode+'" class="block-item"><h5>'+this.name+'<span class="model-tally"> ( '+this.total+' )<\/span><\/h5><div class="block-sub-title">'+this.tagline+'<\/div><div class="block-price"><span class="dark-grey">'+this.translations.FromLabel+"<\/span> "+i+'<\/div><div class="block-image">'+f+'<\/div><p class="qc-only">'+u+"<\/p><\/div>",$("#vehicle-display-wrapper-block-view").append(e),$(f).load(function(){$(".block-item").fadeIn()});$(".block-item").on("click",function(){var n=$(this).attr("id").split("block-")[1];o.filterListView(n),$("#vehicle-display-wrapper-block-view").hide(),$("#vehicle-display-wrapper-list-view").show(),$("#block-view-btn").attr("src","/Public/img/content/model-filter/box-icon.png"),$("#list-view-btn").attr("src","/Public/img/content/model-filter/list-icon-on.png")});r=="QC"&&$(".qc-only").show()},commaSeparateNumber:function(n,t){while(/(\d+)(\d{3})/.test(n.toString()))n=n.toString().replace(/(\d+)(\d{3})/,"$1"+t+"$2");return n},filterListView:function(n){this.data=_mini.Filter.getVehicleData();for(var t=0;t<this.data.Models.length;t++)this.data.Models[t].ECode==n?(_mini.Filter.setFamilySelected(t),$("#family-"+this.data.Models[t].ECode).show(400)):$("#family-"+this.data.Models[t].ECode).hide(400)}},n}()}.call(this),function(){"use strict";var n=MINI.ModelFilterListView=function(){function n(n,t,i){this.data=n||[],this.translations=t||[],this.language=i||"en",this.buildListView()}return n.prototype={buildListView:function(){for(var p,t,h,l,a,v,y,e,r,o,i,w,s,k,n=0;n<this.data.Models.length;n++)for(p='<div id="family-'+this.data.Models[n].ECode+'" class="family-group"><div class="box dark-grey"><h2>'+this.data.Models[n].Name+"<\/h2><p>"+this.data.Models[n].Tagline+"<\/p><\/div><!-- END BOX -->",p+="<\/div><!-- END FAMILY GROUP -->",$("#vehicle-display-wrapper-list-view").append(p),t=0;t<this.data.Models[n].Vehicles.length;t++){h=parseFloat(this.data.Models[n].Vehicles[t].AutomaticPrice),isNaN(h)&&(h=1200);var u=parseFloat(this.data.Models[n].Vehicles[t].ManualPrice)+h,f=parseFloat(this.data.Models[n].Vehicles[t].ManualPrice),c=this.data.Models[n].Vehicles[t].EngineOutput,b=this.translations.HpLabel;c!=null&&(c=c.split(b.toLowerCase())[0]),l=this.data.Models[n].Vehicles[t].ManualAcceleration,l!=null&&(l=this.data.Models[n].Vehicles[t].ManualAcceleration.split(" s")[0]),a=this.data.Models[n].Vehicles[t].AutomaticAcceleration,a!=null&&(a=this.data.Models[n].Vehicles[t].AutomaticAcceleration.split(" s")[0]),v=this.data.Models[n].Vehicles[t].ManualConsumption,v!=null&&(v=this.data.Models[n].Vehicles[t].ManualConsumption.split(" l/100")[0]),y=this.data.Models[n].Vehicles[t].AutomaticConsumption,y!=null&&(y=this.data.Models[n].Vehicles[t].AutomaticConsumption.split(" l/100")[0]),e=this.data.Models[n].Vehicles[t].LuggageSpace,e!=null&&(e=this.data.Models[n].Vehicles[t].LuggageSpace.split(" ")[0]),r=this.data.Models[n].Vehicles[t].Name,typeof r.split("2014 MINI")[1]!=undefined&&(r=r.split("2014 MINI ")[1]),r==undefined&&(r=this.data.Models[n].Vehicles[t].Name.split("2013 MINI ")[1]),o=MINIHelpers.getProvince(),i=_.find(this.data.Models[n].Vehicles[t].AllInclusivePricing,function(n){if(n.ProvinceShort==="QC")return n.FreightAndPDI}),o=o.substring(o.lastIndexOf("=")+1),u=Math.round(MINIHelpers.priceForDisplay(u,i.AirConditioningTax+i.FreightAndPDI+i.MotorVehicleIndustryCouncilFee+i.RegistrationFeePPSA+i.RetailAdministrationFee+i.TireTax,o)),f=Math.round(MINIHelpers.priceForDisplay(f,i.AirConditioningTax+i.FreightAndPDI+i.MotorVehicleIndustryCouncilFee+i.RegistrationFeePPSA+i.RetailAdministrationFee+i.TireTax,o)),this.language=="fr"&&(u=this.commaSeparateNumber(u," ")+' <span class="blue">$<\/span>',f=this.commaSeparateNumber(f," ")+' <span class="blue">$<\/span>',e=this.data.Models[n].Vehicles[t].LuggageSpace,e!=null&&(e=this.data.Models[n].Vehicles[t].LuggageSpace.split("litres")[0])),this.language=="en"&&(u='<span class="blue">$<\/span>'+this.commaSeparateNumber(u,","),f='<span class="blue">$<\/span>'+this.commaSeparateNumber(f,",")),this.data.Models[n].ECode=="R99"||this.data.Models[n].ECode=="R89"||(t==0&&(r="Cooper"),t==1&&(r="Cooper S"),t==2&&(r="John Cooper Works")),this.data.Models[n].Vehicles[t].CACode=="14PC"&&(r="Cooper S ALL4"),this.data.Models[n].Vehicles[t].CACode=="14PD"&&(r="John Cooper Works Paceman ALL4"),w=this.data.Models[n].Vehicles[t].Name,s=this.data.Models[n].ModelSlug,s=="cooper"&&(s="hatch"),s==undefined&&(s="jcw"),$("#family-"+this.data.Models[n].ECode).append(this.buildChildView(t,w,r,this.data.Models[n].ECode,this.data.Models[n].Vehicles[t].CACode,f,u,c,l,a,v,y,e,this.data.Models[n].ModelSlug,this.data.Models[n].Vehicles[t].UrlSlug,s)),this.data.Models[n].Vehicles[t].AutomaticPrice==null,t>0&&($("#family-"+this.data.Models[n].ECode+" #list-"+this.data.Models[n].ECode+"-"+this.data.Models[n].Vehicles[t].CACode).find(".header-icons").hide(),$("#family-"+this.data.Models[n].ECode+" #list-"+this.data.Models[n].ECode+"-"+this.data.Models[n].Vehicles[t].CACode).find(".model-child-title").hide(),$("#family-"+this.data.Models[n].ECode+" #list-"+this.data.Models[n].ECode+"-"+this.data.Models[n].Vehicles[t].CACode).find(".model-block-header").css({height:"0px"}),$("#family-"+this.data.Models[n].ECode+" #list-"+this.data.Models[n].ECode+"-"+this.data.Models[n].Vehicles[t].CACode).find(".list-toggle").css({top:"-30px"}),$("#family-"+this.data.Models[n].ECode+" #list-"+this.data.Models[n].ECode+"-"+this.data.Models[n].Vehicles[t].CACode).find(".model-image").css({top:"5px"})),t==0&&$("#family-"+this.data.Models[n].ECode+" #list-"+this.data.Models[n].ECode+"-"+this.data.Models[n].Vehicles[t].CACode).find(".list-toggle").css({top:"30px"})}k=new MINI.ConfigLauncher;$(".list-toggle a").on("click",function(n){n.preventDefault();var t=$(this).attr("href");$(t).is(":visible")?($(t).hide(400),$(this).find("img").attr("src","/Public/img/ico/modal-plus.png")):($(t).show(400),$(this).find("img").attr("src","/Public/img/ico/modal-minus.png"))})},allInclusivePricePoint:function(n,t){var r=this.data.Models[n].Vehicles[t].AllInclusivePricing,i,u;return console.log(this.data.Models[0].Vehicles[0].AllInclusivePricing),i=0,u=_.find(r,function(n){n.ProvinceShort==="QC"&&(i=parseFloat(Math.round(n.AirConditioningTax+n.FreightAndPDI+n.MotorVehicleIndustryCouncilFee+n.RegistrationFeePPSA+n.RetailAdministrationFee+n.TireTax)))}),i},commaSeparateNumber:function(n,t){while(/(\d+)(\d{3})/.test(n.toString()))n=n.toString().replace(/(\d+)(\d{3})/,"$1"+t+"$2");return n},buildChildView:function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){var nt=window.location.origin+"/"+this.language+"/",d='<a href="http://www.buildmymini.ca/#/'+v+"/"+y+'/colours" class="btn btn-primary gradient-grey shadow ico-btn btn-sm btn-block build-trigger"><img height="23" width="26" src="/Public/img/ico/buttons/build.png" style="opacity: 1; left: 0px;"><span class="btn-text btn-padding">'+this.translations.BuildAndPriceLabel+"<\/span><\/a>",b="L/100KM",k,w,g;return(u=="14HA"||u=="14HB")&&(l="",c="",b=this.language=="fr"?"A/D":"TBA"),k="ALL INCLUSIVE PRICE",this.language=="fr"&&(k="PRIX TOUT INCLUS"),(u=="14HA"||u=="14HB")&&(d='<a class="btn btn-primary gradient-grey shadow ico-btn btn-sm btn-block" href="/'+this.language+"/mini-hatch/#"+u+'"><img height="23" width="26" style="opacity: 1; left: 0px;" src="/Public/img/ico/buttons/build.png"><span class="btn-text btn-padding">'+this.translations.BuildAndPriceLabel+"<\/span><\/a>"),w=u,(w=="14HA"||w=="14HB"||w=="14VB"||w=="14VC"||w=="14VA")&&(w=u+"-"+this.language),g='<div id="list-'+r+"-"+u+'" class="model-block-item"><div class="model-block-header"><div class="model-child-title"><h3>'+t+'<\/h3><\/div><div class="list-toggle"><h3><a href="#child-'+r+"-"+u+"-"+n+'"><img class="toggle-icon" src="/Public/img/ico/modal-minus.png"/> '+i+'<\/a><\/h3><\/div><div class="header-icons"><div class="icon-wrapper"><img class="icon" src="/Public/img/content/model-filter/ico/price.png"/><h5>'+this.translations.PriceLabel+'<\/h5><\/div><div class="icon-wrapper"><img class="icon" src="/Public/img/content/model-filter/ico/engine.png"/><h5>'+this.translations.OutputLabel+'<\/h5><\/div><div class="icon-wrapper"><img class="icon" src="/Public/img/content/model-filter/ico/speed.png"/><h5>'+this.translations.AccelerationLabel+'<\/h5><\/div><div class="icon-wrapper"><img class="icon" src="/Public/img/content/model-filter/ico/gas.png"/><h5>'+this.translations.ConsumptionLabel+'<\/h5><\/div><div class="icon-wrapper"><img class="icon" src="/Public/img/content/model-filter/ico/luggage.png"/><h5>'+this.translations.LuggageSpaceLabel+'<\/h5><\/div><div class="icon-wrapper"><img class="icon" src="/Public/img/content/model-filter/ico/compare.png"/><h5>'+this.translations.CompareTitle+'<\/h5><\/div><\/div><\/div><div id="child-'+r+"-"+u+"-"+n+'" class="model-data"><div class="model-image"><img src="/Public/img/content/model-filter/thumbs/'+r+"_"+w+'.png"/><\/div><div class="manual-data"><div class="data-title">'+this.translations.ManualPetrolLabel+'<\/div><div class="data-wrapper"><h5>'+f+'<\/h5><p class="qc-only">'+k+'<\/p><\/div><div class="data-wrapper"><h5>'+o+'<br><span class="small-blue">'+this.translations.HpLabel+'<\/span><\/h5><\/div><div class="data-wrapper"><h5>'+s+'<br><span class="small-blue">S<\/span><\/h5><\/div><div class="data-wrapper"><h5>'+c+'<br><span class="small-blue">'+b+'<\/span><\/h5><\/div><div class="data-wrapper"><h5>'+a+'<br><span class="small-blue">'+this.translations.LitresLabel+'<\/span><\/h5><\/div><div id="compare-check" class="check-box-obj"><div class="check-box"><div id="compare-'+r+"-"+u+'-manual" class="check-toggle"><div class="check-mark"><img src="/Public/img/content/model-filter/check-mark.png"/><\/div><img src="/Public/img/content/model-filter/toggle-bg.jpg"/><\/div><\/div><\/div><\/div><div class="auto-data"><div class="data-title">'+this.translations.AutoPetrolLabel+'<\/div><div class="data-wrapper"><h5>'+e+'<\/h5><p class="qc-only">'+k+'<\/p><\/div><div class="data-wrapper"><h5>'+o+'<br><span class="small-blue">'+this.translations.HpLabel+'<\/span><\/h5><\/div><div class="data-wrapper"><h5>'+h+'<br><span class="small-blue">S<\/span><\/h5><\/div><div class="data-wrapper"><h5>'+l+'<br><span class="small-blue">'+b+'<\/span><\/h5><\/div><div class="data-wrapper"><h5>'+a+'<br><span class="small-blue">'+this.translations.LitresLabel+'<\/span><\/h5><\/div><div id="compare-check" class="check-box-obj"><div class="check-box"><div id="compare-'+r+"-"+u+'-auto" id="compare-'+u+'"  class="check-toggle"><div class="check-mark"><img src="/Public/img/content/model-filter/check-mark.png"/><\/div><img src="/Public/img/content/model-filter/toggle-bg.jpg"/><\/div><\/div><\/div><\/div><div class="button-container" style="opacity: 1; left: 0px;"><a class="btn btn-primary gradient-grey shadow ico-btn btn-md btn-block" href="'+nt+""+p+'"><img class="learn-more-icon" width="26" height="23" src="/Public/img/ico/buttons/learnmore.png"><span class="btn-text btn-padding">'+this.translations.LearnMoreLabel+'<\/span><\/a><a href="#TestDrive" data-value="'+u+'" data-toggle="modal" data-retailer-number-value="" data-keyboard="false" data-backdrop="static" class="btn btn-primary gradient-grey shadow ico-btn btn-sm btn-block"><img class="drive-icon"  width="26" height="23" src="/Public/img/ico/buttons/testdrive.png" style="opacity: 1; left: 0px;"><span class="btn-text btn-padding">'+this.translations.BookTestDriveLabel+"<\/span><\/a>"+d+"<\/div><\/div><\/div>"}},n}()}.call(this),function(){"use strict";var n=MINI.ModelFilterCheckBoxManager=function(){function n(){this.manual=!0,this.auto=!0,this.twoWheel=!0,this.fourWheel=!0,this.twoDoor=!0,this.fourDoor=!0,this.hardtop=!0,this.topless=!0,this.compare=[]||[],this.setCheckEvents()}return n.prototype={setCheckEvents:function(){var n=this;$("#topless").find(".check-mark").fadeIn(),$("#hardtop").find(".check-mark").fadeIn(),$("#auto").find(".check-mark").fadeIn(),$("#manual").find(".check-mark").fadeIn(),$("#twoWheel").find(".check-mark").fadeIn(),$("#fourWheel").find(".check-mark").fadeIn(),$("#twoDoor").find(".check-mark").fadeIn(),$("#fourDoor").find(".check-mark").fadeIn();$("#filter-items .check-toggle").on("click",function(){var i=$(this).attr("id"),t=$(this).find(".check-mark");$(t).is(":visible")?($(t).fadeOut(),n.resetCheckValue(i)):($(t).fadeIn(),n.setCheckValue(i)),_mini.Filter.setCheckBoxValues(n.getCheckValues())});$("#vehicle-display-wrapper-list-view .check-toggle").on("click",function(){var i=$(this).attr("id"),t=$(this).find(".check-mark");$(t).is(":visible")?($(t).fadeOut(),n.removeFromCompare(i)):($(t).fadeIn(),n.addToCompare(i))})},addToCompare:function(n){var t=n.split("compare-")[1],i=n.split("compare-")[1];this.compare.push({familyID:t.split("-")[0],modelID:i.split("-")[1]}),console.log(t.split("-")[0]+" :: "+i.split("-")[1]),this.compare.length>1&&$(".compare-button").show()},removeFromCompare:function(n){for(var i=n.split("compare-")[1],r=n.split("compare-")[1],t=0;t<this.compare.length;t++)i.split("-")[0]==this.compare[t].familyID&&this.compare.splice(t,1);this.compare.length<1&&$(".compare-button").hide()},getCompareItems:function(){return this.compare},getCheckValues:function(){return[{manual:this.manual,auto:this.auto,twoWheel:this.twoWheel,fourWheel:this.fourWheel,twoDoor:this.twoDoor,fourDoor:this.fourDoor,hardtop:this.hardtop,topless:this.topless}]},setCheckValue:function(n){n=="manual"&&(this.manual=!0),n=="auto"&&(this.auto=!0),n=="twoWheel"&&(this.twoWheel=!0),n=="fourWheel"&&(this.fourWheel=!0),n=="twoDoor"&&(this.twoDoor=!0),n=="fourDoor"&&(this.fourDoor=!0),n=="hardtop"&&(this.hardtop=!0),n=="topless"&&(this.topless=!0)},resetCheckValue:function(n){n=="manual"&&(this.manual=!1),n=="auto"&&(this.auto=!1),n=="twoWheel"&&(this.twoWheel=!1),n=="fourWheel"&&(this.fourWheel=!1),n=="twoDoor"&&(this.twoDoor=!1),n=="fourDoor"&&(this.fourDoor=!1),n=="hardtop"&&(this.hardtop=!1),n=="topless"&&(this.topless=!1)},resetCheckValues:function(){$("#topless").find(".check-mark").fadeIn(),$("#hardtop").find(".check-mark").fadeIn(),$("#auto").find(".check-mark").fadeIn(),$("#manual").find(".check-mark").fadeIn(),$("#twoWheel").find(".check-mark").fadeIn(),$("#fourWheel").find(".check-mark").fadeIn(),$("#twoDoor").find(".check-mark").fadeIn(),$("#fourDoor").find(".check-mark").fadeIn(),this.manual=!0,this.auto=!0,this.twoWheel=!0,this.fourWheel=!0,this.twoDoor=!0,this.fourDoor=!0,this.hardtop=!0,this.topless=!0,this.compare=[]}},n}()}.call(this),function(){"use strict";var n=MINI.BuildAndPrice=function(){function n(n,t,i,r,u){this.cacode=t||"",this.options=i||[],this.model=n||"",this.rules=[]||[],this.data=[]||[],this.color="",this.category="exterior",this.review=function(){}||{},this.currentPosition=1,this.ruleManager=function(){}||"",this.rulesLoaded=!1,this.dataManager=function(){}||"",this.viewManager=function(){}||"",this.isExternalLink=r||!1,this.modelName="",this.language=u||"",MINI.odometerOptions={format:"(ddd).dd"},this.init()}return n.prototype={init:function(){var n=this;$("#BuildAndPriceModal .build-trigger").removeClass("selected"),this.isExternalLink&&(n.review=new MINI.BuildAndPriceReview,n.review.resetOptions(),n.ruleManager=new MINI.BuildAndPriceRuleManager(n.model,n.cacode,n.review),$("#conflict-window").hide(),n.category="exterior",$("#BuildAndPriceModal").modal({show:!0,backdrop:"static"}),$(".popover").css({"z-index":"99999999"}),n.cacode=="14HA"?(n.modelName="MINI COOPER",$(".switch-model-name").html("MINI COOPER S")):($(".switch-model-name").html("MINI COOPER"),n.modelName="MINI COOPER S"),$(".testDriveLink").each(function(){$(this).attr("data-value",n.cacode)}),n.ruleManager.setCaCode(n.cacode),n.ruleManager.setRules(n,n.getRules));$(".buildMini").on("click",function(t){t.preventDefault();var i=$(this).attr("href");n.review=new MINI.BuildAndPriceReview,n.review.resetOptions(),n.ruleManager=new MINI.BuildAndPriceRuleManager(n.model,n.cacode,n.review),$("#conflict-window").hide(),n.category="exterior",n.cacode=i,$("#BuildAndPriceModal").modal({show:!0,backdrop:"static"}),$(".popover").css({"z-index":"99999999"}),n.cacode=="14HA"?($(".switch-model-name").html("MINI COOPER S"),n.modelName="MINI COOPER"):($(".switch-model-name").html("MINI COOPER"),n.modelName="MINI COOPER S"),$(".testDriveLink").each(function(){$(this).attr("data-value",n.cacode)}),n.ruleManager.setCaCode(n.cacode),n.ruleManager.setRules(n,n.getRules)});$(".switch-model-button").on("click",function(t){t.preventDefault(),n.cacode=="14HA"?(n.cacode="14HB",$(".switch-model-name").html("MINI COOPER"),n.modelName="MINI COOPER S"):(n.cacode="14HA",$(".switch-model-name").html("MINI COOPER S"),n.modelName="MINI COOPER"),$(".testDriveLink").each(function(){$(this).attr("data-value",n.cacode)}),n.clearAllOptionsLayers(),n.review=new MINI.BuildAndPriceReview,n.review.resetOptions(),n.ruleManager=new MINI.BuildAndPriceRuleManager(n.model,n.cacode,n.review),$("#conflict-window").hide(),n.category="exterior",n.ruleManager.setCaCode(n.cacode),n.ruleManager.setRules(n,n.getRules)});$("#build-modal-header .close, .buildHandler").on("click",function(){$("#BuildAndPriceModal").modal("hide"),window.history.pushState({},"","/en/mini-hatch")});$("#modal-view-selector img").on("click",function(){var i=$(this).data("id");n.viewManager.hideShowContainers(i)});$("#build-modal-sub-nav ul li a").on("click",function(t){var i,r;t.preventDefault(),i=$(this).parent().attr("id"),i!=7?(n.currentPosition=i,$("#build-modal-sub-nav ul li a").removeClass("selected"),$(this).addClass("selected"),r=$(this).attr("href"),n.category=r,i==6?($("#review-view").fadeIn(),n.viewManager.openReivewView()):($("#review-view").fadeOut(),n.viewManager.hideShowListItems(r))):(n.review=new MINI.BuildAndPriceReview,n.review.resetOptions(),n.ruleManager=new MINI.BuildAndPriceRuleManager(n.model,n.cacode,n.review),$("#conflict-window").hide(),n.category="exterior",n.clearAllOptionsLayers(),$(this).removeClass("selected"),$(this).removeClass("active"),$(".testDriveLink").each(function(){$(this).attr("data-value",n.cacode)}),n.ruleManager.setCaCode(n.cacode),n.ruleManager.setRules(n,n.getRules))});$(".next-button").on("click",function(t){t.preventDefault(),n.currentPosition++,n.currentPosition>6&&(n.currentPosition=1),$("#build-modal-sub-nav ul li a").removeClass("selected"),$("#build-modal-sub-nav li").each(function(){var t=$(this).attr("id"),i=$(this).find("a").attr("href"),r=$(this).find("a");t==n.currentPosition&&(n.category=i,$(r).addClass("selected"),t==6?($("#review-view").fadeIn(),n.viewManager.openReivewView(),console.log("OPEN REVIEW PAGE ")):($("#review-view").fadeOut(),n.viewManager.hideShowListItems(i)))})});$(".previous-button").on("click",function(t){t.preventDefault(),n.currentPosition--,n.currentPosition<1&&(n.currentPosition=6),$("#build-modal-sub-nav ul li a").removeClass("selected"),$("#build-modal-sub-nav li").each(function(){var t=$(this).attr("id"),i=$(this).find("a").attr("href"),r=$(this).find("a");t==n.currentPosition&&(n.category=i,$(r).addClass("selected"),t==6?(console.log("OPEN REVIEW PAGE "),$("#review-view").fadeIn()):($("#review-view").fadeOut(),n.viewManager.hideShowListItems(i)))})});$(".back-to-the-build").on("click",function(t){t.preventDefault(),n.currentPosition=1,$("#review-view").fadeOut(),n.viewManager.hideShowListItems("exterior"),$("#build-modal-sub-nav ul li a").removeClass("selected"),$("#build-modal-sub-nav li").each(function(){var t=$(this).attr("id"),i=$(this).find("a");t==n.currentPosition&&$(i).addClass("selected")})})},clearAllOptionsLayers:function(){$("#front-view #view-options").html(""),$("#front-view #stripe-options").html(""),$("#rear-view #view-options").html(""),$("#rear-view #stripe-options").html(""),$("#front-view #view-wheels").html(""),$("#rear-view #view-wheels").html(""),$("#package-options").html(""),$(".interior-option-package").each(function(){$(this).remove()})},getRules:function(n){n.rulesLoaded=!0,n.rules=n.ruleManager.getRules(),n.createNewModal()},createNewModal:function(){var n=this,t,i,r;$("#build-component-wrapper").fadeIn(),$("#build-price-modal").fadeIn(),$("#build-modal-sub-nav ul li a").removeClass("selected"),$("#build-modal-sub-nav ul li").first().find("a").addClass("selected"),this.data=this.options["vehicleData"+this.cacode],$("#build-modal-title h2").html(this.data.Name),$("#build-modal-title-review h2").html(this.data.Name),t="",this.cacode=="14HA"&&(t="HA"),this.cacode=="14HB"&&(t="HB"),i="?v="+Math.random()*999+"_"+Math.random()*999,r="/Public/build-and-price-data/F56-API-FEED.xml"+i,$.ajax({url:r,async:!1,accepts:{xml:"text/xml",text:"text/xml"},success:function(i){n.dataManager=new MINI.BuildAndPriceDataManager(n.data,i,t,n.review,n.language),n.review.setCACode(n.cacode,n),n.review.setModalName(n.modelName),n.review.setDataManager(n.dataManager),n.ruleManager.setNewData(n.dataManager),n.viewManager=new MINI.BuildAndPriceViewManager("#front-view","#rear-view","#interior-view",n.data,n.options.data.ModelFamily.ECode,n.cacode,n.ruleManager,n.review,n.dataManager),n.ruleManager.passInData(n.viewManager)},error:function(){console.log(" DATA FEED ERROR ")}}),_mini.Animate.toContainer("model-F56-build",90),function(n,t,i,r,u,f,e){n.GoogleAnalyticsObject=u,n[u]=n[u]||function(){(n[u].q=n[u].q||[]).push(arguments)},n[u].l=1*new Date,f=t.createElement(i),e=t.getElementsByTagName(i)[0],f.async=1,f.src=r,e.parentNode.insertBefore(f,e)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-32386798-19","auto"),ga("send","pageview"),ga("send","event","button","ConfigOpened",this.cacode),this.trackStat("ConfigOpened",this.cacode)},trackStat:function(n,t){var i="Event="+n+"&Value="+t;$.ajax({type:"POST",url:"http://php.richmondday.com/mini-tracking/AddAStat.php",data:i,success:function(){}})}},n}()}.call(this),function(){"use strict";var n=MINI.BuildAndPriceRuleManager=function(){function n(n,t,i){this.rules=[]||[],this.model=n||"",this.cacode=t||"",this.review=i||{},this.colorRules=[]||[],this.ecode="F56",this.data=[]||[],this.dataManager=function(){}||{},this.viewManager=function(){}||{},this.conflictWindow=function(){}||{}}return n.prototype={passInData:function(n){this.viewManager=n,this.conflictWindow=new MINI.BuildAndPriceConflictWindow(this,this.review,this.viewManager,this.dataManager,this.ecode)},setNewData:function(n){this.dataManager=n},setRules:function(n,t){var i=this,r="?v="+Math.random()*999+"_"+Math.random()*999,u="/Public/build-and-price-data/"+this.model+"-"+this.cacode+".xml"+r;$.ajax({url:u,async:!1,accepts:{xml:"text/xml",text:"text/xml"},success:function(r){$(r).find("rule").each(function(){var n=$(this).find("id").text(),t=$(this).find("conflicts").text(),r=$(this).find("requires").text(),u=$(this).find("manditory").text(),f=$(this).find("acceptable").text();i.rules.push({id:n,conflicts:t,required:r,mandatory:u,acceptable:f})}),t&&t(n)},error:function(){console.log(" DATA FEED ERROR ")}})},setCaCode:function(n){this.cacode=n},setData:function(n){this.data=n},setViewManager:function(n){this.viewManager=n},getRules:function(){return this.rules},checkForColorConflicts:function(n,t,i,r,u,f,e){var b=!1,v=!1,y=!1,s=[],h=[],k=this.review.getOptions(),c=[],l=[],p,w,a,o;if(u!=!1&&(v=!0,p=""+u,s=p.split(",")),f!=!1&&(y=!0,w=""+f,h=w.split(",")),v)for(o=0;o<s.length;o++)this.isInOptions(s[o])&&s[o]!="false"&&l.push(s[o]);if(y){for(a=!1,o=0;o<h.length;o++)this.isInOptions(h[o])?a=!0:(console.log(h[o]),c.push(h[o]));a&&(c=[])}return c.length>0||l.length>0?this.conflictWindow.openConflictWindow(n,l,c,e):(e=="COLOUR"&&(this.review.removeAnOptions(this.review.color),this.review.color=n,this.viewManager.setBoxColor(n),this.viewManager.updateFrontView()),e=="ROOFCAP"&&(this.review.removeAnOptions(this.review.roof),this.review.roof=n,this.viewManager.updateOption(n,"roof")),e=="STRIPES"&&(this.review.removeAnOptions(this.review.stripe),this.review.stripe=n,this.viewManager.updateOption(n,"stripe")),this.viewManager.hideShowContainers("#front-view"),this.review.setOptions(n),this.conflictWindow.setAllSelectedOptionHighlights()),b},isInOptions:function(n){for(var i=!1,r=this.review.getOptions(),t=0;t<r.length;t++)n==r[t]&&(i=!0);return i},checkReverseConflict:function(n,t){var r=this.dataManager.getStripes(),u=this.review.getOptions(),i=!1;if(console.log(n+" :::::::::::::: "+t),this.review.color=="A62"){i=!0,this.conflictWindow.openConflictWindow(n,[this.review.color],[],"Colour-Reverse");return}i===!1&&(this.review.removeAnOptions(n),this.conflictWindow.setAllSelectedOptionHighlights())},checkForPackageReverse:function(n){for(var f=this,o=this.dataManager.getPackages(),i=this.review.getOptions(),l=!1,s="",t,h,e,u,c,r=0;r<o.length;r++)if(n==o[r].Code)for(console.log("CLCIKED AND FOUND DATA CLICKED  "+n+" :: REQUIRED "+this.getRequired(o[r].Code)),t=0;t<i.length;t++)for(h=""+this.getRequired(i[t]),e=h.split(","),u=0;u<e.length;u++)if(n==e[u]){console.log("NEED TO ALSO REMOVE THIS : "+i[t]+" :: "+e[u]+" :: "+n),s=i[t],$("#conflict-window").fadeIn(),$("#conflict-options-wrapper").html(""),$("#conflict-innner h5").html(""),$("#conflict-innner h2").html("Uh-oh, Looks like we've got a square-peg round-hole scenario. 69"),$("#conflict-options-wrapper").append("<br><h5>WAIT! YOU WILL ALSO NEED TO REMOVE THE FOLLOWING: --- 69 !!!!!! <\/h5>"),c='<div class="option-item-dark option-required"><div class="opiton-image"><img id="option-'+i[t]+'"  src="/Public/img/v/'+this.ecode+"/build-and-price/Icons/"+i[t]+'.jpg"/><\/div><h5>'+this.getConflictDetails(i[t])[0]+'<\/h5> <div class="option-price">$ '+this.getConflictDetails(i[t])[1]+"<\/div><\/div>",$("#conflict-options-wrapper").append(c),$(".add-option").off();$(".add-option").on("click",function(t){t.preventDefault(),f.review.removeAnOptions(n),f.review.removeAnOptions(s),$("#conflict-window").fadeOut(),f.conflictWindow.setAllSelectedOptionHighlights(),$("#"+f.getPackageOptions(n)[1][0]).remove()})}l===!1&&(this.review.removeAnOptions(n),$("#"+this.getPackageOptions(n)[1][0]).remove()),this.conflictWindow.setAllSelectedOptionHighlights()},checkForOptionReverse:function(n){for(var i=this,o=this.dataManager.getAllOptions(),r=this.review.getOptions(),l=!1,s="",t,h,e,f,c,u=0;u<o.length;u++)if(n==o[u].Code)for(t=0;t<r.length;t++)for(h=""+this.getRequired(r[t]),e=h.split(","),f=0;f<e.length;f++)if(n==e[f]){$("#conflict-window").fadeIn(),$("#conflict-options-wrapper").html(""),$("#conflict-innner h5").html(""),$("#conflict-innner h2").html("PUT YOUR DECISION CAP ON."),$("#conflict-options-wrapper").append("<br><h5>WAIT! BY REMOVING THIS OPTION YOU WILL ALSO BE REMOVING THE FOLLOWING:<\/h5>"),c='<div class="option-item-dark option-required"><div class="opiton-image"><img id="option-'+r[t]+'"  src="/Public/img/v/'+this.ecode+"/build-and-price/Icons/"+r[t]+'.jpg"/><\/div><h5>'+this.getConflictDetails(r[t])[0]+'<\/h5> <div class="option-price">$ '+this.getConflictDetails(r[t])[1]+"<\/div><\/div>",$("#conflict-options-wrapper").append(c),s=r[t],$(".add-option").off();$(".add-option").on("click",function(n){n.preventDefault(),i.review.removeAnOptions(i.review.interior),i.review.removeAnOptions(s),i.viewManager.setFirstInterior(),$("#conflict-window").fadeOut(),i.viewManager.updateInteriorOption(i.justClicked,"option"),i.conflictWindow.setAllSelectedOptionHighlights()})}l===!1&&(this.review.removeAnOptions(n),$(".interior-option-package").html(""),console.log("THIS :: >> ")),this.conflictWindow.setAllSelectedOptionHighlights()},conflictIsColor:function(n){for(var r=!1,u=[],i=this.dataManager.getColors(),t=0;t<i.length;t++)n==i[t].Code?r=!0:u.push(i[t].Code);return[r,u]},conflictIsStripe:function(n){for(var r=!1,u=[],i=this.dataManager.getStripes(),t=0;t<i.length;t++)n==i[t].Code?r=!0:u.push(i[t].Code);return[r,u]},getConflictDetails:function(n){for(var i="",r="",u="",f="",e=!1,s=this.dataManager.getPackageOptions(),h,c,l,a,v,y,p,w,o,t=0;t<s.length;t++)n==s[t].Code&&(i=s[t].FullName,r=s[t].Price,u=s[t].Category,f=s[t].Description,e=!0);for(h=this.dataManager.getPackages(),t=0;t<h.length;t++)n==h[t].Code&&(i=h[t].FullName,r=h[t].Price,u="PACKAGE",f=h[t].Description,e=!0);if(c=this.dataManager.getColors(),i=="")for(t=0;t<c.length;t++)n==c[t].Code&&(i=c[t].Description,f=c[t].Description,r=c[t].Price,u="Colour",e=!0);if(l=this.dataManager.getWheels(),i=="")for(t=0;t<l.length;t++)n==l[t].Code&&(i=l[t].FullName,r=l[t].Price,u="WHEEL",f=l[t].Description,e=!0);if(a=this.dataManager.getRoofs(),i=="")for(t=0;t<a.length;t++)n==a[t].Code&&(i=a[t].FullName,r=a[t].Price,f=a[t].Description,u="ROOFCAP",e=!0);if(v=this.dataManager.getStripes(),i=="")for(t=0;t<v.length;t++)n==v[t].Code&&(i=v[t].FullName,r=v[t].Price,f=v[t].Description,u="STRIPE",e=!0);if(y=this.dataManager.getInteriors(),i=="")for(t=0;t<y.length;t++)n==y[t].Code&&(i=y[t].FullName,r=y[t].Price,f=y[t].Description,u="INTERIOR",e=!0);if(p=this.dataManager.getColourLines(),i=="")for(t=0;t<p.length;t++)n==p[t].Code&&(i=p[t].FullName,r=p[t].Price,f=p[t].Description,u="COLOURLINES",e=!0);if(w=this.dataManager.getTrimColours(),i=="")for(t=0;t<w.length;t++)n==w[t].Code&&(i=w[t].FullName,r=w[t].Price,f=w[t].Description,u="TRIM",e=!0);if(e==!1)for(o=this.dataManager.getRawData(),t=0;t<o.length;t++)n==o[t].Code&&(i=o[t].FullName,r=o[t].Price,u=o[t].Category,f=o[t].Description);return[i,r,u,f]},checkForInteriorConflict:function(n,t,i,r,u,f){var p=!1,w=!1,b=!0,s=[],o=[],h=[],c=[],nt=this.review.getOptions(),l=[],a=[],k,d,g,v,y,e;if(t!=!1&&(p=!0,k=""+t,o=k.split(",")),i!=!1&&(w=!0,d=""+i,c=d.split(",")),u!=!1&&(b=!1,g=""+u,h=g.split(",")),v=!1,b==!1)for(e=0;e<h.length;e++)this.isInOptions(h[e])?v=!0:s.push(h[e]);if(v&&(s=[]),p)for(e=0;e<o.length;e++)this.isInOptions(o[e])&&o[e]!="false"&&a.push(o[e]);if(w){for(y=!1,e=0;e<c.length;e++)this.isInOptions(c[e])?y=!0:l.push(c[e]);y&&(l=[])}return this.isInOptions(r)&&(r=""),l.length>0||a.length>0||s.length>0?this.conflictWindow.openConflictWindow(n,a,l,f,"",r,s):(f=="INTERIOR"&&(this.review.removeAnOptions(this.review.interior),this.review.interior=n,this.viewManager.updateInterior(n)),f=="COLOURLINE"&&(this.review.removeAnOptions(this.review.colorLine),this.review.colorLine=n,this.viewManager.updateInteriorOption(n,"option")),f=="TRIM"&&(this.review.removeAnOptions(this.review.trim),this.review.trim=n,this.viewManager.updateInteriorOption(n,"trim")),this.review.setOptions(n),this.conflictWindow.setAllSelectedOptionHighlights(),console.log(this.review.getOptions())),!1},optionRules:function(n,t,i,r){var c=!1,l=!1,f=[],e=[],y=this.review.getOptions(),o=[],s=[],a,v,h,u;if(t!=!1&&(c=!0,a=""+t,f=a.split(",")),i!=!1&&(l=!0,v=""+i,e=v.split(",")),c)for(u=0;u<f.length;u++)this.isInOptions(f[u])&&f[u]!="false"&&s.push(f[u]);if(l){for(h=!1,u=0;u<e.length;u++)this.isInOptions(e[u])?h=!0:(console.log(e[u]),o.push(e[u]));h&&(o=[])}return o.length>0||s.length>0?this.conflictWindow.openConflictWindow(n,s,o,r):(this.review.setOptions(n),this.viewManager.updateSelectedOption(n,"option-package"),this.conflictWindow.setAllSelectedOptionHighlights()),!1},wheelOptionRules:function(n,t,i,r){var c=!1,l=!1,f=[],e=[],y=this.review.getOptions(),o=[],s=[],a,v,h,u;if(t!=!1&&(c=!0,a=""+t,f=a.split(",")),i!=!1&&(l=!0,v=""+i,e=v.split(",")),c)for(u=0;u<f.length;u++)this.isInOptions(f[u])&&f[u]!="false"&&s.push(f[u]);if(l){for(h=!1,u=0;u<e.length;u++)this.isInOptions(e[u])?h=!0:(console.log(e[u]),o.push(e[u]));h&&(o=[])}return o.length>0||s.length>0?this.conflictWindow.openConflictWindow(n,s,o,r):(this.review.removeAnOptions(this.review.wheel),this.viewManager.updateOption(n,"wheel"),this.review.wheel=n,this.review.setOptions(n),this.conflictWindow.setAllSelectedOptionHighlights()),!1},packageOptionRules:function(n,t,i,r){var w=!1,l=!1,a=!1,b=!1,f=[],e=[],s=[],k=this.review.getOptions(),o=[],h=[],v,y,p,c,u;if(t!=!1&&(l=!0,v=""+t,f=v.split(",")),i!=!1&&(a=!0,y=""+i,e=y.split(",")),r!=!1&&(p=""+r,s=p.split(",")),l)for(u=0;u<f.length;u++)this.isInOptions(f[u])&&f[u]!="false"&&h.push(f[u]);if(a){for(c=!1,u=0;u<e.length;u++)this.isInOptions(e[u])?c=!0:(console.log(e[u]),o.push(e[u]));c&&(o=[])}return o.length>0||h.length>0||s.length>0?this.conflictWindow.openConflictWindow(n,h,o,"PACKAGE","","",s):(this.review.packages=n,this.review.setOptions(n),this.review.setCurrentPackage(n),this.viewManager.updateSelectedOption(this.getPackageOptions(n)[1][0],this.getPackageOptionCategory(this.getPackageOptions(n)[1][0])),this.conflictWindow.setAllSelectedOptionHighlights()),!1},getPackageOptionCategory:function(n){for(var i=this.dataManager.getPackageOptions(),r="",t=0;t<i.length;t++)n==i[t].Code&&(r=i[t].Category);return r},getPackageOptions:function(n){for(var i=this.dataManager.getPackages(),r=[],u=!1,t=0;t<i.length;t++)i[t].Code==n&&(r=i[t].PackageOptions,u=!0);return[u,r]},addPackagesOptions:function(n){for(var t=0;t<n.length;t++);},removePackagesOptions:function(n){for(var t=0;t<n.length;t++)this.review.removeAnOptions(n[t])},getAcceptable:function(n){for(var i,t=0;t<this.rules.length;t++)this.rules[t].id==n&&(i=this.rules[t].acceptable);return i},getMandatory:function(n){for(var i,t=0;t<this.rules.length;t++)this.rules[t].id==n&&(i=this.rules[t].mandatory);return i},getConflicts:function(n){for(var i,t=0;t<this.rules.length;t++)this.rules[t].id==n&&(i=typeof this.rules[t].conflicts===undefined?!1:this.rules[t].conflicts);return i},getRequired:function(n){for(var i,t=0;t<this.rules.length;t++)this.rules[t].id==n&&(i=this.rules[t].required);return i}},n}()}.call(this),function(){"use strict";var n=MINI.BuildAndPriceDataManager=function(){function n(n,t,i,r,u){this.data=n||[],this.newData=t||[],this.cacode=i||"",this.colours=[]||[],this.wheels=[]||[],this.options=[]||[],this.packageOptions=[]||[],this.interiors=[]||[],this.roofs=[]||[],this.stripes=[]||[],this.packages=[]||[],this.colourLines=[]||[],this.trimColours=[]||[],this.prices=[]||[],this.review=r||{},this.ALLDATA=[]||[],this.reviewData=[]||[],this.language=u||"",this.ALLINCLUSIVEPRICING=n.AllInclusivePricing||"",this.buildDataArrays(),console.log(n)}return n.prototype={buildDataArrays:function(){var i=this,t="",st,w,b,k,f,d,g,nt,tt,it,o,rt,s,ut,ft,n,r,ot;this.language=="fr"&&(t="_Fr"),st=[],w=[],$(this.newData).find("vehicleData").each(function(){$(this).find("Price").each(function(){var n=$(this).parent().find("Code").text(),t=$(this).text();w.push({Code:n,Price:t})})}),this.prices=w;var y=[],ht=$(this.newData).find("vehicleSpecific "+this.cacode+" colours").text(),h=ht.split(",");for($(this.newData).find("Colours node").each(function(){var n=$(this).find("Code").text(),i=$(this).find("Description"+t).text(),r=$(this).find("Price").text();y.push({Code:n,Description:i,Price:r})}),b=[],n=0;n<y.length;n++)for(r=0;r<h.length;r++)if(y[n].Code==h[r]){var l=y[n].Code,a=y[n].Description,v=y[n].Price;b.push({Code:l,Description:a,Price:v})}this.colours=b;var c=[],ct=$(this.newData).find("vehicleSpecific "+this.cacode+" wheels").text(),h=ct.split(",");for($(this.newData).find("Wheels node").each(function(){var n=$(this).find("Code").text(),i=$(this).find("Description"+t).text(),r=$(this).find("FullName"+t).text(),u=$(this).find("Price").text();c.push({Code:n,Description:i,Price:u,FullName:r})}),k=[],n=0;n<c.length;n++)for(r=0;r<h.length;r++)if(c[n].Code==h[r]){var l=c[n].Code,a=c[n].Description,v=c[n].Price,p=c[n].FullName;k.push({Code:l,Description:a,Price:v,FullName:p})}for(this.wheels=k,f=[],$(this.newData).find("Options node").each(function(){var n=$(this).find("Code").text(),i=$(this).find("Description"+t).text(),r=$(this).find("FullName"+t).text(),u=$(this).find("Price").text(),e=$(this).find("Category").text();f.push({Code:n,Description:i,Price:u,FullName:r,Category:e})}),d=[],n=0;n<f.length;n++)if(f[n].Category!="ROOFCAP"&&f[n].Category!="WHEEL"&&f[n].Category!="STRIPE"){var l=f[n].Code,a=f[n].Description,v=f[n].Price,p=f[n].FullName,et=f[n].Category;d.push({Code:l,Description:a,Price:v,FullName:p,Category:et})}this.packageOptions=d;var u=[],lt=$(this.newData).find("vehicleSpecific "+this.cacode+" options").text(),h=lt.split(",");for($(this.newData).find("Options node").each(function(){var n=$(this).find("Code").text(),i=$(this).find("Description"+t).text(),r=$(this).find("FullName"+t).text(),f=$(this).find("Price").text(),e=$(this).find("Category").text();u.push({Code:n,Description:i,Price:f,FullName:r,Category:e})}),g=[],n=0;n<u.length;n++)for(r=0;r<h.length;r++)if(u[n].Code==h[r]&&u[n].Category!="ROOFCAP"&&u[n].Category!="WHEEL"&&u[n].Category!="STRIPE"){var l=u[n].Code,a=u[n].Description,v=u[n].Price,p=u[n].FullName,et=u[n].Category;g.push({Code:l,Description:a,Price:v,FullName:p,Category:et})}for(this.options=g,nt=[],$(this.newData).find("Interiors node").each(function(){var n=$(this).find("Code").text(),i=$(this).find("Description"+t).text(),r=$(this).find("FullName"+t).text(),u=$(this).find("Price").text(),f=$(this).find("Category").text(),e=$(this).find("manditory").text();nt.push({Code:n,Description:i,Price:u,FullName:r,Category:f,Maditory:e})}),this.interiors=nt,tt=[],$(this.newData).find("ColourLines node").each(function(){var n=$(this).find("Code").text(),i=$(this).find("Description"+t).text(),r=$(this).find("FullName"+t).text(),u=$(this).find("Price").text(),f=$(this).find("Category").text();tt.push({Code:n,Description:i,Price:u,FullName:r,Category:f})}),this.colourLines=tt,it=[],$(this.newData).find("TrimColours node").each(function(){var n=$(this).find("Code").text(),i=$(this).find("Description"+t).text(),r=$(this).find("FullName"+t).text(),u=$(this).find("Price").text(),f=$(this).find("Category").text();it.push({Code:n,Description:i,Price:u,FullName:r,Category:f})}),this.trimColours=it,o=[],$(this.newData).find("Options node").each(function(){var n=$(this).find("Code").text(),i=$(this).find("Description"+t).text(),r=$(this).find("FullName"+t).text(),u=$(this).find("Price").text(),f=$(this).find("Category").text();o.push({Code:n,Description:i,Price:u,FullName:r,Category:f})}),rt=[],n=0;n<o.length;n++)if(o[n].Category=="ROOFCAP"){var l=o[n].Code,a=o[n].Description,v=o[n].Price,p=o[n].FullName;rt.push({Code:l,Description:a,Price:v,FullName:p})}for(this.roofs=rt,s=[],$(this.newData).find("Options node").each(function(){var n=$(this).find("Code").text(),i=$(this).find("Description"+t).text(),r=$(this).find("FullName"+t).text(),u=$(this).find("Price").text(),f=$(this).find("Category").text();s.push({Code:n,Description:i,Price:u,FullName:r,Category:f})}),ut=[],n=0;n<s.length;n++)if(s[n].Category=="STRIPE"){var l=s[n].Code,a=s[n].Description,v=s[n].Price,p=s[n].FullName;ut.push({Code:l,Description:a,Price:v,FullName:p})}this.stripes=ut;var e=[],at=$(this.newData).find("vehicleSpecific "+this.cacode+" packages").text(),h=at.split(",");for($(this.newData).find("Packages node").each(function(){for(var u=$(this).find("Code").text(),f=$(this).find("Description"+t).text(),o=$(this).find("FullName"+t).text(),s=$(this).find("Price").text(),h=$(this).find("Category").text(),c=$(this).find("options").text(),i=c.split(","),r=[],n=0;n<i.length;n++)r.push(i[n]);e.push({Code:u,Description:f,Price:s,FullName:o,Category:h,PackageOptions:r})}),ft=[],n=0;n<e.length;n++)for(r=0;r<h.length;r++)if(e[n].Code==h[r]){var l=e[n].Code,a=e[n].Description,v=e[n].Price,p=e[n].FullName,f=e[n].PackageOptions,et=e[n].Category;ft.push({Code:l,Description:a,Price:v,FullName:p,PackageOptions:f,Category:et})}this.packages=ft,ot=[],$(this.newData).find("vehicleData").each(function(){$(this).find("Code").each(function(){var f=$(this).parent().find("Price").text(),n=$(this).text(),e=$(this).parent().find("Description"+t).text(),o=$(this).parent().find("FullName"+t).text(),r=$(this).parent().find("Category").text();i.isInArray(n,u)&&(r="OPTIONS"),i.isInArray(n,i.colours)&&(r="EXTERIOR"),i.isInArray(n,i.stripes)&&(r="EXTERIOR"),i.isInArray(n,i.roofs)&&(r="EXTERIOR"),i.isInArray(n,i.wheels)&&(r="WHEELS"),i.isInArray(n,i.interiors)&&(r="INTERIOR"),i.isInArray(n,i.colourLines)&&(r="INTERIOR"),i.isInArray(n,i.trimColours)&&(r="INTERIOR"),i.isInArray(n,i.packages)&&(r="PACKAGES"),ot.push({Code:n,Price:f,FullName:o,Description:e,Category:r})})}),this.ALLDATA=ot},isInArray:function(n,t){for(var r=!1,i=0;i<t.length;i++)n==t[i].Code&&(r=!0);return r},getReviewData:function(){for(var o=[],s=[],h=[],c=[],l=[],a=[],v=this.review.getOptions(),e,n=0;n<this.ALLDATA.length;n++)for(e=0;e<v.length;e++)if(typeof this.ALLDATA[n].Code!="undefined"&&this.ALLDATA[n].Code==v[e]){var i=this.ALLDATA[n].Code,r=this.ALLDATA[n].Description,u=this.ALLDATA[n].FullName,f=this.ALLDATA[n].Price,t=this.ALLDATA[n].Category;t=="EXTERIOR"&&s.push({Code:i,Price:f,FullName:u,Description:r,Category:t}),t=="INTERIOR"&&h.push({Code:i,Price:f,FullName:u,Description:r,Category:t}),t=="WHEELS"&&c.push({Code:i,Price:f,FullName:u,Description:r,Category:t}),t=="OPTIONS"&&l.push({Code:i,Price:f,FullName:u,Description:r,Category:t}),t=="PACKAGES"&&a.push({Code:i,Price:f,FullName:u,Description:r,Category:t})}return o.push({EXTERIOR:s,INTERIOR:h,WHEELS:c,OPTIONS:l,PACKAGES:a}),o},getColors:function(){return this.colours},getWheels:function(){return this.wheels},getAllOptions:function(){return this.options},getPackageOptions:function(){return this.packageOptions},getInteriors:function(){return this.interiors},getColourLines:function(){return this.colourLines},getTrimColours:function(){return this.trimColours},getRoofs:function(){return this.roofs},getStripes:function(){return this.stripes},getPackages:function(){return this.packages},getPrice:function(){var n=_.find(this.ALLINCLUSIVEPRICING,function(n){if(n.ProvinceShort==="QC")return n.FreightAndPDI});return[MINIHelpers.priceForDisplay(this.data.Price,n.FreightAndPDI,MINIHelpers.getProvince()),MINIHelpers.getProvince()]},getAllData:function(){return this.data},getRawData:function(){return this.ALLDATA},getPrices:function(){return this.prices}},n}()}.call(this),function(){"use strict";var n=MINI.BuildAndPriceViewManager=function(){function n(n,t,i,r,u,f,e,o,s){this.frontView=n||"",this.rearView=t||"",this.interiorView=i||"",this.ecode=u||"",this.cacode=f||"",this.category="exterior",this.dataManager=s||"",this.ruleManager=e||"",this.review=o||"",this.data=r||[],this.color="",this.roof="",this.wheel="",this.stripe="",this.colorLine="",this.calculator={}||{},this.province="",this.initialize()}return n.prototype={initialize:function(){var n=this;this.cacode=="14HA"&&(this.color="850"),this.cacode=="14HB"&&(this.color="B70"),this.review.setOptions(this.color),this.review.color=this.color,this.setBoxColor(this.review.color),this.buildCategoryOptions(),this.setPriceWindow(),this.setFirstInterior(),$("#review-view").hide(),this.hideShowContainers("#front-view"),this.calculator=new MINI.BuildAndPriceCalculator(this.data,this.review,this.dataManager.language,this.cacode);$(".estamate-price").on("click",function(){n.calculator.openCalculator()})},buildCategoryOptions:function(){var nt=this,h,y,c,p,r,w,e,a,b,u,k,f,l,v,o,tt,s,d,i,n,it,t,g;for($("#build-colours .list-content-wrapper").html(""),h=this.dataManager.getColors(),n=0;n<h.length;n++)t="$"+h[n].Price,this.dataManager.language=="fr"&&(t=h[n].Price+" $"),y='<div class="color-item" ><a href="#"><img data-acceptable="'+this.ruleManager.getAcceptable(h[n].Code)+'" class="color-image" src="/Public/img/v/'+this.ecode+"/build-and-price/Icons/"+h[n].Code+'.jpg" data-trigger="hover" placement="top" rel="popover" data-content="" data-original-title="'+h[n].Description+'" data-price="'+h[n].Price+'" data-id="'+h[n].Code+'" data-conflicts="'+this.ruleManager.getConflicts(h[n].Code)+'" data-required="'+this.ruleManager.getRequired(h[n].Code)+'" data-id="'+h[n].Code+'" /><\/a>  <div class="item-right-side"><h5>'+t+'<\/h5> <\/div> <div class="info-icon"><img src="/Public/img/v/'+this.ecode+'/build-and-price/Icons/info-icon.png" data-trigger="hover" placement="left" rel="popover" data-content="" data-original-title="'+h[n].Description+'"/> <\/div>',$("#build-colours .list-content-wrapper").append(y);for($("#build-colours .list-content-wrapper").find(".color-item").each(function(){var n=$(this).find("img").data("id");n==nt.color&&($(this).find(".option-check").show(),$(this).find(".color-image").addClass("selected"))}),$("#roofs .list-content-wrapper").html(""),c=this.dataManager.getRoofs(),n=0;n<c.length;n++)t="$"+c[n].Price,this.dataManager.language=="fr"&&(t=c[n].Price+" $"),p='<div class="color-item" ><a href="#"><img data-acceptable="'+this.ruleManager.getAcceptable(c[n].Code)+'" class="color-image"  src="/Public/img/v/'+this.ecode+"/build-and-price/Icons/"+c[n].Code+'.jpg" data-price="'+c[n].Price+'" data-id="'+c[n].Code+'" data-conflicts="'+this.ruleManager.getConflicts(c[n].Code)+'" data-required="'+this.ruleManager.getRequired(c[n].Code)+'"  data-trigger="hover" placement="top" rel="popover" data-content="" data-original-title="'+c[n].Description+'"/><\/a>  <div class="item-right-side"><h5>'+t+'<\/h5> <\/div> <div class="info-icon"><img src="/Public/img/v/'+this.ecode+'/build-and-price/Icons/info-icon.png" data-trigger="hover" placement="left" rel="popover" data-content="" data-original-title="'+c[n].Description+'"/> <\/div>',$("#roofs .list-content-wrapper").append(p);for($("#stripes .list-content-wrapper").html(""),r=this.dataManager.getStripes(),n=0;n<r.length;n++)t="$"+r[n].Price,this.dataManager.language=="fr"&&(t=r[n].Price+" $"),w='<div class="color-item" ><a href="#"><div class="option-check"><img data-acceptable="'+this.ruleManager.getAcceptable(r[n].Code)+'"  data-conflicts="'+this.ruleManager.getConflicts(r[n].Code)+'" data-required="'+this.ruleManager.getRequired(r[n].Code)+'"  data-trigger="hover" rel="popover" data-content="" data-original-title="'+r[n].Description+'" data-id="'+r[n].Code+'" src="/Public/img/v/F56/build-and-price/Icons/check-mark.png"/><\/div><img class="color-image"  src="/Public/img/v/'+this.ecode+"/build-and-price/Icons/"+r[n].Code+'.jpg" data-price="'+r[n].Price+'" data-conflicts="'+this.ruleManager.getConflicts(r[n].Code)+'" data-required="'+this.ruleManager.getRequired(r[n].Code)+'"  data-id="'+r[n].Code+'" data-trigger="hover" placement="top" rel="popover" data-content="" data-original-title="'+r[n].Description+'"/><\/a> <div class="item-right-side"><h5>'+t+'<\/h5> <\/div> <div class="info-icon"><img src="/Public/img/v/'+this.ecode+'/build-and-price/Icons/info-icon.png" data-trigger="hover" placement="left" rel="popover" data-content="" data-original-title="'+r[n].Description+'"/> <\/div>',$("#stripes .list-content-wrapper").append(w);for($("#packages .package-list-wrapper").html(""),e=this.dataManager.getPackages(),n=0;n<e.length;n++)t="$"+e[n].Price,a="Click for package info",this.dataManager.language=="fr"&&(t=e[n].Price+" $",a="Cliquez pour plus d'informations Forfait"),b='<div class="package-item"><a href="#"><img data-acceptable="'+this.ruleManager.getAcceptable(e[n].Code)+'"  class="package-display-image" data-cat="'+e[n].Category+'"  data-conflicts="'+this.ruleManager.getConflicts(e[n].Code)+'" data-required="'+this.ruleManager.getRequired(e[n].Code)+'"  src="/Public/img/v/'+this.ecode+"/build-and-price/Icons/"+e[n].Code+'.jpg" data-id="'+e[n].Code+'"  data-price="'+e[n].Price+'"/><div class="item-right-side"><h5>'+e[n].FullName+"<\/h5><h5>"+t+'<\/h5> <\/div> <div class="info-icon"><img src="/Public/img/v/'+this.ecode+'/build-and-price/Icons/info-icon.png" data-price="'+e[n].Price+'" data-trigger="hover" data-id="'+e[n].Code+'" placement="left" rel="popover" data-content="" data-original-title="'+a+'"/><\/div><\/a><\/div>',$("#packages .package-list-wrapper").append(b);for($("#interiors .interior-list-wrapper").html(""),u=this.dataManager.getInteriors(),n=0;n<u.length;n++)t="$"+u[n].Price,this.dataManager.language=="fr"&&(t=u[n].Price+" $"),k='<div class="package-item"><a href="#"><img data-acceptable="'+this.ruleManager.getAcceptable(u[n].Code)+'" data-manditory="'+this.ruleManager.getMandatory(u[n].Code)+'" data-conflicts="'+this.ruleManager.getConflicts(u[n].Code)+'" data-required="'+this.ruleManager.getRequired(u[n].Code)+'" class="package-display-image" src="/Public/img/v/'+this.ecode+"/build-and-price/Icons/"+u[n].Code+'.jpg" data-id="'+u[n].Code+'"  data-price="'+u[n].Price+'"/><div class="item-right-side"><h5>'+u[n].FullName+"<\/h5><h5>"+t+'<\/h5> <\/div> <div class="info-icon"><img src="/Public/img/v/'+this.ecode+'/build-and-price/Icons/info-icon.png" data-price="'+u[n].Price+'" data-trigger="hover" data-id="'+u[n].Code+'" placement="left" rel="popover" data-content="" data-original-title="'+u[n].Description+'"/><\/div><\/a><\/div>',$("#interiors #uplolstery .interior-list-wrapper").append(k);for($("#interiors .package-list-wrapper #colour-lines .interior-list-wrapper").html(""),f=this.dataManager.getColourLines(),n=0;n<f.length;n++)l=this.ruleManager.getRequired(f[n].Code),typeof l=="undefined"&&(l="false"),t="$"+f[n].Price,this.dataManager.language=="fr"&&(t=f[n].Price+" $"),v='<div class="package-item"><a href="#"><img data-acceptable="'+this.ruleManager.getAcceptable(f[n].Code)+'" data-conflicts="'+this.ruleManager.getConflicts(f[n].Code)+'" data-required="'+l+'" class="package-display-image" src="/Public/img/v/'+this.ecode+"/build-and-price/Icons/"+f[n].Code+'.jpg" data-id="'+f[n].Code+'"  data-price="'+f[n].Price+'"/><div class="item-right-side"><h5>'+f[n].FullName+"<\/h5><h5>"+t+'<\/h5> <\/div> <div class="info-icon"><img src="/Public/img/v/'+this.ecode+'/build-and-price/Icons/info-icon.png" data-price="'+f[n].Price+'" data-trigger="hover" data-id="'+f[n].Code+'" placement="left" rel="popover" data-content="" data-original-title="'+f[n].Description+'"/><\/div><\/a><\/div>',this.cacode=="14HA"?f[n].Code!="4EU"&&$("#interiors #colour-lines .interior-list-wrapper").append(v):$("#interiors #colour-lines .interior-list-wrapper").append(v);for($("#interiors .package-list-wrapper #trim-colours .interior-list-wrapper").html(""),o=this.dataManager.getTrimColours(),n=0;n<o.length;n++)t="$"+o[n].Price,this.dataManager.language=="fr"&&(t=o[n].Price+" $"),tt='<div class="package-item"><a href="#"><img data-acceptable="'+this.ruleManager.getAcceptable(o[n].Code)+'" data-conflicts="'+this.ruleManager.getConflicts(o[n].Code)+'" data-required="'+this.ruleManager.getRequired(o[n].Code)+'" class="package-display-image" src="/Public/img/v/'+this.ecode+"/build-and-price/Icons/"+o[n].Code+'.jpg" data-id="'+o[n].Code+'"  data-price="'+o[n].Price+'"/><div class="item-right-side"><h5>'+o[n].FullName+"<\/h5><h5>"+t+'<\/h5> <\/div> <div class="info-icon"><img src="/Public/img/v/'+this.ecode+'/build-and-price/Icons/info-icon.png" data-price="'+o[n].Price+'" data-trigger="hover" data-id="'+o[n].Code+'" placement="left" rel="popover" data-content="" data-original-title="'+o[n].Description+'"/><\/div><\/a><\/div>',$("#interiors #trim-colours").hide();for($("#wheels .package-list-wrapper").html(""),s=this.dataManager.getWheels(),n=0;n<s.length;n++)t="$"+s[n].Price,this.dataManager.language=="fr"&&(t=s[n].Price+" $"),d='<div class="package-item"><a href="#"><img data-acceptable="'+this.ruleManager.getAcceptable(s[n].Code)+'"  class="package-display-image" data-id="'+s[n].Code+'" data-conflicts="'+this.ruleManager.getConflicts(s[n].Code)+'" data-required="'+this.ruleManager.getRequired(s[n].Code)+'" src="/Public/img/v/'+this.ecode+"/build-and-price/Icons/"+s[n].Code+'.jpg" data-price="'+s[n].Price+'"/><div class="item-right-side"><h5>'+s[n].FullName+"<\/h5><h5>"+t+'<\/h5> <\/div> <div class="info-icon"><img src="/Public/img/v/'+this.ecode+'/build-and-price/Icons/info-icon.png" data-price="'+s[n].Price+'" data-trigger="hover" data-id="'+s[n].Code+'" placement="left" rel="popover" data-content=""data-original-title=\''+s[n].Description+"'/><\/div><\/a><\/div>",$("#wheels .package-list-wrapper").append(d);for($("#options .package-list-wrapper").html(""),i=this.dataManager.getAllOptions(),n=0;n<i.length;n++)it=i[n].Code,t="$"+i[n].Price,this.dataManager.language=="fr"&&(t=i[n].Price+" $"),g='<div class="package-item"><a href="#"><img data-acceptable="'+this.ruleManager.getAcceptable(i[n].Code)+'" class="package-display-image" data-cat="'+i[n].Category+'" data-conflicts="'+this.ruleManager.getConflicts(i[n].Code)+'" data-required="'+this.ruleManager.getRequired(i[n].Code)+'"  src="/Public/img/v/'+this.ecode+"/build-and-price/Icons/"+i[n].Code+'.jpg" data-id="'+i[n].Code+'" data-price="'+i[n].Price+'"/><div class="item-right-side"><h5>'+i[n].FullName+"<\/h5><h5>"+t+'<\/h5> <\/div><div class="info-icon"><img src="/Public/img/v/'+this.ecode+'/build-and-price/Icons/info-icon.png" data-price="'+i[n].Price+'" data-trigger="hover" data-cat="'+i[n].Category+'"  data-id="'+i[n].Code+'" placement="left" rel="popover" data-content="" data-original-title="'+i[n].Description+'"/><\/div><\/a><\/div>',$("#options .package-list-wrapper").append(g);$("#front-view #view-options").html(""),$("#front-view #stripe-options").html(""),$("#front-view #view-wheels").html(""),this.hideShowContainers("#front-view"),this.navigationEvents(),this.updateFrontView(),$(".content-list").hide(),$("#exterior-list-items").find(".content-list").show(200)},setPriceWindow:function(){var n="$"+this.dataManager.getPrice()[0].toLocaleString();this.province=this.dataManager.getPrice()[1],this.review.setProvince(this.province),this.province=="QC"&&($(".qc-only").show(),$("#build-price-modal .base-price").css({top:"455px"}),$("#build-price-modal .configured-price").css({top:"455px"}),$("#build-price-modal #review-price-holder .base-price").css({top:"62px"}),$("#build-price-modal #review-price-holder .configured-price").css({top:"62px"})),this.dataManager.language=="fr"&&(n=this.review.commaSeparateNumber(this.dataManager.getPrice()[0]," ")+" $"),$(".base-price .price").html(n),this.review.updatePrice()},navigationEvents:function(){var n=this;this.ruleManager.setData(this.dataManager.getAllData()),this.ruleManager.setViewManager(this);$("#build-colours a").on("click",function(t){t.preventDefault();var i=$(this).find("img").data("id"),r=$(this).find("img").data("conflicts"),u=$(this).find("img").data("required");i!=n.review.color&&n.ruleManager.checkForColorConflicts(i,n.review.color,n.review.roof,n.review.stripe,r,u,"COLOUR")});$("#build-colours img").popover({placement:"top",container:"body"});$("#roofs a").on("click",function(t){t.preventDefault();var i=$(this).find("img").data("id"),r=$(this).find("img").data("conflicts"),u=$(this).find("img").data("required");$(this).find(".color-image").is(".selected")?n.ruleManager.checkReverseConflict(i,n.review.roof):n.ruleManager.checkForColorConflicts(i,n.review.color,n.review.roof,n.review.stripe,r,u,"ROOFCAP")});$("#stripes a").on("click",function(t){t.preventDefault();var i=$(this).find("img").data("id"),r=$(this).find("img").data("conflicts"),u=$(this).find("img").data("required");$(this).find(".color-image").is(".selected")?(n.review.removeAnOptions(i),n.review.stripe="",$("#stripe-options").html(""),n.ruleManager.conflictWindow.setAllSelectedOptionHighlights()):n.ruleManager.checkForColorConflicts(i,n.review.color,n.review.roof,n.review.stripe,r,u,"STRIPES")});$("#stripes img, #roofs img").popover({placement:"top",container:"body"});$("#interiors #uplolstery a").on("click",function(t){t.preventDefault();var i=$(this).find(".package-display-image").data("id"),r=$(this).find("img").data("conflicts"),u=$(this).find("img").data("required"),f=$(this).find("img").data("manditory"),e=$(this).find("img").data("acceptable");$(this).find(".package-display-image").is(".selected")?($(this).find(".package-display-image").removeClass("selected"),n.review.removeAnOptions(i),n.setFirstInterior(),n.ruleManager.conflictWindow.setAllSelectedOptionHighlights()):n.ruleManager.checkForInteriorConflict(i,r,u,f,e,"INTERIOR")});$("#interiors #colour-lines a").on("click",function(t){t.preventDefault();var i=$(this).find(".package-display-image").data("id"),r=$(this).find("img").data("conflicts"),u=$(this).find("img").data("required"),f=$(this).find("img").data("manditory"),e=$(this).find("img").data("acceptable");$(this).find(".package-display-image").is(".selected")?($(this).find(".package-display-image").removeClass("selected"),n.review.removeAnOptions(i),$("#interior-option").html(""),n.review.colorLine="",n.ruleManager.conflictWindow.setAllSelectedOptionHighlights()):n.ruleManager.checkForInteriorConflict(i,r,u,f,e,"COLOURLINE")});$("#interiors #trim-colours a").on("click",function(t){t.preventDefault();var i=$(this).find(".package-display-image").data("id"),r=$(this).find("img").data("conflicts"),u=$(this).find("img").data("required"),f=$(this).find("img").data("manditory"),e=$(this).find("img").data("acceptable");$(this).find(".package-display-image").is(".selected")?($(this).find(".package-display-image").removeClass("selected"),n.review.removeAnOptions(i),$("#interior-trim").html(""),n.review.trim="",n.ruleManager.conflictWindow.setAllSelectedOptionHighlights()):n.ruleManager.checkForInteriorConflict(i,r,u,f,e,"TRIM")});$("#interiors img").popover({placement:"left",container:"body"});$("#wheels a").on("click",function(t){t.preventDefault();var i=$(this).find(".package-display-image").data("id"),r=$(this).find("img").data("conflicts"),u=$(this).find("img").data("required");$(this).find(".package-display-image").is(".selected")?($(this).find(".package-display-image").removeClass("selected"),n.review.removeAnOptions(i),$("#rear-view #view-wheels").html(""),$("#front-view #view-wheels").html(""),n.review.wheel="",n.ruleManager.conflictWindow.setAllSelectedOptionHighlights()):n.ruleManager.wheelOptionRules(i,r,u,"WHEEL"),$("#interior-view").is(":visible")&&n.hideShowContainers("#front-view")});$("#wheels img").popover({placement:"left",container:"body"});$("#options a").on("click",function(t){t.preventDefault();var r=$(this).find(".package-display-image").data("id"),u=$(this).find(".package-display-image").data("conflicts"),f=$(this).find(".package-display-image").data("required"),i=$(this).find(".package-display-image").data("cat");$(this).find(".package-display-image").is(".selected")?n.ruleManager.checkForOptionReverse(r):(n.ruleManager.optionRules(r,u,f,"OPTION"),i=="INTERIOR"&&n.hideShowContainers("#interior-view"),i=="WHEELS"&&n.hideShowContainers("#front-view"),i=="EXTERIOR"&&n.hideShowContainers("#front-view"))});$("#options img").popover({placement:"left",container:"body"});$("#packages a").on("click",function(n){n.preventDefault()});$("#packages a").on("click",function(t){t.preventDefault();var r=$(this).find(".package-display-image").data("id"),f=$(this).find(".package-display-image").data("conflicts"),e=$(this).find(".package-display-image").data("required"),i=$(this).find(".package-display-image").data("cat"),u=$(this).find(".package-display-image").data("acceptable");console.log(u),$(this).find(".package-display-image").is(".selected")?n.ruleManager.checkForPackageReverse(r):(i=="INTERIOR"&&n.hideShowContainers("#interior-view"),i=="WHEELS"&&n.hideShowContainers("#front-view"),i=="EXTERIOR"&&n.hideShowContainers("#front-view"),n.ruleManager.packageOptionRules(r,f,e,u))});$("#packages img").popover({placement:"left",container:"body"});$("#packages .info-icon img").on("click",function(t){t.preventDefault(),t.stopPropagation();var i=$(this).data("id"),r=$(this).data("conflicts");n.openPackageWindow(i)});$(".legal-pop").on("click",function(){n.ruleManager.conflictWindow.openLegalModal()})},setFirstInterior:function(){var n=this.dataManager.getInteriors(),t,i;this.updateInterior(n[0].Code),t=this,i=0,$("#interiors a").each(function(){i++,i==1&&(t.review.setInterior(n[0].Code),t.review.interior=n[0].Code,t.review.setOptions(n[0].Code),$(this).find(".package-display-image").addClass("selected"))})},openPackageWindow:function(n){var f=this,i,t,u,r,e;for($("#conflict-window").fadeIn(),$("#conflict-options-wrapper").html(""),i=this.dataManager.getPackages(),t=0;t<i.length;t++)if(i[t].Code==n)for($("#conflict-innner h2").html(i[t].FullName),$("#conflict-innner h5").html("$"+i[t].Price),u="PACKAGE INCLUDES THE FOLLOWING AWESOME ITEMS:",this.dataManager.language=="fr"&&(u="Ce ensembles comprend les éléments suivants:"),$("#conflict-innner p").html("<h5>"+u+"<\/h5>"),r=0;r<i[t].PackageOptions.length;r++)e='<div class="option-item-dark"><div class="opiton-image"><img src="/Public/img/v/'+this.ecode+"/build-and-price/Icons/"+i[t].PackageOptions[r]+'.jpg"/><\/div><h5>'+this.ruleManager.getConflictDetails(i[t].PackageOptions[r])[0]+'<\/h5> <div class="option-price">INCL.<\/div><\/div>',$("#conflict-options-wrapper").append(e),$(".option-item-dark:odd").css("background-color","#222222");$(".add-option").hide(),$("#conflict-innner .close, .cancel-option").off();$("#conflict-innner .close, .cancel-option").on("click",function(n){n.preventDefault(),$("#conflict-window").fadeOut(),f.review.removeAnOptions(f.justClicked)})},openReivewView:function(){var e=$("#front-view").html(),t,r,n,i,u,f;for($("#review-vehicle-view").html(e),$("#review-vehicle-view img").css({width:"400px"}),$("#review-list-options").html(""),t=[{en:"EXTERIOR",fr:"extérieur"},{en:"INTERIOR",fr:"intérieur"},{en:"OPTIONS",fr:"options"},{en:"WHEELS",fr:"roues"},{en:"PACKAGES",fr:"forfaits"}],r=this.dataManager.getReviewData(),n=0;n<t.length;n++)for(r[0][t[n].en].sort(function(n,t){return n.Price-t.Price}),i=0;i<r[0][t[n].en].length;i++)i==0&&(u=r[0][t[n].en][i].Category,this.dataManager.language=="fr"&&(u=t[n].fr),f='<div style="clear:both;" class="review-list-item-block"><h4>'+u+'<\/h4><div id="'+r[0][t[n].en][i].Category+'" class="review-list-wrapper"><\/div><\/div>',$("#review-list-options").append(f)),$(".review-list-item-block #"+r[0][t[n].en][i].Category).append(this.appendChildNode(r[0][t[n].en][i].FullName,r[0][t[n].en][i].Price,r[0][t[n].en][i].Code,r[0][t[n].en][i].Description)),$(".option-item-dark:odd").css("background-color","#222222");$(".review-option-info-icon img").on("click",function(){$("#review-popup").fadeIn();var n=$(this).data("name"),t=$(this).data("price"),i=$(this).data("desc"),r=$(this).data("code"),u='<img src="/Public/img/v/F56/build-and-price/Icons/'+r+'.jpg"/>';$(".review-popup-image").html(u),$(".review-option-title h2").html(n),$(".review-option-title h4").html('<span class="dollar-sign">$<\/span>'+t),$(".review-popup-copy").html(i)});$("#review-popup-close").on("click",function(){$("#review-popup").fadeOut()})},appendChildNode:function(n,t,i,r){return'<div class="option-item-dark"><div class="opiton-image"><img src="/Public/img/v/F56/build-and-price/Icons/'+i+'.jpg"/><\/div><h5>'+n+'<\/h5> <div class="option-price">$'+t+'<\/div> <div class="review-option-info-icon"><img data-name="'+n+'" data-price="'+t+'" data-desc="'+r+'" data-code="'+i+'" src="/Public/img/v/'+this.ecode+'/build-and-price/Icons/info-icon.png"/><\/div><\/div>'},updateFrontView:function(){var n='<img src="/Public/img/v/'+this.ecode+"/build-and-price/"+this.cacode+"/Colours/Front/"+this.review.color+'.png" />';$("#build-loader").fadeIn(),$(n).load(function(){$("#front-view #main-car-image").html(n),$("#build-loader").fadeOut()}),this.updateRearView()},updateRearView:function(){var n='<img src="/Public/img/v/'+this.ecode+"/build-and-price/"+this.cacode+"/Colours/Rear/"+this.review.color+'.png" />';$(n).load(function(){$("#rear-view #main-car-image").html(n)})},hideShowContainers:function(n){n==this.frontView&&($(this.frontView).fadeIn(),$(this.rearView).fadeOut(),$(this.interiorView).fadeOut()),n==this.rearView&&($(this.frontView).fadeOut(),$(this.rearView).fadeIn(),$(this.interiorView).fadeOut()),n==this.interiorView&&($(this.frontView).fadeOut(),$(this.rearView).fadeOut(),$(this.interiorView).fadeIn())},hideShowListItems:function(n){$(".content-list").hide(),$("#"+n+"-list-items").find(".content-list").show(),n=="interior"&&this.hideShowContainers("#interior-view"),n=="wheels"&&this.hideShowContainers("#front-view"),n=="exterior"&&this.hideShowContainers("#front-view"),n=="package"&&this.hideShowContainers("#front-view"),n=="options"&&this.hideShowContainers("#interior-view")},updateOption:function(n,t){var i="",r,u;t=="stripe"&&(i="#stripe-options"),t=="roof"&&(i="#view-options"),t=="wheel"&&(i="#view-wheels"),r='<img src="/Public/img/v/'+this.ecode+"/build-and-price/"+this.cacode+"/Options/Front/"+n+'.png" />',$(r).load(function(){$("#front-view "+i).html(r)}),u='<img src="/Public/img/v/'+this.ecode+"/build-and-price/"+this.cacode+"/Options/Rear/"+n+'.png" />',$(u).load(function(){$("#rear-view "+i).html(u)})},updateInterior:function(n){var t='<img src="/Public/img/v/'+this.ecode+"/build-and-price/"+this.cacode+"/Interiors/"+n+'.png" />';$("#build-loader").fadeIn(),$(t).load(function(){$("#build-loader").fadeOut(),$("#interior-view #interior-main-image").html(t)})},updateInteriorOption:function(n,t){var i='<img src="/Public/img/v/'+this.ecode+"/build-and-price/"+this.cacode+"/Options/Front/"+n+'.png" />';$("#build-loader").fadeIn(),console.log(t),$(i).load(function(){$("#build-loader").fadeOut(),$("#interior-view #interior-"+t).html(i)}),$(i).bind("error",function(){$("#build-loader").fadeOut()})},updateSelectedOption:function(n,t){var i='<img src="/Public/img/v/'+this.ecode+"/build-and-price/"+this.cacode+"/Options/Front/"+n+'.png" />',r,u;$("#build-loader").fadeIn(),t=="option-package"&&($(i).load(function(){$("#build-loader").fadeOut();var t='<div id="'+n+'" class="interior-option-package">'+i+"<\/div>";$("#interior-view").append(t)}),$(i).bind("error",function(){$("#build-loader").fadeOut()})),t=="EXTERIOR"&&(r='<img src="/Public/img/v/'+this.ecode+"/build-and-price/"+this.cacode+"/Options/Front/"+n+'.png" />',$(r).load(function(){$("#build-loader").fadeOut();var t='<div id="'+n+'" class="exterior-option-package">'+r+"<\/div>";$("#package-options").append(t)}),$(i).bind("error",function(){$("#build-loader").fadeOut()})),(t=="INTERIOR"||t=="package-exterior")&&(u='<img src="/Public/img/v/'+this.ecode+"/build-and-price/"+this.cacode+"/Options/Front/"+n+'.png" />',$(u).load(function(){$("#build-loader").fadeOut();var t='<div id="'+n+'" class="interior-option-package">'+u+"<\/div>";$("#interior-view").append(t)}),$(i).bind("error",function(){$("#build-loader").fadeOut()}))},setBoxColor:function(n){var e=this,r=[{id:"850",color:"dcdace"},{id:"851",color:"d51314"},{id:"A62",color:"b8b7b2"},{id:"A63",color:"052558"},{id:"A94",color:"000000"},{id:"B22",color:"101c12"},{id:"B23",color:"77200d"},{id:"B24",color:"404040"},{id:"B48",color:"426086"},{id:"B62",color:"36538d"},{id:"B15",color:"dcdace"},{id:"A48",color:"2e2d2b"},{id:"B11",color:"000000"},{id:"B12",color:"aeaeac"},{id:"B26",color:"101c12"},{id:"B14",color:"1c3b71"},{id:"B28",color:"8e9e9e"},{id:"B49",color:"231917"},{id:"B19",color:"574a44"},{id:"B63",color:"881415"},{id:"B60",color:"6a352d"},{id:"B43",color:"353d4a"},{id:"S49",color:"231917"},{id:"S62",color:"b8b7b2"},{id:"S94",color:"000000"},{id:"K62",color:"b8b7b2"},{id:"K94",color:"000000"},{id:"F56",color:"DB841C"},{id:"B83",color:"a51c1e"},{id:"B69",color:"1c395a"},{id:"B70",color:"a35912"},{id:"B58",color:"51535f"},{id:"B71",color:"51535f"}],f=["A94","B11","S94","K94"],u,t,i;for(_.indexOf(f,n)>-1&&(n="850"),u=$("#build-modal-left-container"),t=0;t<r.length;t++)n==r[t].id&&(i="#"+r[t].color,$(u).animate({borderTopColor:i,borderLeftColor:i,borderRightColor:i,borderBottomColor:i}))}},n}()}.call(this),function(){"use strict";var n=MINI.BuildAndPriceReview=function(){function n(){this.color="",this.wheel="",this.options=[]||[],this.packages=[]||[],this.currentPackages=[]||[],this.price="",this.stripe="",this.roof="",this.interior="",this.colorLine="",this.trim="",this.calculator={}||{},this.dataManager={}||{},this.configuredPrice="",this.cacode="",this.name="",this.province="",this.priceNoFormat="",this.root=function(){}||{}}return n.prototype={setProvince:function(n){this.province=n},setModalName:function(n){this.name=n},resetOptions:function(){this.options=[]},setDataManager:function(n){this.dataManager=n},setCACode:function(n,t){this.cacode=n,this.root=t},setColor:function(n){this.color=n},setInterior:function(n){this.interior=n},setColorLine:function(n){this.colorLine=n},setWheel:function(n){this.wheel=n},setPackage:function(n){this.packages=n},setCurrentPackage:function(n){for(var t=0;t<this.options.length;t++)if(this.options[t]==n)return;this.currentPackages.push(n)},removeAPackage:function(n){for(var t=0;t<this.currentPackages.length;t++)this.currentPackages[t]==n&&this.currentPackages.splice(t,1)},setOptions:function(n){for(var t=0;t<this.options.length;t++)if(this.options[t]==n)return;this.options.push(n),this.updatePrice()},removeAnOptions:function(n){for(var t=0;t<this.options.length;t++)this.options[t]==n&&this.options.splice(t,1);this.updatePrice()},updatePrice:function(){for(var e=this.getOptions(),u=0,t=0,f,r,n,i=0;i<e.length;i++)t=this.getItemPrice(e[i]),isNaN(t)&&(t=0),u+=t;f=this.dataManager.getPrice()[0],r=parseFloat(u+f),this.priceNoFormat=parseFloat(u+f),n=this.dataManager.language=="fr"?this.commaSeparateNumber(r," ")+" $":"$"+this.commaSeparateNumber(r,","),this.configuredPrice=n,$("#build-modal-left-container .configured-price .odometer").html(r),$("#review-price-holder .configured-price .price").html(n),this.buildPDFPreview(n),this.updateRetailerFormLink()},buildPDFPreview:function(){for(var h=this,i=[{en:"EXTERIOR",fr:"extérieur"},{en:"INTERIOR",fr:"intérieur"},{en:"OPTIONS",fr:"options"},{en:"WHEELS",fr:"roues"},{en:"PACKAGES",fr:"forfaits"}],u=this.dataManager.getReviewData(),c="",r,f,o,s,e,t=0;t<i.length;t++)for(u[0][i[t].en].sort(function(n,t){return n.Price-t.Price}),r=0;r<u[0][i[t].en].length;r++)r==0&&(f=u[0][i[t].en][r].Category,this.dataManager.language=="fr"&&(f=i[t].fr),o='<div id="parent-'+u[0][i[t].en][r].Category+'" style="clear:both;" class="parent-node"><h2>'+f+"<\/h2>"+this.appendChildNode(u[0][i[t].en][r].FullName,u[0][i[t].en][r].Price)+"<\/div>",c+=o);s=this.getOptions().join(","),e="http://php.richmondday.com/mini.ca/BuildAndPricePDFBuilder.php?language="+this.dataManager.language+"&province="+this.province+"&name="+$("#build-modal-title h2").html()+"&startginPrice="+$(".starting-from .price").html()+"&configuredPrice="+this.configuredPrice+"&modelID="+this.cacode+"&color="+this.color+"&roof="+this.roof+"&stripe="+this.stripe+"&wheel="+this.wheel+"&options="+s,$("a.downloadPrint").each(function(){$(this).attr("href",encodeURI(e))}),$("a.downloadPrint").off();$("a.downloadPrint").on("click",function(){h.sendTrackingCode(e)})},sendTrackingCode:function(){ga("send","event","button","PDFCreated",this.cacode+","+this.getOptions().join(",")),this.root.trackStat("PDFCreated",this.cacode+","+this.getOptions().join(","))},commaSeparateNumber:function(n,t){while(/(\d+)(\d{3})/.test(n.toString()))n=n.toString().replace(/(\d+)(\d{3})/,"$1"+t+"$2");return n},updateRetailerFormLink:function(){var t=this.getOptions(),n="http://micro.mini.ca/retailer-review-page/?name="+$("#build-modal-title-review").text()+"&startginPrice="+$(".starting-from .price").html()+"&configuredPrice="+this.configuredPrice+"&modelID="+this.cacode+"&color="+this.color+"&roof="+this.roof+"&stripe="+this.stripe+"&options="+t;$("#BuildAndSendToRetailer").find(".retailer-link").val(encodeURI(n)),$("#BuildAndPriceTestDrive").find(".retailer-link").val(encodeURI(n))},appendChildNode:function(n,t){return'<div class="child-value"><h5>'+n+'<\/h5><div class="price">'+t+"<\/div><\/div>"},getItemPrice:function(n){for(var i=this.dataManager.getPrices(),r,t=0;t<i.length;t++)i[t].Code==n&&(r=parseFloat(i[t].Price));return r},setStripe:function(n){this.stripe=n},setRoof:function(n){this.roof=n},getColor:function(){return this.color},getWheel:function(){return this.wheel},getOptions:function(){return this.options},getPackage:function(){return this.packages},getRoof:function(){return this.roof},getInterior:function(){return this.interior},getStripe:function(){return this.stripe},returnAllOptions:function(){return[this.getColor(),this.wheel,this.getStripe(),this.getRoof(),this.getInterior()]}},n}()}.call(this),function(){"use strict";var n=MINI.BuildAndPriceConflictWindow=function(){function n(n,t,i,r,u){this.ruleManager=n||[],this.review=t||[],this.viewManager=i||[],this.dataManager=r||[],this.clicked="",this.conflicts=[]||[],this.required=[]||[],this.category="",this.rules=[]||[],this.acceptableOptions=[]||[],this.ecode=u||"F56",this.conflictResolution="",this.justClicked="",this.isRequired=!1,this.isColorConflict=!1,this.clickedCategory="",this.mandatory="",this.conflictMessage="",this.resolutionMessage="",this.mandatoryMessage="",this.acceptableMessage="",this.colorConflictMessage="",this.windowTitle="",this.optionToRevmove=[]||[],this.acceptableItemSelected=!1}return n.prototype={openConflictWindow:function(n,t,i,r,u,f,e){this.category=r,this.required=i,this.conflicts=t,this.justClicked=n,this.clickedCategory=u,this.mandatory=f,this.acceptableOptions=e,this.isColorConflict=!1,$("#form-error").hide(),typeof this.acceptableOptions=="undefined"&&(this.acceptableOptions=[]),typeof this.required=="undefined"&&(this.required=[]),typeof this.mandatory=="undefined"&&(this.mandatory=""),typeof this.mandatory===undefined&&(this.mandatory=""),this.windowTitle="PUT YOUR DECISION CAP ON.",this.dataManager.language=="fr"&&(this.windowTitle="OH NON! PETIT PROBLÈME… RIEN À FAIRE."),$("#conflict-window").fadeIn(),$("#conflict-options-wrapper").html(""),$("#conflict-innner h5").html(""),$("#conflict-innner h2").html(this.windowTitle),this.clearConflictOptions()},openLegalModal:function(){$("#conflict-window").fadeIn(),$("#conflict-options-wrapper").html(""),$("#conflict-innner h5").html(""),$("#conflict-innner h2").html(""),$(".add-option").hide();var n="So you clicked on the Fine Print. Well, way to be thorough! Seems like someone taught you to cross your t’s and dot your i’s early on in life. Below is basically everything you need to know…<br><br>All Base MSRP’s on this site do not include freight and PDI (excluding Quebec), license, registration, taxes and options. All final prices will be finalized with your MINI Retailer. The Configured Price is the combined price of your MINI’s Base MSRP, and the amount of any additional optional items you selected. The MINI Configurator and the prices displayed are in a constant state of flux  - much like the ebbing tides of the Pacific, or the elusive sands of time (whoa, deep). And although we’ve made every effort to ensure accuracy, there’s a slight chance we didn’t carry over a one somewhere along the way. So, in other words, you may want get in touch with your MINI Retailer to receive the most accurate pricing.<br><br>Please note that all model designations and specifications are based on the latest product information. MINI Canada reserves the right to make changes at any time, without notice.";this.dataManager.language=="fr"&&(n="Alors vous avez cliqué sur les petits caractères. Tu parles de minutie! Ça paraît qu'on vous a appris assez tôt dans la vie à mettre les points sur les i. Ci-dessous vous trouverez à peu près tout ce que vous avez besoin de savoir...Tous les PDSF de base sur ce site n'incluent pas les frais de préparation et de transport (l'exclusion du Québec), de permis, d'immatriculation, ni les taxes ou options. Le prix configuré représente le PDSF de base de votre MINI ainsi que le coût de toute option supplémentaire sélectionnée. Le configurateur MINI et les prix affichés sont en perpétuelle évolution - tout comme le glissement des plaques tectoniques, ou l'insaisissable passage du temps (ouh, profond). Et malgré tous nos efforts mis pour en assurer l'exactitude, il se pourrait qu'une légère déviation de calcul se soit subrepticement faufilée en cours de route. En d'autres termes, il serait donc conseillé de consulter votre concessionnaire MINI pour obtenir les prix exacts. Veuillez noter que toutes les désignations de modèles et les spécifications sont basées sur les dernières informations. MINI Canada se réserve le droit d'effectuer des changements en tout temps et sans préavis."),$("#conflict-options-wrapper").append("<br><p>"+n+"<\/p>"),$("#conflict-innner .close, .cancel-option").off();$("#conflict-innner .close, .cancel-option").on("click",function(n){n.preventDefault(),$("#conflict-window").fadeOut()})},clearConflictOptions:function(){var r=this,e,i,t,o,n,u,f;this.isRequired=!1,this.conflictResolution="";var s=this.review.getOptions(),h=this.ruleManager.getRules(),c=!1,l=[];for($(".add-option").show(),this.conflictMessage="THE FOLLOWING WILL BE REMOVED IN ORDER TO ADD YOUR LAST SELECTION:",this.resolutionMessage="THIS ITEM REQUIRES ONE OF THE FOLLOWING:",this.mandatoryMessage="THE FOLLOWING ITEM IS MANDATORY AND WILL BE INCLUDED:",this.acceptableMessage="PLEASE CHOOSE ONE OF THE FOLLOWING TO KEEP YOUR LAST SELECTION :",this.colorConflictMessage="PLEASE CHOOSE ONE OF THE FOLLOWING TO KEEP YOUR LAST SELECTION",this.dataManager.language=="fr"&&(this.conflictMessage="NOUS ALLONS DEVOIR ENLEVER CE QUI SUIT POUR APPLIQUER TA DERNIÈRE MODIFICATION :",this.resolutionMessage="PROCHAINE ÉTAPE :",this.mandatoryMessage="L’ÉLÉMENT SUIVANT EST OBLIGATOIRE ET SERA AJOUTÉ :",this.acceptableMessage="CHOISIR UN DE CE QUI SUIT POUR GARDER VOTRE Dernière sélection:",this.colorConflictMessage="CHOISIR UN DE CE QUI SUIT POUR GARDER VOTRE Dernière sélection:"),n=0;n<this.conflicts.length;n++){if(this.ruleManager.getConflictDetails(this.conflicts[n])[2]=="Colour"&&(this.isColorConflict=!0,this.appendColourSelector()),n==0&&$("#conflict-options-wrapper").append("<br><h5>"+this.conflictMessage+"<\/h5>"),u="$"+this.ruleManager.getConflictDetails(this.conflicts[n])[1],this.dataManager.language=="fr"&&(u=this.ruleManager.getConflictDetails(this.conflicts[n])[1]+" $"),f='<div  id="con-parent-'+this.conflicts[n]+'" class="option-item-dark"><div class="opiton-image"><img id="option-'+this.conflicts[n]+'"  src="/Public/img/v/'+this.ecode+"/build-and-price/Icons/"+this.conflicts[n]+'.jpg"/><\/div><h5>'+this.ruleManager.getConflictDetails(this.conflicts[n])[0]+'<\/h5> <div class="option-price">'+u+'<\/div><div id="toggle-'+this.conflicts[n]+'" class="data-toggle"><img src="/Public/img/ico/modal-plus.png"/><\/div><div id="conflict-package-'+this.conflicts[n]+'" class="pack-data-wrapper"><\/div><\/div>',$("#conflict-options-wrapper").append(f),r.ruleManager.getPackageOptions(this.conflicts[n])[0])for(e=""+r.ruleManager.getPackageOptions(this.conflicts[n])[1],i=e.split(","),t=0;t<i.length;t++)o='<div id="sub-pack-'+i[t]+'" class="option-item-pack"><div class="opiton-image"><img id="option-'+i[t]+'"  src="/Public/img/v/'+this.ecode+"/build-and-price/Icons/"+i[t]+'.jpg"/><\/div><h5>'+this.ruleManager.getConflictDetails(i[t])[0]+'<\/h5> <div class="option-include">INCL.<\/div><div class="info-icon-sub-pack"><img src="/Public/img/v/'+this.ecode+'/build-and-price/Icons/info-icon.png"  data-trigger="hover" placement="left" rel="popover" data-content="" data-original-title="'+this.ruleManager.getConflictDetails(i[t])[3]+'"/><\/div><\/div>',$("#conflict-package-"+this.conflicts[n]).append(o),$("#con-parent-"+this.required[n]).find(".data-toggle").hide(),$("#con-parent-"+this.required[n]).find(".data-toggle").show();$(".option-item-pack img").popover({placement:"top",container:"body"});$(".data-toggle").on("click",function(){var t=$(this).attr("id").split("toggle-")[1],n=$(this).parent().find("#conflict-package-"+t);$(n).is(":visible")?($(n).hide(),$(this).html('<img src="/Public/img/ico/modal-plus.png"/>')):($(n).show(),$(this).html('<img src="/Public/img/ico/modal-minus.png"/>'))})}for(n=0;n<this.required.length;n++)if(n==0&&($("#conflict-options-wrapper").append("<br><h5>"+this.resolutionMessage+"<\/h5>"),this.isRequired=!0),u="$"+this.ruleManager.getConflictDetails(this.required[n])[1],this.dataManager.language=="fr"&&(u=this.ruleManager.getConflictDetails(this.required[n])[1]+" $"),f='<div id="req-parent-'+this.required[n]+'" class="option-item-dark option-required selector"><div class="opiton-image"><img id="option-'+this.required[n]+'"  src="/Public/img/v/'+this.ecode+"/build-and-price/Icons/"+this.required[n]+'.jpg"/><\/div><h5>'+this.ruleManager.getConflictDetails(this.required[n])[0]+'<\/h5> <div class="option-price">'+u+'<\/div><div id="toggle-'+this.required[n]+'" class="data-toggle"><img src="/Public/img/ico/modal-plus.png"/><\/div><div id="required-package-'+this.required[n]+'" class="pack-data-wrapper"><\/div><\/div>',$("#conflict-options-wrapper").append(f),r.ruleManager.getPackageOptions(this.required[n])[0])for(e=""+r.ruleManager.getPackageOptions(this.required[n])[1],i=e.split(","),t=0;t<i.length;t++)o='<div id="sub-pack-'+i[t]+'" class="option-item-pack"><div class="opiton-image"><img id="option-'+i[t]+'"  src="/Public/img/v/'+this.ecode+"/build-and-price/Icons/"+i[t]+'.jpg"/><\/div><h5>'+this.ruleManager.getConflictDetails(i[t])[0]+'<\/h5> <div class="option-include">INCL.<\/div><div class="info-icon-sub-pack"><img src="/Public/img/v/'+this.ecode+'/build-and-price/Icons/info-icon.png"  data-trigger="hover" placement="left" rel="popover" data-content="" data-original-title="'+this.ruleManager.getConflictDetails(i[t])[3]+'"/><\/div><\/div>',$("#required-package-"+this.required[n]).append(o),$("#req-parent-"+this.required[n]).find(".data-toggle").hide(),$("#req-parent-"+this.required[n]).find(".data-toggle").show();if(this.required.length>0){$(".option-item-pack img").popover({placement:"top",container:"body"}),$(".data-toggle").off();$(".data-toggle").on("click",function(){var t=$(this).attr("id").split("toggle-")[1],i=$(this).parent().find("#package-"+t),n=$(this).parent().find("#required-package-"+t);$(n).is(":visible")?($(n).hide(),$(this).html('<img src="/Public/img/ico/modal-plus.png"/>')):($(n).show(),$(this).html('<img src="/Public/img/ico/modal-minus.png"/>'))})}if(typeof this.mandatory!="undefined"&&this.mandatory!=""&&this.mandatory!==undefined&&($("#conflict-options-wrapper").append("<br><h5>"+this.mandatoryMessage+"<\/h5>"),u="$"+this.ruleManager.getConflictDetails(this.mandatory)[1],this.dataManager.language=="fr"&&(u=this.ruleManager.getConflictDetails(this.mandatory)[1]+" $"),f='<div id="man-parent-'+this.mandatory+'"  class="option-item-dark"><div class="opiton-image"><img id="option-'+this.mandatory+'"  src="/Public/img/v/'+this.ecode+"/build-and-price/Icons/"+this.mandatory+'.jpg"/><\/div><h5>'+this.ruleManager.getConflictDetails(this.mandatory)[0]+'<\/h5> <div class="option-price">'+u+'<\/div><div id="toggle-'+this.mandatory+'" class="data-toggle"><img src="/Public/img/ico/modal-plus.png"/><\/div><div id="mandatory-package-'+this.mandatory+'" class="pack-data-wrapper"><\/div><\/div>',$("#conflict-options-wrapper").append(f),r.ruleManager.getPackageOptions(this.mandatory)[0])){for(e=""+r.ruleManager.getPackageOptions(this.mandatory)[1],i=e.split(","),t=0;t<i.length;t++)o='<div id="sub-pack-'+i[t]+'" class="option-item-pack"><div class="opiton-image"><img id="option-'+i[t]+'"  src="/Public/img/v/'+this.ecode+"/build-and-price/Icons/"+i[t]+'.jpg"/><\/div><h5>'+this.ruleManager.getConflictDetails(i[t])[0]+'<\/h5> <div class="option-include">INCL.<\/div><div class="info-icon-sub-pack"><img src="/Public/img/v/'+this.ecode+'/build-and-price/Icons/info-icon.png"  data-trigger="hover" placement="left" rel="popover" data-content="" data-original-title="'+this.ruleManager.getConflictDetails(i[t])[3]+'"/><\/div><\/div>',$("#mandatory-package-"+this.mandatory).append(o),$("#man-parent-"+this.mandatory).find(".data-toggle").hide(),$("#man-parent-"+this.mandatory).find(".data-toggle").show();$(".option-item-pack img").popover({placement:"top",container:"body"}),$(".data-toggle").off();$(".data-toggle").on("click",function(){var t=$(this).attr("id").split("toggle-")[1],i=$(this).parent().find("#package-"+t),n=$(this).parent().find("#mandatory-package-"+t);$(n).is(":visible")?($(n).hide(),$(this).html('<img src="/Public/img/ico/modal-plus.png"/>')):($(n).show(),$(this).html('<img src="/Public/img/ico/modal-minus.png"/>'))})}if(this.acceptableOptions.length>0)for($("#conflict-options-wrapper").append("<br><h5>"+this.acceptableMessage+"<\/h5>"),n=0;n<this.acceptableOptions.length;n++)u="$"+this.ruleManager.getConflictDetails(this.acceptableOptions[n])[1],this.dataManager.language=="fr"&&(u=this.ruleManager.getConflictDetails(this.acceptableOptions[n])[1]+" $"),f='<div class="option-item-dark acceptable-options selector"><div class="opiton-image"><img id="option-'+this.acceptableOptions[n]+'"  src="/Public/img/v/'+this.ecode+"/build-and-price/Icons/"+this.acceptableOptions[n]+'.jpg"/><\/div><h5>'+this.ruleManager.getConflictDetails(this.acceptableOptions[n])[0]+'<\/h5> <div class="option-price">'+u+"<\/div><\/div>",$("#conflict-options-wrapper").append(f);$("#conflict-innner .close, .cancel-option").off();$("#conflict-innner .close, .cancel-option").on("click",function(n){n.preventDefault(),$("#conflict-window").fadeOut()});if(this.required.length>0||this.isColorConflict||this.acceptableOptions.length>0){this.conflictResolution="",$("#conflict-options-wrapper .option-item-dark.selector").off();$("#conflict-options-wrapper .option-item-dark.selector").on("click",function(){var n=$(this).find(".opiton-image img").attr("id").split("option-")[1];n!="5DU"&&n!="507"&&($("#conflict-options-wrapper .option-item-dark").removeClass("selected"),r.acceptableItemSelected=n),r.conflictResolution=n,$(this).addClass("selected")})}$(".add-option").off();$(".add-option").on("click",function(n){var t,i;if(n.preventDefault(),(r.required.length>0||r.isColorConflict)&&r.conflictResolution==""){$("#form-error").show();return}for(t=0;t<r.conflicts.length;t++)r.review.removeAnOptions(r.conflicts[t]);for(i=0;i<r.optionToRevmove.length;i++)r.review.removeAnOptions(r.optionToRevmove[i]);r.setNewOptionSelections()})},appendColourSelector:function(){var r=this,n,t,i;for($("#conflict-options-wrapper").append("<br><h5>"+this.colorConflictMessage+"<\/h5>"),n=0;n<this.ruleManager.conflictIsColor(this.conflicts[0])[1].length;n++)t="$"+this.ruleManager.getConflictDetails(this.ruleManager.conflictIsColor(this.conflicts[0])[1][n])[1],this.dataManager.language=="fr"&&(t=this.ruleManager.getConflictDetails(this.ruleManager.conflictIsColor(this.conflicts[0])[1][n])[1]+" $"),i='<div class="option-item-dark selector"><div class="opiton-image"><img id="option-'+this.ruleManager.conflictIsColor(this.conflicts[0])[1][n]+'" src="/Public/img/v/'+this.ecode+"/build-and-price/Icons/"+this.ruleManager.conflictIsColor(this.conflicts[0])[1][n]+'.jpg"/><\/div><h5>'+this.ruleManager.getConflictDetails(this.ruleManager.conflictIsColor(this.conflicts[0])[1][n])[0]+'<\/h5> <div class="option-price">'+t+"<\/div><\/div>",this.ruleManager.conflictIsColor(this.conflicts[0])[1][n]!=this.review.color&&$("#conflict-options-wrapper").append(i)},setNewColourValues:function(n){this.review.removeAnOptions(this.review.color),this.review.color=n,this.review.setOptions(n),this.viewManager.updateFrontView(),this.viewManager.setBoxColor(n)},setNewRoofValues:function(n){this.review.removeAnOptions(this.review.roof),this.review.roof=n,this.review.setOptions(n),this.viewManager.updateOption(n,"roof")},setNewStripeValues:function(n){this.review.removeAnOptions(this.review.stripe),this.review.stripe=n,this.review.setOptions(n),this.viewManager.updateOption(n,"stripe")},setNewOptionSelections:function(){var n=this,t;this.ruleManager.getConflictDetails(this.conflictResolution)[2]=="Colour"&&this.setNewColourValues(this.conflictResolution),console.log("this.acceptableItemSelected :::::: "+this.acceptableItemSelected),this.acceptableItemSelected!=!1&&this.review.setOptions(this.acceptableItemSelected),this.category=="Colour-Reverse"&&this.review.removeAnOptions(this.justClicked),this.ruleManager.getConflictDetails(this.justClicked)[2]=="Colour"&&this.setNewColourValues(this.justClicked),this.ruleManager.getConflictDetails(this.conflictResolution)[2]=="ROOFCAP"&&this.setNewRoofValues(this.conflictResolution),this.ruleManager.getConflictDetails(this.justClicked)[2]=="ROOFCAP"&&this.category!="Colour-Reverse"&&this.setNewRoofValues(this.justClicked),this.ruleManager.getConflictDetails(this.justClicked)[2]=="STRIPE"&&this.setNewStripeValues(this.justClicked),this.ruleManager.getConflictDetails(this.conflictResolution)[2]=="STRIPE"&&this.setNewStripeValues(this.conflictResolution),this.ruleManager.getConflictDetails(this.justClicked)[2]=="WHEEL"&&(this.review.removeAnOptions(this.justClicked),this.review.wheel=this.justClicked,this.review.setOptions(this.justClicked),this.viewManager.updateOption(this.justClicked,"wheel")),this.category=="COLOURLINE"&&(this.review.removeAnOptions(this.review.interior),this.review.interior=this.conflictResolution,this.review.setOptions(this.conflictResolution),this.review.removeAnOptions(this.review.colorLine),this.review.colorLine=this.justClicked,this.viewManager.updateInteriorOption(this.justClicked,"option")),this.ruleManager.getConflictDetails(this.justClicked)[2]=="INTERIOR"&&(this.review.removeAnOptions(this.review.interior),this.review.setOptions(this.justClicked),this.review.interior=this.justClicked,this.viewManager.updateInterior(this.justClicked)),this.ruleManager.getConflictDetails(this.justClicked)[2]=="PACKAGE"&&(t=this.ruleManager.getPackageOptionCategory(this.ruleManager.getPackageOptions(this.justClicked)[1][0]),t=="EXTERIOR"&&this.viewManager.updateSelectedOption(this.ruleManager.getPackageOptions(this.justClicked)[1][0],"EXTERIOR"),t=="INTERIOR"&&this.viewManager.updateSelectedOption(this.ruleManager.getPackageOptions(this.justClicked)[1][0],"package-exterior"),this.ruleManager.getPackageOptions(this.justClicked)[1][0]=="345"&&this.viewManager.updateSelectedOption("346","EXTERIOR")),this.category!="Colour-Reverse"&&n.review.setOptions(n.justClicked),this.conflictResolution!=""&&n.review.setOptions(this.conflictResolution),this.mandatory!=""&&n.review.setOptions(this.mandatory),$("#conflict-window").fadeOut(),n.setAllSelectedOptionHighlights()},setAllSelectedOptionHighlights:function(){var u=this,t=this.review.getOptions(),i,r,n;for($(".package-display-image").removeClass("selected"),$(".package-display-image").each(function(){var n=$(this).data("id");u.ruleManager.isInOptions(n)==!0&&$(this).addClass("selected")}),$(".color-image").removeClass("selected"),$(".color-image").each(function(){var n=$(this).data("id");u.ruleManager.isInOptions(n)==!0&&$(this).addClass("selected")}),i=!1,n=0;n<t.length;n++)this.review.roof==t[n]&&(i=!0);for(r=!1,n=0;n<t.length;n++)this.review.stripe==t[n]&&(r=!0);i==!1&&($("#front-view #view-options").html(""),$("#rear-view #view-options").html("")),r==!1&&($("#front-view #stripe-options").html(""),$("#rear-view #stripe-options").html(""))}},n}()}.call(this),function(){"use strict";var n=MINI.BuildAndPriceCalculator=function(){function n(n,t,i,r){this.dataManager=n||{},this.review=t||{},this.language=i||"",this.cacode=r||"1310"}return n.prototype={openCalculator:function(){var n=this,h=window.location.origin,f=parseFloat(this.review.priceNoFormat),i="MINI Payment Estimator",r="Close X",t="configured price",u="* The Payment Calculator is a tool that will help you ESTIMATE your monthly payment based on the financing options you selected. It should be used for informative purposes only. Monthly Payment calculation is in Canadian dollars and is based on Manufacturer's Suggested Retail Price ('MSRP') and rates in effect at the current time. Retailers are free to set individual prices and charge administration fees (up to $595) which may change the APR or the price of the vehicle. Rates may vary. Please see your local MINI Retailer.";this.language=="fr"&&(i="Évaluateur de paiement MINI",r="fermer X",t="Prix Configuré",u="* Le calculateur de paiements de Services financiers MINI est conçu pour vous aider à ESTIMER vos mensualités en fonction des options de financement que vous choisissez. Il ne devrait servir qu’à titre indicatif. Les mensualités sont en dollars canadiens et sont basées sur les prix de détail suggérés par le fabricant (PDSF) pour le modèle de base ainsi que sur les taux d’intérêt de Services financiers MINI en vigueur à ce moment. Ces prix peuvent comprendre des options supplémentaires, les frais de transport, les frais de préparation à la route et les taxes de vente au détail applicables si vous en avez fait le choix. La taxe d’accise pour climatiseur, la taxe sur le carburant, les accessoires installés par le concessionnaire, les frais d’immatriculation et autres taxes applicables, le cas échéant, sont en sus et dus à la signature. Les concessionnaires peuvent fixer leurs propres prix et charger des frais d’administration (jusqu’à 595 $), lesquels sont susceptibles de modifier le taux de financement ou le prix du véhicule. Les taux peuvent varier. Veuillez verifier avec votre concessionnaire MINI pour plus de détails.");var e="/en/calculator/"+this.cacode+"/"+f,o='<iframe name="calculator-frame" scrolling="no" id="calculator-frame" src="'+e+'"><\/iframe>',s='<div id="build-and-price-calculator"><div id="calculator-header"><h3>'+i+'<\/h3><div class="close-calculator">'+r+'<\/div><\/div><div class="cal-price"><span>'+t+' : <\/span> <span class="calculated-cal-price">'+this.review.configuredPrice+'<\/span><\/div><div class="calculator-wrapper"><div class="cal-price"><span>'+t+' : <\/span> <span class="calculated-cal-price">'+this.review.configuredPrice+"<\/span><\/div>"+o+'<\/div><div class="calculator-footer">'+u+"<\/div><\/div>";window.price=this.review.configuredPrice,$("#BuildAndPriceModal .modal-dialog").prepend(s);$(".close-calculator").on("click",function(){n.closeCalculator()});$("iframe").load(function(){var t,i,r;n.language=="fr"&&(t=$("#calculator-frame").contents().find("head"),i="<style>.side-nav-buttons {left: 220px;position: absolute;top: -90px;width: 950px;}.side-nav-buttons .btn {float: left;margin-bottom: 5px;margin-left: 10px;position: relative;width: 400px;}#down-payment-holder input {margin-left: 5px;margin-right : 5px;margin-top: 5px;width: 80px;float : left;}<\/style>",t.append(i)),r=$("#calculator-frame").contents().find("h4"),$(r).each(function(){var t=n.trim($(this).text());(t=="Finance"||t.toLowerCase()=="financer")&&$(this).css({color:"#a1a5a8"})}),$("#calculator-frame").contents().find(".calculated-cal-price").text(" "+n.review.configuredPrice),$("#build-and-price-calculator").fadeIn()})},trim:function(n){return n=n.replace(/(^\s*)|(\s*$)/gi,""),n=n.replace(/[ ]{2,}/gi," "),n=n.replace(/\n /,"\n")},closeCalculator:function(){$("#build-and-price-calculator").fadeOut(),$("#build-and-price-calculator").remove()}},n}()}.call(this),function(){"use strict";var n=MINI.TireConfigurator=function(){function n(n,t,i,r){this.cacode=t||"",this.model=n||"",this.data=i||[],this.color="",this.wheel="R108_MS",this.colours=[]||[],this.ecode="R56",this.language=r||"",this.subNav=function(){}||{},this.dataManager=function(){}||{},this.pdfPath="",this.isLive=!1,this.currentView="front",this.init()}return n.prototype={init:function(){var n=this,t=window.location.hash.substring(1);t&&_mini.Animate.toContainer("tire-configurator",53),this.dataManager=new MINI.TireConfiguratorDataManager(this,this.data,this.language),this.subNav=new MINI.TireConfiguratorSubNav(this,this.dataManager);$("#build-modal-sub-nav ul li a").on("click",function(n){n.preventDefault()});$("#build-modal-sub-nav ul li a").on("mouseover",function(){$("#build-modal-sub-nav ul li a").removeClass("selected")});$(".open-tire-config").off();$(".open-tire-config").on("click",function(n){n.stopPropagation(),n.preventDefault(),_mini.Animate.toContainer("tire-configurator",53)});$("#build-modal-sub-nav ul li a").off();$("#build-modal-sub-nav ul li a").on("click",function(t){var i,r;t.stopPropagation(),t.preventDefault(),i=$(this).attr("href"),i!="models"&&(r=$(this).parent().attr("id"),$("#build-modal-sub-nav ul li a").removeClass("selected"),$(this).addClass("selected"),n.hideShowListItems(i))});$("#build-modal-sub-nav ul li a").on("mouseover",function(n){n.preventDefault();var t=$(this).attr("href");t=="models"?$("#models-list").show():$("#models-list").hide()});$(".facebook-share-btn a").on("click",function(t){t.preventDefault(),n.setFacebookShareEvent()});$(".view-select-holder img").on("click",function(){var t=$(this).data("item");t=="front"&&n.updateFrontView(),t=="side"&&n.updateSideView()})},fireListEvents:function(n){var t=this;n=="models"?$("#models-list").show():$("#models-list").hide(),$("#build-modal-sub-nav ul li a").off();$("#build-modal-sub-nav ul li a").on("click",function(n){var i,r;n.stopPropagation(),n.preventDefault(),i=$(this).attr("href"),i!="models"&&t.isLive&&(r=$(this).parent().attr("id"),$("#build-modal-sub-nav ul li a").removeClass("selected"),$(this).addClass("selected"),$("#landing-page").hide(),t.hideShowListItems(i))});$("#build-modal-sub-nav ul li a").on("mouseover",function(n){n.preventDefault();var t=$(this).attr("href");t=="models"?$("#models-list").show():$("#models-list").hide()});$(".facebook-share-btn a").on("click",function(n){n.preventDefault(),t.setFacebookShareEvent()})},setECode:function(n){this.ecode=n},setUpTireConfig:function(n){this.cacode=n,this.buildListItems();var t=this;$("#build-modal-sub-nav ul li a").removeClass("selected"),$(".wheel-desc-box h4").html(""),$(".wheel-desc-box p").html(""),$("#build-modal-sub-nav ul li a").each(function(){var n=$(this).attr("href");n=="wheels"&&($(this).addClass("selected"),t.hideShowListItems("wheels"))}),this.getPdfPath(),$("#landing-page").hide()},hideShowListItems:function(n){$(".content-list").hide(),$("#"+n+"-list-items").find(".content-list").show()},getPdfPath:function(){var i=this.dataManager.getWheelDetail(this.wheel)[0],r=this.dataManager.getWheelDetail(this.wheel)[2],u=this.dataManager.getWheelDetail(this.wheel)[1],n=!1,e=i.replace(/<[^>]+>[^<]*<[^>]+>|<[^\/]+\/>/ig,""),f=i.replace(/(<br>|<\/br>)/g," "),t;n=$(".retailer-btn").is(":visible")?!1:!0,t="http://php.richmondday.com/mini.ca/TireConfiguratorPDF.php?language="+this.language+"&modelName="+$("#build-modal-title h2").html()+"&wheelName="+f+"&wheelPrice="+r+"&wheelDesc="+u+"&cacode="+this.cacode+"&colour="+this.color+"&rim="+this.wheel+"&retailer="+n,$("a.downloadPrint").off();$("a.downloadPrint").on("click",function(n){n.preventDefault(),$.browser.msie?window.location.href=t:window.open(t,"PDF","left=20, top=20, width=1100, height=700, toolbar=0, resizable=1, scrollbars=1")})},buildListItems:function(){var u=this,i,f,e,t,n,r,o;for(this.colours=this.dataManager.getColours(this.cacode),this.color=this.colours[0].Code,$("#build-colours .list-content-wrapper").html(""),i=this.colours,n=0;n<i.length;n++)f=i[n].Description,r="$"+i[n].Price,this.language=="fr"&&(f=i[n].Description_fr,r=i[n].Price+" $"),e='<div class="color-item" ><a href="#"><img class="color-image" src="/Public/img/v/F56/build-and-price/Icons/'+i[n].Code+'.jpg" data-trigger="hover" placement="top" rel="popover" data-content="" data-original-title="'+f+'" data-price="'+i[n].Price+'" data-id="'+i[n].Code+'" /><\/a>  <div class="item-right-side"><h5>'+r+'<\/h5> <\/div> <div class="info-icon"><img src="/Public/img/v/F56/build-and-price/Icons/info-icon.png" data-trigger="hover" placement="left" rel="popover" data-content="" data-original-title="'+f+'"/> <\/div>',$("#build-colours .list-content-wrapper").append(e);for($("#wheels .package-list-wrapper").html(""),t=this.dataManager.getWheels(this.cacode),this.wheel=t[0].Code,n=0;n<t.length;n++)r=t[n].Price,o='<div class="package-item"><a href="#"><img class="package-display-image" data-id="'+t[n].Code+'" src="/Public/img/content/tire-configurator/tire_thumb/'+t[n].Code+'_thumb.png" data-price="'+t[n].Price+'"/><div class="item-right-side"><h5>'+t[n].FullName+"<\/h5><h5>"+r+'<\/h5> <\/div> <div class="info-icon"><img src="/Public/img/v/F56/build-and-price/Icons/info-icon.png" data-price="'+t[n].Price+'" data-trigger="hover" data-id="'+t[n].Code+'" placement="left" rel="popover" data-content=""data-original-title=\''+t[n].Description+"'/><\/div><\/a><\/div>",$("#wheels .package-list-wrapper").append(o);$(".list-content-wrapper img, .package-list-wrapper img").popover({placement:"top",container:"body"});$("#build-colours a").on("click",function(n){n.preventDefault();var t=$(this).find("img").data("id");u.color=t,u.updateFrontView()});$("#wheels a").on("click",function(n){n.preventDefault();var t=$(this).find("img").data("id");u.wheel=t,$("#rear-view #view-wheels").html(""),$("#front-view #view-wheels").html(""),$("#wheels").find(".package-display-image").removeClass("selected"),$(this).find(".package-display-image").addClass("selected"),u.updateWheel()})},updateFrontView:function(){var n=this,t;this.currentView="front",t='<img src="/Public/img/v/'+this.ecode+"/tire-configurator/"+this.cacode+"/Colours/"+this.color+'.png" />',$("#build-loader").fadeIn(800),$(t).load(function(){setTimeout(function(){n.setBoxColor(n.color),$("#build-loader").fadeOut(800),$("#front-view #main-car-image").html(t),n.updateWheel()},500)}),this.getPdfPath()},updateWheel:function(){var t=this,n="",i,r,u;this.currentView=="front"&&(n='<img src="/Public/img/v/'+this.ecode+"/tire-configurator/"+this.cacode+"/Tires/"+this.wheel+'.png" />'),this.currentView=="side"&&(n='<img class="side-view-img"  src="/Public/img/v/'+this.ecode+"/tire-configurator/"+this.cacode+"/Tires/Side/"+this.wheel+'.png" />'),$(n).load(function(){$("#front-view #view-wheels").html(n)}),i=this.dataManager.getWheelDetail(this.wheel)[0],r=this.dataManager.getWheelDetail(this.wheel)[2],$(".wheel-desc-box h4").html(i+"<br>"+r),u=this.dataManager.getWheelDetail(this.wheel)[1],$(".wheel-desc-box p").html(u),$("#wheels").find(".package-display-image").removeClass("selected"),$("#wheels a").each(function(){var n=$(this).find("img").data("id");console.log(t.wheel+" :: "+n),n==t.wheel&&$(this).find(".package-display-image").addClass("selected")}),this.getPdfPath()},updateSideView:function(){var n=this,t;this.currentView="side",t='<img class="side-view-img" src="/Public/img/v/'+this.ecode+"/tire-configurator/"+this.cacode+"/Colours/Side/"+this.color+'.png" />',$("#build-loader").fadeIn(800),$(t).load(function(){setTimeout(function(){n.setBoxColor(n.color),$("#build-loader").fadeOut(800),$("#front-view #main-car-image").html(t),n.updateWheel()},500)}),this.getPdfPath()},setBoxColor:function(n){var e=this,r=[{id:"850",color:"dcdace"},{id:"851",color:"d51314"},{id:"A62",color:"b8b7b2"},{id:"A63",color:"052558"},{id:"A94",color:"000000"},{id:"B22",color:"101c12"},{id:"B23",color:"77200d"},{id:"B24",color:"404040"},{id:"B48",color:"426086"},{id:"B62",color:"36538d"},{id:"B15",color:"dcdace"},{id:"A48",color:"2e2d2b"},{id:"B11",color:"000000"},{id:"B12",color:"aeaeac"},{id:"B26",color:"101c12"},{id:"B14",color:"1c3b71"},{id:"B28",color:"8e9e9e"},{id:"B49",color:"231917"},{id:"B19",color:"574a44"},{id:"B63",color:"881415"},{id:"B60",color:"6a352d"},{id:"B43",color:"353d4a"},{id:"S49",color:"231917"},{id:"S62",color:"b8b7b2"},{id:"S94",color:"000000"},{id:"K62",color:"b8b7b2"},{id:"K94",color:"000000"},{id:"F56",color:"DB841C"},{id:"B83",color:"a51c1e"},{id:"B69",color:"1c395a"},{id:"B70",color:"a35912"},{id:"B58",color:"51535f"},{id:"B71",color:"51535f"}],f=["A94","B11","S94","K94"],u,t,i;for(_.indexOf(f,n)>-1&&(n="850"),u=$("#build-modal-left-container"),t=0;t<r.length;t++)n==r[t].id&&(i="#"+r[t].color,$(u).animate({borderTopColor:i,borderLeftColor:i,borderRightColor:i,borderBottomColor:i}))},setFacebookShareEvent:function(){var n=this.cacode+"_"+this.wheel+"_"+this.color+".jpg",t="http://php.richmondday.com/mini.ca/sharing/img/"+this.cacode+"/Colours/"+this.color+".png",i="http://php.richmondday.com/mini.ca/sharing/img/"+this.cacode+"/Tires/"+this.wheel+".png",r="http://php.richmondday.com/mini.ca/sharing/CreateShareImage.php?model="+t+"&rim="+i+"&name="+n,u="http://php.richmondday.com/mini.ca/sharing/shared/"+n;$.ajax({url:r,type:"post",async:!1,success:function(){var n="https://www.facebook.com/dialog/feed?app_id=713522532031422&link=http://mini.ca&picture="+u+"&name=SHARE MY MINI&caption=Check out this MINI Tire Package.&description=Visit the MINI Tire and Wheel Configurator to browse more packages. MINI.ca/summer&redirect_uri=https://www.facebook.com/&display=popup",t=window.open(n,"Share My MINI","location=1,status=1,scrollbars=1,width=550,height=250");t.focus()},error:function(){console.log("failed")}})}},n}()}.call(this),function(){"use strict";var n=MINI.TireConfiguratorDataManager=function(){function n(n,t,i){this.root=n||{},this.data=t||[],this.models=[]||[],this.wheels=[]||[],this.wheelDetails=[]||[],this.language=i||"en",this.init()}return n.prototype={init:function(){var n=this;console.log(this.data),this.loadWheels(),console.log(this.language)},loadWheels:function(){var n=this,t="?v="+Math.random()*999+"_"+Math.random()*999,i="/Public/tire-configurator-data/Tire-Config-"+this.language+".xml"+t;$.ajax({url:i,async:!1,accepts:{xml:"text/xml",text:"text/xml"},success:function(t){$(t).find("family").each(function(){var t=$(this).find("ECode").text(),i=$(this).find("Wheels").text();n.wheels.push({ECode:t,Wheels:i})}),$(t).find("wheel").each(function(){var t=$(this).find("Code").text(),i=$(this).find("FullName").text(),r=$(this).find("Description").text(),u=$(this).find("Price").text();n.wheelDetails.push({Code:t,FullName:i,Description:r,Price:u})}),setTimeout(function(){},1e3)},error:function(){console.log(" DATA FEED ERROR ")}})},getFamilyNames:function(){for(var t=[],n=0;n<this.data.Models.length;n++)t.push({familyName:this.data.Models[n].Name,eCode:this.data.Models[n].ECode,children:this.getChildNames(this.data.Models[n].Name)});return t},getModelName:function(n){for(var i="",t=0;t<this.data.Models.length;t++)this.data.Models[t].ECode==n&&(i=this.data.Models[t].Name);return i},getChildNames:function(n){for(var r=[],i,t=0;t<this.data.Models.length;t++)if(this.data.Models[t].Name==n)for(i=0;i<this.data.Models[t].Vehicles.length;i++)r.push({Name:this.data.Models[t].Vehicles[i].Name,CACode:this.data.Models[t].Vehicles[i].CACode,Price:this.data.Models[t].Vehicles[i].Price});return r},getColours:function(n){for(var r=[],i,t=0;t<this.data.Models.length;t++)for(i=0;i<this.data.Models[t].Vehicles.length;i++)this.data.Models[t].Vehicles[i].CACode==n&&(r=this.data.Models[t].Vehicles[i].Colours);return r},getWheels:function(n){for(var u=[],i,t,r=0;r<this.wheels.length;r++)if(this.wheels[r].ECode==n)for(i=this.wheels[r].Wheels.split(","),t=0;t<i.length;t++)u.push({Category:"WHEEL",Code:i[t],Description:this.getWheelDetail(i[t])[1],FullName:this.getWheelDetail(i[t])[0],Price:this.getWheelDetail(i[t])[2]});return u},getWheelDetail:function(n){for(var i=[],t=0;t<this.wheelDetails.length;t++)this.wheelDetails[t].Code==n&&i.push(this.wheelDetails[t].FullName,this.wheelDetails[t].Description,this.wheelDetails[t].Price);return i}},n}()}.call(this),function(){"use strict";var n=MINI.TireConfiguratorSubNav=function(){function n(n,t){this.dataManager=t||{},this.root=n||{},this.Familys=[]||[],this.modelFamilies=[]||[],this.buildSubNav()}var t=$.fn.popover.Constructor.prototype.leave;return $.fn.popover.Constructor.prototype.leave=function(n){var i=n instanceof this.constructor?n:$(n.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type),r,u;if(t.call(this,n),n.currentTarget){r=$(n.currentTarget).siblings(".popover"),u=i.timeout;r.one("mouseenter",function(){clearTimeout(u);r.one("mouseleave",function(){$.fn.popover.Constructor.prototype.leave.call(i,i)})})}},n.prototype={buildSubNav:function(){var u=this,n,r,i,t;for(this.Familys=this.dataManager.getFamilyNames(),n=0;n<this.Familys.length;n++)if(this.Familys[n].eCode!="R89"&&this.Familys[n].eCode!="R99"){for(r='<li rel="popover" data-content="" data-original-title=""><a href="'+this.Familys[n].eCode+'" ><div class="model-parent-list-title">'+this.Familys[n].familyName+'<\/div><div class="model-parent-list-img"><img src="/Public/img/content/tire-configurator/model_thumb/'+this.Familys[n].eCode+'/model-selector-icon.png" /><\/div><\/a><\/li>',i="",t=0;t<this.Familys[n].children.length;t++)i+=this.buildChildItem(this.Familys[n].eCode,this.Familys[n].children[t].CACode,this.Familys[n].children[t].Name);$("#models-list ul").append(r),$("#models-list ul li").popover({content:i,html:!0,trigger:"click hover",placement:"left",delay:{show:10,hide:100}})}this.handleMouseEvents()},handleMouseEvents:function(){var n=this;$("#models-list ul li").on("click",function(n){n.preventDefault()});$("#models-list ul li").on("mouseover",function(){n.handleSubNAvEvents()});$("#models-list ul").on("mouseleave",function(){$("#models-list").hide()})},handleSubNAvEvents:function(){var n=this;$(".models-child-nav").off();$(".models-child-nav a").on("click",function(n){n.preventDefault()});$(".models-child-nav").on("click",function(t){t.stopPropagation(),t.preventDefault();var i=$(this).find("a").attr("href"),r=$(this).attr("id");n.root.setECode(r),n.root.setUpTireConfig(i),$("#landing-page").hide(),$("#front-view #view-wheels").html(""),$("#build-modal-title h2").html($(this).find(".model-child-list-title").html()),n.root.updateFrontView(),$("#models-list").hide()})},buildChildItem:function(n,t,i){return'<li id="'+n+'" class="models-child-nav"><a href="'+t+'" ><div class="model-child-list-title">'+i+'<\/div><div class="model-child-list-img"><img src="/Public/img/content/tire-configurator/model_thumb/'+n+"/"+t+'/model-selector-vehicle-icon.png" /><\/div><\/a><\/li>'},getChildCodes:function(n){for(var i=[],t=0;t<this.Familys.length;t++)this.Familys[t].eCode==n&&(i=this.Familys[t].children);return i}},n}()}.call(this)